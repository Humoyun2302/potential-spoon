function hC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bh={exports:{}},ca={},Fh={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function fC(){if(O0)return ht;O0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=g&&T[g]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function k(T,P,L){this.props=T,this.context=P,this.refs=N,this.updater=L||b}k.prototype.isReactComponent={},k.prototype.setState=function(T,P){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,P,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function j(){}j.prototype=k.prototype;function E(T,P,L){this.props=T,this.context=P,this.refs=N,this.updater=L||b}var _=E.prototype=new j;_.constructor=E,S(_,k.prototype),_.isPureReactComponent=!0;var A=Array.isArray,I=Object.prototype.hasOwnProperty,B={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function H(T,P,L){var D,q={},F=null,$=null;if(P!=null)for(D in P.ref!==void 0&&($=P.ref),P.key!==void 0&&(F=""+P.key),P)I.call(P,D)&&!M.hasOwnProperty(D)&&(q[D]=P[D]);var re=arguments.length-2;if(re===1)q.children=L;else if(1<re){for(var Se=Array(re),de=0;de<re;de++)Se[de]=arguments[de+2];q.children=Se}if(T&&T.defaultProps)for(D in re=T.defaultProps,re)q[D]===void 0&&(q[D]=re[D]);return{$$typeof:e,type:T,key:F,ref:$,props:q,_owner:B.current}}function V(T,P){return{$$typeof:e,type:T.type,key:P,ref:T.ref,props:T.props,_owner:T._owner}}function X(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function Z(T){var P={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(L){return P[L]})}var Q=/\/+/g;function ue(T,P){return typeof T=="object"&&T!==null&&T.key!=null?Z(""+T.key):P.toString(36)}function fe(T,P,L,D,q){var F=typeof T;(F==="undefined"||F==="boolean")&&(T=null);var $=!1;if(T===null)$=!0;else switch(F){case"string":case"number":$=!0;break;case"object":switch(T.$$typeof){case e:case t:$=!0}}if($)return $=T,q=q($),T=D===""?"."+ue($,0):D,A(q)?(L="",T!=null&&(L=T.replace(Q,"$&/")+"/"),fe(q,P,L,"",function(de){return de})):q!=null&&(X(q)&&(q=V(q,L+(!q.key||$&&$.key===q.key?"":(""+q.key).replace(Q,"$&/")+"/")+T)),P.push(q)),1;if($=0,D=D===""?".":D+":",A(T))for(var re=0;re<T.length;re++){F=T[re];var Se=D+ue(F,re);$+=fe(F,P,L,Se,q)}else if(Se=v(T),typeof Se=="function")for(T=Se.call(T),re=0;!(F=T.next()).done;)F=F.value,Se=D+ue(F,re++),$+=fe(F,P,L,Se,q);else if(F==="object")throw P=String(T),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return $}function be(T,P,L){if(T==null)return T;var D=[],q=0;return fe(T,D,"","",function(F){return P.call(L,F,q++)}),D}function ie(T){if(T._status===-1){var P=T._result;P=P(),P.then(function(L){(T._status===0||T._status===-1)&&(T._status=1,T._result=L)},function(L){(T._status===0||T._status===-1)&&(T._status=2,T._result=L)}),T._status===-1&&(T._status=0,T._result=P)}if(T._status===1)return T._result.default;throw T._result}var le={current:null},G={transition:null},U={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:G,ReactCurrentOwner:B};function R(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:be,forEach:function(T,P,L){be(T,function(){P.apply(this,arguments)},L)},count:function(T){var P=0;return be(T,function(){P++}),P},toArray:function(T){return be(T,function(P){return P})||[]},only:function(T){if(!X(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ht.Component=k,ht.Fragment=r,ht.Profiler=a,ht.PureComponent=E,ht.StrictMode=n,ht.Suspense=h,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,ht.act=R,ht.cloneElement=function(T,P,L){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var D=S({},T.props),q=T.key,F=T.ref,$=T._owner;if(P!=null){if(P.ref!==void 0&&(F=P.ref,$=B.current),P.key!==void 0&&(q=""+P.key),T.type&&T.type.defaultProps)var re=T.type.defaultProps;for(Se in P)I.call(P,Se)&&!M.hasOwnProperty(Se)&&(D[Se]=P[Se]===void 0&&re!==void 0?re[Se]:P[Se])}var Se=arguments.length-2;if(Se===1)D.children=L;else if(1<Se){re=Array(Se);for(var de=0;de<Se;de++)re[de]=arguments[de+2];D.children=re}return{$$typeof:e,type:T.type,key:q,ref:F,props:D,_owner:$}},ht.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},ht.createElement=H,ht.createFactory=function(T){var P=H.bind(null,T);return P.type=T,P},ht.createRef=function(){return{current:null}},ht.forwardRef=function(T){return{$$typeof:u,render:T}},ht.isValidElement=X,ht.lazy=function(T){return{$$typeof:p,_payload:{_status:-1,_result:T},_init:ie}},ht.memo=function(T,P){return{$$typeof:f,type:T,compare:P===void 0?null:P}},ht.startTransition=function(T){var P=G.transition;G.transition={};try{T()}finally{G.transition=P}},ht.unstable_act=R,ht.useCallback=function(T,P){return le.current.useCallback(T,P)},ht.useContext=function(T){return le.current.useContext(T)},ht.useDebugValue=function(){},ht.useDeferredValue=function(T){return le.current.useDeferredValue(T)},ht.useEffect=function(T,P){return le.current.useEffect(T,P)},ht.useId=function(){return le.current.useId()},ht.useImperativeHandle=function(T,P,L){return le.current.useImperativeHandle(T,P,L)},ht.useInsertionEffect=function(T,P){return le.current.useInsertionEffect(T,P)},ht.useLayoutEffect=function(T,P){return le.current.useLayoutEffect(T,P)},ht.useMemo=function(T,P){return le.current.useMemo(T,P)},ht.useReducer=function(T,P,L){return le.current.useReducer(T,P,L)},ht.useRef=function(T){return le.current.useRef(T)},ht.useState=function(T){return le.current.useState(T)},ht.useSyncExternalStore=function(T,P,L){return le.current.useSyncExternalStore(T,P,L)},ht.useTransition=function(){return le.current.useTransition()},ht.version="18.3.1",ht}var M0;function bu(){return M0||(M0=1,Fh.exports=fC()),Fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function mC(){if(L0)return ca;L0=1;var e=bu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,f){var p,g={},v=null,b=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(b=h.ref);for(p in h)n.call(h,p)&&!l.hasOwnProperty(p)&&(g[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)g[p]===void 0&&(g[p]=h[p]);return{$$typeof:t,type:u,key:v,ref:b,props:g,_owner:a.current}}return ca.Fragment=r,ca.jsx=c,ca.jsxs=c,ca}var B0;function pC(){return B0||(B0=1,Bh.exports=mC()),Bh.exports}var o=pC(),y=bu();const ke=Mm(y),Lm=hC({__proto__:null,default:ke},[y]);var gc={},Uh={exports:{}},Ar={},$h={exports:{}},zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function gC(){return F0||(F0=1,(function(e){function t(G,U){var R=G.length;G.push(U);e:for(;0<R;){var T=R-1>>>1,P=G[T];if(0<a(P,U))G[T]=U,G[R]=P,R=T;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var U=G[0],R=G.pop();if(R!==U){G[0]=R;e:for(var T=0,P=G.length,L=P>>>1;T<L;){var D=2*(T+1)-1,q=G[D],F=D+1,$=G[F];if(0>a(q,R))F<P&&0>a($,q)?(G[T]=$,G[F]=R,T=F):(G[T]=q,G[D]=R,T=D);else if(F<P&&0>a($,R))G[T]=$,G[F]=R,T=F;else break e}}return U}function a(G,U){var R=G.sortIndex-U.sortIndex;return R!==0?R:G.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],p=1,g=null,v=3,b=!1,S=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var U=r(f);U!==null;){if(U.callback===null)n(f);else if(U.startTime<=G)n(f),U.sortIndex=U.expirationTime,t(h,U);else break;U=r(f)}}function A(G){if(N=!1,_(G),!S)if(r(h)!==null)S=!0,ie(I);else{var U=r(f);U!==null&&le(A,U.startTime-G)}}function I(G,U){S=!1,N&&(N=!1,j(H),H=-1),b=!0;var R=v;try{for(_(U),g=r(h);g!==null&&(!(g.expirationTime>U)||G&&!Z());){var T=g.callback;if(typeof T=="function"){g.callback=null,v=g.priorityLevel;var P=T(g.expirationTime<=U);U=e.unstable_now(),typeof P=="function"?g.callback=P:g===r(h)&&n(h),_(U)}else n(h);g=r(h)}if(g!==null)var L=!0;else{var D=r(f);D!==null&&le(A,D.startTime-U),L=!1}return L}finally{g=null,v=R,b=!1}}var B=!1,M=null,H=-1,V=5,X=-1;function Z(){return!(e.unstable_now()-X<V)}function Q(){if(M!==null){var G=e.unstable_now();X=G;var U=!0;try{U=M(!0,G)}finally{U?ue():(B=!1,M=null)}}else B=!1}var ue;if(typeof E=="function")ue=function(){E(Q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,be=fe.port2;fe.port1.onmessage=Q,ue=function(){be.postMessage(null)}}else ue=function(){k(Q,0)};function ie(G){M=G,B||(B=!0,ue())}function le(G,U){H=k(function(){G(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,ie(I))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(G){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var R=v;v=U;try{return G()}finally{v=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,U){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var R=v;v=G;try{return U()}finally{v=R}},e.unstable_scheduleCallback=function(G,U,R){var T=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?T+R:T):R=T,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=R+P,G={id:p++,callback:U,priorityLevel:G,startTime:R,expirationTime:P,sortIndex:-1},R>T?(G.sortIndex=R,t(f,G),r(h)===null&&G===r(f)&&(N?(j(H),H=-1):N=!0,le(A,R-T))):(G.sortIndex=P,t(h,G),S||b||(S=!0,ie(I))),G},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(G){var U=v;return function(){var R=v;v=U;try{return G.apply(this,arguments)}finally{v=R}}}})(zh)),zh}var U0;function yC(){return U0||(U0=1,$h.exports=gC()),$h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function vC(){if($0)return Ar;$0=1;var e=bu(),t=yC();function r(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function l(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(a[s]=i,s=0;s<i.length;s++)n.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(s){return h.call(g,s)?!0:h.call(p,s)?!1:f.test(s)?g[s]=!0:(p[s]=!0,!1)}function b(s,i,d,m){if(d!==null&&d.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,i,d,m){if(i===null||typeof i>"u"||b(s,i,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(s,i,d,m,x,w,C){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new N(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(j,E);k[i]=new N(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(j,E);k[i]=new N(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(j,E);k[i]=new N(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function _(s,i,d,m){var x=k.hasOwnProperty(i)?k[i]:null;(x!==null?x.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,d,x,m)&&(d=null),m||x===null?v(i)&&(d===null?s.removeAttribute(i):s.setAttribute(i,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(i=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(i):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,i,d):s.setAttribute(i,d))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),B=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),G=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,T;function P(s){if(T===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);T=i&&i[1]||""}return`
`+T+s}var L=!1;function D(s,i){if(!s||L)return"";L=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ae){var m=ae}Reflect.construct(s,[],i)}else{try{i.call()}catch(ae){m=ae}s.call(i.prototype)}else{try{throw Error()}catch(ae){m=ae}s()}}catch(ae){if(ae&&m&&typeof ae.stack=="string"){for(var x=ae.stack.split(`
`),w=m.stack.split(`
`),C=x.length-1,O=w.length-1;1<=C&&0<=O&&x[C]!==w[O];)O--;for(;1<=C&&0<=O;C--,O--)if(x[C]!==w[O]){if(C!==1||O!==1)do if(C--,O--,0>O||x[C]!==w[O]){var z=`
`+x[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=O);break}}}finally{L=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?P(s):""}function q(s){switch(s.tag){case 5:return P(s.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return s=D(s.type,!1),s;case 11:return s=D(s.type.render,!1),s;case 1:return s=D(s.type,!0),s;default:return""}}function F(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case B:return"Portal";case V:return"Profiler";case H:return"StrictMode";case ue:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Z:return(s.displayName||"Context")+".Consumer";case X:return(s._context.displayName||"Context")+".Provider";case Q:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return i=s.displayName||null,i!==null?i:F(s.type)||"Memo";case ie:i=s._payload,s=s._init;try{return F(s(i))}catch{}}return null}function $(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(i);case 8:return i===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Se(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function de(s){var i=Se(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),m=""+s[i];if(!s.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,w=d.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return x.call(this)},set:function(C){m=""+C,w.call(this,C)}}),Object.defineProperty(s,i,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function W(s){s._valueTracker||(s._valueTracker=de(s))}function J(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var d=i.getValue(),m="";return s&&(m=Se(s)?s.checked?"true":"false":s.value),s=m,s!==d?(i.setValue(s),!0):!1}function Ce(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Oe(s,i){var d=i.checked;return R({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Re(s,i){var d=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;d=re(i.value!=null?i.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ot(s,i){i=i.checked,i!=null&&_(s,"checked",i,!1)}function ft(s,i){ot(s,i);var d=re(i.value),m=i.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?lt(s,i.type,d):i.hasOwnProperty("defaultValue")&&lt(s,i.type,re(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Nt(s,i,d){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,d||i===s.value||(s.value=i),s.defaultValue=i}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function lt(s,i,d){(i!=="number"||Ce(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var ve=Array.isArray;function Ae(s,i,d,m){if(s=s.options,i){i={};for(var x=0;x<d.length;x++)i["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=i.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+re(d),i=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}i!==null||s[x].disabled||(i=s[x])}i!==null&&(i.selected=!0)}}function Ie(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return R({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Te(s,i){var d=i.value;if(d==null){if(d=i.children,i=i.defaultValue,d!=null){if(i!=null)throw Error(r(92));if(ve(d)){if(1<d.length)throw Error(r(93));d=d[0]}i=d}i==null&&(i=""),d=i}s._wrapperState={initialValue:re(d)}}function ce(s,i){var d=re(i.value),m=re(i.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),i.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function xe(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function je(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?je(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var et,oe=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(i,d,m,x)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=et.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ne(s,i){if(i){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=i;return}}s.textContent=i}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];Object.keys(he).forEach(function(s){me.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),he[i]=he[s]})});function _e(s,i,d){return i==null||typeof i=="boolean"||i===""?"":d||typeof i!="number"||i===0||he.hasOwnProperty(s)&&he[s]?(""+i).trim():i+"px"}function Le(s,i){s=s.style;for(var d in i)if(i.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=_e(d,i[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var He=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(s,i){if(i){if(He[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Ve(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ze=null;function ct(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var vt=null,Ge=null,Ct=null;function xt(s){if(s=Gi(s)){if(typeof vt!="function")throw Error(r(280));var i=s.stateNode;i&&(i=Al(i),vt(s.stateNode,s.type,i))}}function $e(s){Ge?Ct?Ct.push(s):Ct=[s]:Ge=s}function bt(){if(Ge){var s=Ge,i=Ct;if(Ct=Ge=null,xt(s),i)for(s=0;s<i.length;s++)xt(i[s])}}function Et(s,i){return s(i)}function nr(){}var en=!1;function Mt(s,i,d){if(en)return s(i,d);en=!0;try{return Et(s,i,d)}finally{en=!1,(Ge!==null||Ct!==null)&&(nr(),bt())}}function qt(s,i){var d=s.stateNode;if(d===null)return null;var m=Al(d);if(m===null)return null;d=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,i,typeof d));return d}var tn=!1;if(u)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){tn=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{tn=!1}function xr(s,i,d,m,x,w,C,O,z){var ae=Array.prototype.slice.call(arguments,3);try{i.apply(d,ae)}catch(ye){this.onError(ye)}}var bn=!1,jr=null,bo=!1,nd=null,xj={onError:function(s){bn=!0,jr=s}};function bj(s,i,d,m,x,w,C,O,z){bn=!1,jr=null,xr.apply(xj,arguments)}function wj(s,i,d,m,x,w,C,O,z){if(bj.apply(this,arguments),bn){if(bn){var ae=jr;bn=!1,jr=null}else throw Error(r(198));bo||(bo=!0,nd=ae)}}function Us(s){var i=s,d=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(d=i.return),s=i.return;while(s)}return i.tag===3?d:null}function sg(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function og(s){if(Us(s)!==s)throw Error(r(188))}function Sj(s){var i=s.alternate;if(!i){if(i=Us(s),i===null)throw Error(r(188));return i!==s?null:s}for(var d=s,m=i;;){var x=d.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===d)return og(x),s;if(w===m)return og(x),i;w=w.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=w;else{for(var C=!1,O=x.child;O;){if(O===d){C=!0,d=x,m=w;break}if(O===m){C=!0,m=x,d=w;break}O=O.sibling}if(!C){for(O=w.child;O;){if(O===d){C=!0,d=w,m=x;break}if(O===m){C=!0,m=w,d=x;break}O=O.sibling}if(!C)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:i}function ig(s){return s=Sj(s),s!==null?ag(s):null}function ag(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=ag(s);if(i!==null)return i;s=s.sibling}return null}var lg=t.unstable_scheduleCallback,cg=t.unstable_cancelCallback,kj=t.unstable_shouldYield,Nj=t.unstable_requestPaint,Ht=t.unstable_now,jj=t.unstable_getCurrentPriorityLevel,sd=t.unstable_ImmediatePriority,ug=t.unstable_UserBlockingPriority,dl=t.unstable_NormalPriority,_j=t.unstable_LowPriority,dg=t.unstable_IdlePriority,hl=null,wn=null;function Cj(s){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(hl,s,void 0,(s.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Pj,Ej=Math.log,Tj=Math.LN2;function Pj(s){return s>>>=0,s===0?32:31-(Ej(s)/Tj|0)|0}var fl=64,ml=4194304;function Pi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function pl(s,i){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,w=s.pingedLanes,C=d&268435455;if(C!==0){var O=C&~x;O!==0?m=Pi(O):(w&=C,w!==0&&(m=Pi(w)))}else C=d&~x,C!==0?m=Pi(C):w!==0&&(m=Pi(w));if(m===0)return 0;if(i!==0&&i!==m&&(i&x)===0&&(x=m&-m,w=i&-i,x>=w||x===16&&(w&4194240)!==0))return i;if((m&4)!==0&&(m|=d&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=m;0<i;)d=31-rn(i),x=1<<d,m|=s[d],i&=~x;return m}function Aj(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rj(s,i){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,w=s.pendingLanes;0<w;){var C=31-rn(w),O=1<<C,z=x[C];z===-1?((O&d)===0||(O&m)!==0)&&(x[C]=Aj(O,i)):z<=i&&(s.expiredLanes|=O),w&=~O}}function od(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function hg(){var s=fl;return fl<<=1,(fl&4194240)===0&&(fl=64),s}function id(s){for(var i=[],d=0;31>d;d++)i.push(s);return i}function Ai(s,i,d){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-rn(i),s[i]=d}function Ij(s,i){var d=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-rn(d),w=1<<x;i[x]=0,m[x]=-1,s[x]=-1,d&=~w}}function ad(s,i){var d=s.entangledLanes|=i;for(s=s.entanglements;d;){var m=31-rn(d),x=1<<m;x&i|s[m]&i&&(s[m]|=i),d&=~x}}var _t=0;function fg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var mg,ld,pg,gg,yg,cd=!1,gl=[],ns=null,ss=null,os=null,Ri=new Map,Ii=new Map,is=[],Dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vg(s,i){switch(s){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Ri.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(i.pointerId)}}function Di(s,i,d,m,x,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},i!==null&&(i=Gi(i),i!==null&&ld(i)),s):(s.eventSystemFlags|=m,i=s.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),s)}function Oj(s,i,d,m,x){switch(i){case"focusin":return ns=Di(ns,s,i,d,m,x),!0;case"dragenter":return ss=Di(ss,s,i,d,m,x),!0;case"mouseover":return os=Di(os,s,i,d,m,x),!0;case"pointerover":var w=x.pointerId;return Ri.set(w,Di(Ri.get(w)||null,s,i,d,m,x)),!0;case"gotpointercapture":return w=x.pointerId,Ii.set(w,Di(Ii.get(w)||null,s,i,d,m,x)),!0}return!1}function xg(s){var i=$s(s.target);if(i!==null){var d=Us(i);if(d!==null){if(i=d.tag,i===13){if(i=sg(d),i!==null){s.blockedOn=i,yg(s.priority,function(){pg(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yl(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var d=dd(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Ze=m,d.target.dispatchEvent(m),Ze=null}else return i=Gi(d),i!==null&&ld(i),s.blockedOn=d,!1;i.shift()}return!0}function bg(s,i,d){yl(s)&&d.delete(i)}function Mj(){cd=!1,ns!==null&&yl(ns)&&(ns=null),ss!==null&&yl(ss)&&(ss=null),os!==null&&yl(os)&&(os=null),Ri.forEach(bg),Ii.forEach(bg)}function Oi(s,i){s.blockedOn===i&&(s.blockedOn=null,cd||(cd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mj)))}function Mi(s){function i(x){return Oi(x,s)}if(0<gl.length){Oi(gl[0],s);for(var d=1;d<gl.length;d++){var m=gl[d];m.blockedOn===s&&(m.blockedOn=null)}}for(ns!==null&&Oi(ns,s),ss!==null&&Oi(ss,s),os!==null&&Oi(os,s),Ri.forEach(i),Ii.forEach(i),d=0;d<is.length;d++)m=is[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<is.length&&(d=is[0],d.blockedOn===null);)xg(d),d.blockedOn===null&&is.shift()}var wo=A.ReactCurrentBatchConfig,vl=!0;function Lj(s,i,d,m){var x=_t,w=wo.transition;wo.transition=null;try{_t=1,ud(s,i,d,m)}finally{_t=x,wo.transition=w}}function Bj(s,i,d,m){var x=_t,w=wo.transition;wo.transition=null;try{_t=4,ud(s,i,d,m)}finally{_t=x,wo.transition=w}}function ud(s,i,d,m){if(vl){var x=dd(s,i,d,m);if(x===null)Ed(s,i,m,xl,d),vg(s,m);else if(Oj(x,s,i,d,m))m.stopPropagation();else if(vg(s,m),i&4&&-1<Dj.indexOf(s)){for(;x!==null;){var w=Gi(x);if(w!==null&&mg(w),w=dd(s,i,d,m),w===null&&Ed(s,i,m,xl,d),w===x)break;x=w}x!==null&&m.stopPropagation()}else Ed(s,i,m,null,d)}}var xl=null;function dd(s,i,d,m){if(xl=null,s=ct(m),s=$s(s),s!==null)if(i=Us(s),i===null)s=null;else if(d=i.tag,d===13){if(s=sg(i),s!==null)return s;s=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return xl=s,null}function wg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jj()){case sd:return 1;case ug:return 4;case dl:case _j:return 16;case dg:return 536870912;default:return 16}default:return 16}}var as=null,hd=null,bl=null;function Sg(){if(bl)return bl;var s,i=hd,d=i.length,m,x="value"in as?as.value:as.textContent,w=x.length;for(s=0;s<d&&i[s]===x[s];s++);var C=d-s;for(m=1;m<=C&&i[d-m]===x[w-m];m++);return bl=x.slice(s,1<m?1-m:void 0)}function wl(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Sl(){return!0}function kg(){return!1}function Dr(s){function i(d,m,x,w,C){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(d=s[O],this[O]=d?d(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Sl:kg,this.isPropagationStopped=kg,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),i}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=Dr(So),Li=R({},So,{view:0,detail:0}),Fj=Dr(Li),md,pd,Bi,kl=R({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bi&&(Bi&&s.type==="mousemove"?(md=s.screenX-Bi.screenX,pd=s.screenY-Bi.screenY):pd=md=0,Bi=s),md)},movementY:function(s){return"movementY"in s?s.movementY:pd}}),Ng=Dr(kl),Uj=R({},kl,{dataTransfer:0}),$j=Dr(Uj),zj=R({},Li,{relatedTarget:0}),gd=Dr(zj),Vj=R({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),qj=Dr(Vj),Hj=R({},So,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wj=Dr(Hj),Kj=R({},So,{data:0}),jg=Dr(Kj),Gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jj(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Xj[s])?!!i[s]:!1}function yd(){return Jj}var Qj=R({},Li,{key:function(s){if(s.key){var i=Gj[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=wl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yj[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(s){return s.type==="keypress"?wl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zj=Dr(Qj),e_=R({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_g=Dr(e_),t_=R({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),r_=Dr(t_),n_=R({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),s_=Dr(n_),o_=R({},kl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),i_=Dr(o_),a_=[9,13,27,32],vd=u&&"CompositionEvent"in window,Fi=null;u&&"documentMode"in document&&(Fi=document.documentMode);var l_=u&&"TextEvent"in window&&!Fi,Cg=u&&(!vd||Fi&&8<Fi&&11>=Fi),Eg=" ",Tg=!1;function Pg(s,i){switch(s){case"keyup":return a_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ko=!1;function c_(s,i){switch(s){case"compositionend":return Ag(i);case"keypress":return i.which!==32?null:(Tg=!0,Eg);case"textInput":return s=i.data,s===Eg&&Tg?null:s;default:return null}}function u_(s,i){if(ko)return s==="compositionend"||!vd&&Pg(s,i)?(s=Sg(),bl=hd=as=null,ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Cg&&i.locale!=="ko"?null:i.data;default:return null}}var d_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!d_[s.type]:i==="textarea"}function Ig(s,i,d,m){$e(m),i=El(i,"onChange"),0<i.length&&(d=new fd("onChange","change",null,d,m),s.push({event:d,listeners:i}))}var Ui=null,$i=null;function h_(s){Jg(s,0)}function Nl(s){var i=Eo(s);if(J(i))return s}function f_(s,i){if(s==="change")return i}var Dg=!1;if(u){var xd;if(u){var bd="oninput"in document;if(!bd){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),bd=typeof Og.oninput=="function"}xd=bd}else xd=!1;Dg=xd&&(!document.documentMode||9<document.documentMode)}function Mg(){Ui&&(Ui.detachEvent("onpropertychange",Lg),$i=Ui=null)}function Lg(s){if(s.propertyName==="value"&&Nl($i)){var i=[];Ig(i,$i,s,ct(s)),Mt(h_,i)}}function m_(s,i,d){s==="focusin"?(Mg(),Ui=i,$i=d,Ui.attachEvent("onpropertychange",Lg)):s==="focusout"&&Mg()}function p_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nl($i)}function g_(s,i){if(s==="click")return Nl(i)}function y_(s,i){if(s==="input"||s==="change")return Nl(i)}function v_(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var nn=typeof Object.is=="function"?Object.is:v_;function zi(s,i){if(nn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var d=Object.keys(s),m=Object.keys(i);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!h.call(i,x)||!nn(s[x],i[x]))return!1}return!0}function Bg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Fg(s,i){var d=Bg(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=i&&m>=i)return{node:d,offset:i-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Bg(d)}}function Ug(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ug(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function $g(){for(var s=window,i=Ce();i instanceof s.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)s=i.contentWindow;else break;i=Ce(s.document)}return i}function wd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function x_(s){var i=$g(),d=s.focusedElem,m=s.selectionRange;if(i!==d&&d&&d.ownerDocument&&Ug(d.ownerDocument.documentElement,d)){if(m!==null&&wd(d)){if(i=m.start,s=m.end,s===void 0&&(s=i),"selectionStart"in d)d.selectionStart=i,d.selectionEnd=Math.min(s,d.value.length);else if(s=(i=d.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,w=Math.min(m.start,x);m=m.end===void 0?w:Math.min(m.end,x),!s.extend&&w>m&&(x=m,m=w,w=x),x=Fg(d,w);var C=Fg(d,m);x&&C&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),s.removeAllRanges(),w>m?(s.addRange(i),s.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),s.addRange(i)))}}for(i=[],s=d;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<i.length;d++)s=i[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var b_=u&&"documentMode"in document&&11>=document.documentMode,No=null,Sd=null,Vi=null,kd=!1;function zg(s,i,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;kd||No==null||No!==Ce(m)||(m=No,"selectionStart"in m&&wd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Vi&&zi(Vi,m)||(Vi=m,m=El(Sd,"onSelect"),0<m.length&&(i=new fd("onSelect","select",null,i,d),s.push({event:i,listeners:m}),i.target=No)))}function jl(s,i){var d={};return d[s.toLowerCase()]=i.toLowerCase(),d["Webkit"+s]="webkit"+i,d["Moz"+s]="moz"+i,d}var jo={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},Nd={},Vg={};u&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function _l(s){if(Nd[s])return Nd[s];if(!jo[s])return s;var i=jo[s],d;for(d in i)if(i.hasOwnProperty(d)&&d in Vg)return Nd[s]=i[d];return s}var qg=_l("animationend"),Hg=_l("animationiteration"),Wg=_l("animationstart"),Kg=_l("transitionend"),Gg=new Map,Yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(s,i){Gg.set(s,i),l(i,[s])}for(var jd=0;jd<Yg.length;jd++){var _d=Yg[jd],w_=_d.toLowerCase(),S_=_d[0].toUpperCase()+_d.slice(1);ls(w_,"on"+S_)}ls(qg,"onAnimationEnd"),ls(Hg,"onAnimationIteration"),ls(Wg,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(Kg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function Xg(s,i,d){var m=s.type||"unknown-event";s.currentTarget=d,wj(m,i,void 0,s),s.currentTarget=null}function Jg(s,i){i=(i&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var w=void 0;if(i)for(var C=m.length-1;0<=C;C--){var O=m[C],z=O.instance,ae=O.currentTarget;if(O=O.listener,z!==w&&x.isPropagationStopped())break e;Xg(x,O,ae),w=z}else for(C=0;C<m.length;C++){if(O=m[C],z=O.instance,ae=O.currentTarget,O=O.listener,z!==w&&x.isPropagationStopped())break e;Xg(x,O,ae),w=z}}}if(bo)throw s=nd,bo=!1,nd=null,s}function Rt(s,i){var d=i[Dd];d===void 0&&(d=i[Dd]=new Set);var m=s+"__bubble";d.has(m)||(Qg(i,s,2,!1),d.add(m))}function Cd(s,i,d){var m=0;i&&(m|=4),Qg(d,s,m,i)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Hi(s){if(!s[Cl]){s[Cl]=!0,n.forEach(function(d){d!=="selectionchange"&&(k_.has(d)||Cd(d,!1,s),Cd(d,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Cl]||(i[Cl]=!0,Cd("selectionchange",!1,i))}}function Qg(s,i,d,m){switch(wg(i)){case 1:var x=Lj;break;case 4:x=Bj;break;default:x=ud}d=x.bind(null,i,d,s),x=void 0,!tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(i,d,{capture:!0,passive:x}):s.addEventListener(i,d,!0):x!==void 0?s.addEventListener(i,d,{passive:x}):s.addEventListener(i,d,!1)}function Ed(s,i,d,m,x){var w=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var O=m.stateNode.containerInfo;if(O===x||O.nodeType===8&&O.parentNode===x)break;if(C===4)for(C=m.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===x||z.nodeType===8&&z.parentNode===x))return;C=C.return}for(;O!==null;){if(C=$s(O),C===null)return;if(z=C.tag,z===5||z===6){m=w=C;continue e}O=O.parentNode}}m=m.return}Mt(function(){var ae=w,ye=ct(d),we=[];e:{var ge=Gg.get(s);if(ge!==void 0){var De=fd,Be=s;switch(s){case"keypress":if(wl(d)===0)break e;case"keydown":case"keyup":De=Zj;break;case"focusin":Be="focus",De=gd;break;case"focusout":Be="blur",De=gd;break;case"beforeblur":case"afterblur":De=gd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=$j;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=r_;break;case qg:case Hg:case Wg:De=qj;break;case Kg:De=s_;break;case"scroll":De=Fj;break;case"wheel":De=i_;break;case"copy":case"cut":case"paste":De=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=_g}var Ue=(i&4)!==0,Wt=!Ue&&s==="scroll",te=Ue?ge!==null?ge+"Capture":null:ge;Ue=[];for(var Y=ae,se;Y!==null;){se=Y;var Ne=se.stateNode;if(se.tag===5&&Ne!==null&&(se=Ne,te!==null&&(Ne=qt(Y,te),Ne!=null&&Ue.push(Wi(Y,Ne,se)))),Wt)break;Y=Y.return}0<Ue.length&&(ge=new De(ge,Be,null,d,ye),we.push({event:ge,listeners:Ue}))}}if((i&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",De=s==="mouseout"||s==="pointerout",ge&&d!==Ze&&(Be=d.relatedTarget||d.fromElement)&&($s(Be)||Be[Bn]))break e;if((De||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,De?(Be=d.relatedTarget||d.toElement,De=ae,Be=Be?$s(Be):null,Be!==null&&(Wt=Us(Be),Be!==Wt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(De=null,Be=ae),De!==Be)){if(Ue=Ng,Ne="onMouseLeave",te="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=_g,Ne="onPointerLeave",te="onPointerEnter",Y="pointer"),Wt=De==null?ge:Eo(De),se=Be==null?ge:Eo(Be),ge=new Ue(Ne,Y+"leave",De,d,ye),ge.target=Wt,ge.relatedTarget=se,Ne=null,$s(ye)===ae&&(Ue=new Ue(te,Y+"enter",Be,d,ye),Ue.target=se,Ue.relatedTarget=Wt,Ne=Ue),Wt=Ne,De&&Be)t:{for(Ue=De,te=Be,Y=0,se=Ue;se;se=_o(se))Y++;for(se=0,Ne=te;Ne;Ne=_o(Ne))se++;for(;0<Y-se;)Ue=_o(Ue),Y--;for(;0<se-Y;)te=_o(te),se--;for(;Y--;){if(Ue===te||te!==null&&Ue===te.alternate)break t;Ue=_o(Ue),te=_o(te)}Ue=null}else Ue=null;De!==null&&Zg(we,ge,De,Ue,!1),Be!==null&&Wt!==null&&Zg(we,Wt,Be,Ue,!0)}}e:{if(ge=ae?Eo(ae):window,De=ge.nodeName&&ge.nodeName.toLowerCase(),De==="select"||De==="input"&&ge.type==="file")var ze=f_;else if(Rg(ge))if(Dg)ze=y_;else{ze=p_;var Je=m_}else(De=ge.nodeName)&&De.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(ze=g_);if(ze&&(ze=ze(s,ae))){Ig(we,ze,d,ye);break e}Je&&Je(s,ge,ae),s==="focusout"&&(Je=ge._wrapperState)&&Je.controlled&&ge.type==="number"&&lt(ge,"number",ge.value)}switch(Je=ae?Eo(ae):window,s){case"focusin":(Rg(Je)||Je.contentEditable==="true")&&(No=Je,Sd=ae,Vi=null);break;case"focusout":Vi=Sd=No=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,zg(we,d,ye);break;case"selectionchange":if(b_)break;case"keydown":case"keyup":zg(we,d,ye)}var Qe;if(vd)e:{switch(s){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ko?Pg(s,d)&&(st="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(st="onCompositionStart");st&&(Cg&&d.locale!=="ko"&&(ko||st!=="onCompositionStart"?st==="onCompositionEnd"&&ko&&(Qe=Sg()):(as=ye,hd="value"in as?as.value:as.textContent,ko=!0)),Je=El(ae,st),0<Je.length&&(st=new jg(st,s,null,d,ye),we.push({event:st,listeners:Je}),Qe?st.data=Qe:(Qe=Ag(d),Qe!==null&&(st.data=Qe)))),(Qe=l_?c_(s,d):u_(s,d))&&(ae=El(ae,"onBeforeInput"),0<ae.length&&(ye=new jg("onBeforeInput","beforeinput",null,d,ye),we.push({event:ye,listeners:ae}),ye.data=Qe))}Jg(we,i)})}function Wi(s,i,d){return{instance:s,listener:i,currentTarget:d}}function El(s,i){for(var d=i+"Capture",m=[];s!==null;){var x=s,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=qt(s,d),w!=null&&m.unshift(Wi(s,w,x)),w=qt(s,i),w!=null&&m.push(Wi(s,w,x))),s=s.return}return m}function _o(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Zg(s,i,d,m,x){for(var w=i._reactName,C=[];d!==null&&d!==m;){var O=d,z=O.alternate,ae=O.stateNode;if(z!==null&&z===m)break;O.tag===5&&ae!==null&&(O=ae,x?(z=qt(d,w),z!=null&&C.unshift(Wi(d,z,O))):x||(z=qt(d,w),z!=null&&C.push(Wi(d,z,O)))),d=d.return}C.length!==0&&s.push({event:i,listeners:C})}var N_=/\r\n?/g,j_=/\u0000|\uFFFD/g;function ey(s){return(typeof s=="string"?s:""+s).replace(N_,`
`).replace(j_,"")}function Tl(s,i,d){if(i=ey(i),ey(s)!==i&&d)throw Error(r(425))}function Pl(){}var Td=null,Pd=null;function Ad(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=typeof setTimeout=="function"?setTimeout:void 0,__=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,C_=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(s){return ty.resolve(null).then(s).catch(E_)}:Rd;function E_(s){setTimeout(function(){throw s})}function Id(s,i){var d=i,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),Mi(i);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);Mi(i)}function cs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function ry(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return s;i--}else d==="/$"&&i++}s=s.previousSibling}return null}var Co=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Co,Ki="__reactProps$"+Co,Bn="__reactContainer$"+Co,Dd="__reactEvents$"+Co,T_="__reactListeners$"+Co,P_="__reactHandles$"+Co;function $s(s){var i=s[Sn];if(i)return i;for(var d=s.parentNode;d;){if(i=d[Bn]||d[Sn]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(s=ry(s);s!==null;){if(d=s[Sn])return d;s=ry(s)}return i}s=d,d=s.parentNode}return null}function Gi(s){return s=s[Sn]||s[Bn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Eo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Al(s){return s[Ki]||null}var Od=[],To=-1;function us(s){return{current:s}}function It(s){0>To||(s.current=Od[To],Od[To]=null,To--)}function Tt(s,i){To++,Od[To]=s.current,s.current=i}var ds={},fr=us(ds),_r=us(!1),zs=ds;function Po(s,i){var d=s.type.contextTypes;if(!d)return ds;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in d)x[w]=i[w];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=x),x}function Cr(s){return s=s.childContextTypes,s!=null}function Rl(){It(_r),It(fr)}function ny(s,i,d){if(fr.current!==ds)throw Error(r(168));Tt(fr,i),Tt(_r,d)}function sy(s,i,d){var m=s.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in i))throw Error(r(108,$(s)||"Unknown",x));return R({},d,m)}function Il(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ds,zs=fr.current,Tt(fr,s),Tt(_r,_r.current),!0}function oy(s,i,d){var m=s.stateNode;if(!m)throw Error(r(169));d?(s=sy(s,i,zs),m.__reactInternalMemoizedMergedChildContext=s,It(_r),It(fr),Tt(fr,s)):It(_r),Tt(_r,d)}var Fn=null,Dl=!1,Md=!1;function iy(s){Fn===null?Fn=[s]:Fn.push(s)}function A_(s){Dl=!0,iy(s)}function hs(){if(!Md&&Fn!==null){Md=!0;var s=0,i=_t;try{var d=Fn;for(_t=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}Fn=null,Dl=!1}catch(x){throw Fn!==null&&(Fn=Fn.slice(s+1)),lg(sd,hs),x}finally{_t=i,Md=!1}}return null}var Ao=[],Ro=0,Ol=null,Ml=0,qr=[],Hr=0,Vs=null,Un=1,$n="";function qs(s,i){Ao[Ro++]=Ml,Ao[Ro++]=Ol,Ol=s,Ml=i}function ay(s,i,d){qr[Hr++]=Un,qr[Hr++]=$n,qr[Hr++]=Vs,Vs=s;var m=Un;s=$n;var x=32-rn(m)-1;m&=~(1<<x),d+=1;var w=32-rn(i)+x;if(30<w){var C=x-x%5;w=(m&(1<<C)-1).toString(32),m>>=C,x-=C,Un=1<<32-rn(i)+x|d<<x|m,$n=w+s}else Un=1<<w|d<<x|m,$n=s}function Ld(s){s.return!==null&&(qs(s,1),ay(s,1,0))}function Bd(s){for(;s===Ol;)Ol=Ao[--Ro],Ao[Ro]=null,Ml=Ao[--Ro],Ao[Ro]=null;for(;s===Vs;)Vs=qr[--Hr],qr[Hr]=null,$n=qr[--Hr],qr[Hr]=null,Un=qr[--Hr],qr[Hr]=null}var Or=null,Mr=null,Ot=!1,sn=null;function ly(s,i){var d=Yr(5,null,null,0);d.elementType="DELETED",d.stateNode=i,d.return=s,i=s.deletions,i===null?(s.deletions=[d],s.flags|=16):i.push(d)}function cy(s,i){switch(s.tag){case 5:var d=s.type;return i=i.nodeType!==1||d.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Or=s,Mr=cs(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Or=s,Mr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(d=Vs!==null?{id:Un,overflow:$n}:null,s.memoizedState={dehydrated:i,treeContext:d,retryLane:1073741824},d=Yr(18,null,null,0),d.stateNode=i,d.return=s,s.child=d,Or=s,Mr=null,!0):!1;default:return!1}}function Fd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ud(s){if(Ot){var i=Mr;if(i){var d=i;if(!cy(s,i)){if(Fd(s))throw Error(r(418));i=cs(d.nextSibling);var m=Or;i&&cy(s,i)?ly(m,d):(s.flags=s.flags&-4097|2,Ot=!1,Or=s)}}else{if(Fd(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ot=!1,Or=s}}}function uy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Or=s}function Ll(s){if(s!==Or)return!1;if(!Ot)return uy(s),Ot=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ad(s.type,s.memoizedProps)),i&&(i=Mr)){if(Fd(s))throw dy(),Error(r(418));for(;i;)ly(s,i),i=cs(i.nextSibling)}if(uy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(i===0){Mr=cs(s.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++}s=s.nextSibling}Mr=null}}else Mr=Or?cs(s.stateNode.nextSibling):null;return!0}function dy(){for(var s=Mr;s;)s=cs(s.nextSibling)}function Io(){Mr=Or=null,Ot=!1}function $d(s){sn===null?sn=[s]:sn.push(s)}var R_=A.ReactCurrentBatchConfig;function Yi(s,i,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var m=d.stateNode}if(!m)throw Error(r(147,s));var x=m,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(C){var O=x.refs;C===null?delete O[w]:O[w]=C},i._stringRef=w,i)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function Bl(s,i){throw s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function hy(s){var i=s._init;return i(s._payload)}function fy(s){function i(te,Y){if(s){var se=te.deletions;se===null?(te.deletions=[Y],te.flags|=16):se.push(Y)}}function d(te,Y){if(!s)return null;for(;Y!==null;)i(te,Y),Y=Y.sibling;return null}function m(te,Y){for(te=new Map;Y!==null;)Y.key!==null?te.set(Y.key,Y):te.set(Y.index,Y),Y=Y.sibling;return te}function x(te,Y){return te=bs(te,Y),te.index=0,te.sibling=null,te}function w(te,Y,se){return te.index=se,s?(se=te.alternate,se!==null?(se=se.index,se<Y?(te.flags|=2,Y):se):(te.flags|=2,Y)):(te.flags|=1048576,Y)}function C(te){return s&&te.alternate===null&&(te.flags|=2),te}function O(te,Y,se,Ne){return Y===null||Y.tag!==6?(Y=Rh(se,te.mode,Ne),Y.return=te,Y):(Y=x(Y,se),Y.return=te,Y)}function z(te,Y,se,Ne){var ze=se.type;return ze===M?ye(te,Y,se.props.children,Ne,se.key):Y!==null&&(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ie&&hy(ze)===Y.type)?(Ne=x(Y,se.props),Ne.ref=Yi(te,Y,se),Ne.return=te,Ne):(Ne=lc(se.type,se.key,se.props,null,te.mode,Ne),Ne.ref=Yi(te,Y,se),Ne.return=te,Ne)}function ae(te,Y,se,Ne){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==se.containerInfo||Y.stateNode.implementation!==se.implementation?(Y=Ih(se,te.mode,Ne),Y.return=te,Y):(Y=x(Y,se.children||[]),Y.return=te,Y)}function ye(te,Y,se,Ne,ze){return Y===null||Y.tag!==7?(Y=Qs(se,te.mode,Ne,ze),Y.return=te,Y):(Y=x(Y,se),Y.return=te,Y)}function we(te,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Rh(""+Y,te.mode,se),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return se=lc(Y.type,Y.key,Y.props,null,te.mode,se),se.ref=Yi(te,null,Y),se.return=te,se;case B:return Y=Ih(Y,te.mode,se),Y.return=te,Y;case ie:var Ne=Y._init;return we(te,Ne(Y._payload),se)}if(ve(Y)||U(Y))return Y=Qs(Y,te.mode,se,null),Y.return=te,Y;Bl(te,Y)}return null}function ge(te,Y,se,Ne){var ze=Y!==null?Y.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return ze!==null?null:O(te,Y,""+se,Ne);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return se.key===ze?z(te,Y,se,Ne):null;case B:return se.key===ze?ae(te,Y,se,Ne):null;case ie:return ze=se._init,ge(te,Y,ze(se._payload),Ne)}if(ve(se)||U(se))return ze!==null?null:ye(te,Y,se,Ne,null);Bl(te,se)}return null}function De(te,Y,se,Ne,ze){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return te=te.get(se)||null,O(Y,te,""+Ne,ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case I:return te=te.get(Ne.key===null?se:Ne.key)||null,z(Y,te,Ne,ze);case B:return te=te.get(Ne.key===null?se:Ne.key)||null,ae(Y,te,Ne,ze);case ie:var Je=Ne._init;return De(te,Y,se,Je(Ne._payload),ze)}if(ve(Ne)||U(Ne))return te=te.get(se)||null,ye(Y,te,Ne,ze,null);Bl(Y,Ne)}return null}function Be(te,Y,se,Ne){for(var ze=null,Je=null,Qe=Y,st=Y=0,ir=null;Qe!==null&&st<se.length;st++){Qe.index>st?(ir=Qe,Qe=null):ir=Qe.sibling;var wt=ge(te,Qe,se[st],Ne);if(wt===null){Qe===null&&(Qe=ir);break}s&&Qe&&wt.alternate===null&&i(te,Qe),Y=w(wt,Y,st),Je===null?ze=wt:Je.sibling=wt,Je=wt,Qe=ir}if(st===se.length)return d(te,Qe),Ot&&qs(te,st),ze;if(Qe===null){for(;st<se.length;st++)Qe=we(te,se[st],Ne),Qe!==null&&(Y=w(Qe,Y,st),Je===null?ze=Qe:Je.sibling=Qe,Je=Qe);return Ot&&qs(te,st),ze}for(Qe=m(te,Qe);st<se.length;st++)ir=De(Qe,te,st,se[st],Ne),ir!==null&&(s&&ir.alternate!==null&&Qe.delete(ir.key===null?st:ir.key),Y=w(ir,Y,st),Je===null?ze=ir:Je.sibling=ir,Je=ir);return s&&Qe.forEach(function(ws){return i(te,ws)}),Ot&&qs(te,st),ze}function Ue(te,Y,se,Ne){var ze=U(se);if(typeof ze!="function")throw Error(r(150));if(se=ze.call(se),se==null)throw Error(r(151));for(var Je=ze=null,Qe=Y,st=Y=0,ir=null,wt=se.next();Qe!==null&&!wt.done;st++,wt=se.next()){Qe.index>st?(ir=Qe,Qe=null):ir=Qe.sibling;var ws=ge(te,Qe,wt.value,Ne);if(ws===null){Qe===null&&(Qe=ir);break}s&&Qe&&ws.alternate===null&&i(te,Qe),Y=w(ws,Y,st),Je===null?ze=ws:Je.sibling=ws,Je=ws,Qe=ir}if(wt.done)return d(te,Qe),Ot&&qs(te,st),ze;if(Qe===null){for(;!wt.done;st++,wt=se.next())wt=we(te,wt.value,Ne),wt!==null&&(Y=w(wt,Y,st),Je===null?ze=wt:Je.sibling=wt,Je=wt);return Ot&&qs(te,st),ze}for(Qe=m(te,Qe);!wt.done;st++,wt=se.next())wt=De(Qe,te,st,wt.value,Ne),wt!==null&&(s&&wt.alternate!==null&&Qe.delete(wt.key===null?st:wt.key),Y=w(wt,Y,st),Je===null?ze=wt:Je.sibling=wt,Je=wt);return s&&Qe.forEach(function(dC){return i(te,dC)}),Ot&&qs(te,st),ze}function Wt(te,Y,se,Ne){if(typeof se=="object"&&se!==null&&se.type===M&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case I:e:{for(var ze=se.key,Je=Y;Je!==null;){if(Je.key===ze){if(ze=se.type,ze===M){if(Je.tag===7){d(te,Je.sibling),Y=x(Je,se.props.children),Y.return=te,te=Y;break e}}else if(Je.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ie&&hy(ze)===Je.type){d(te,Je.sibling),Y=x(Je,se.props),Y.ref=Yi(te,Je,se),Y.return=te,te=Y;break e}d(te,Je);break}else i(te,Je);Je=Je.sibling}se.type===M?(Y=Qs(se.props.children,te.mode,Ne,se.key),Y.return=te,te=Y):(Ne=lc(se.type,se.key,se.props,null,te.mode,Ne),Ne.ref=Yi(te,Y,se),Ne.return=te,te=Ne)}return C(te);case B:e:{for(Je=se.key;Y!==null;){if(Y.key===Je)if(Y.tag===4&&Y.stateNode.containerInfo===se.containerInfo&&Y.stateNode.implementation===se.implementation){d(te,Y.sibling),Y=x(Y,se.children||[]),Y.return=te,te=Y;break e}else{d(te,Y);break}else i(te,Y);Y=Y.sibling}Y=Ih(se,te.mode,Ne),Y.return=te,te=Y}return C(te);case ie:return Je=se._init,Wt(te,Y,Je(se._payload),Ne)}if(ve(se))return Be(te,Y,se,Ne);if(U(se))return Ue(te,Y,se,Ne);Bl(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,Y!==null&&Y.tag===6?(d(te,Y.sibling),Y=x(Y,se),Y.return=te,te=Y):(d(te,Y),Y=Rh(se,te.mode,Ne),Y.return=te,te=Y),C(te)):d(te,Y)}return Wt}var Do=fy(!0),my=fy(!1),Fl=us(null),Ul=null,Oo=null,zd=null;function Vd(){zd=Oo=Ul=null}function qd(s){var i=Fl.current;It(Fl),s._currentValue=i}function Hd(s,i,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),s===d)break;s=s.return}}function Mo(s,i){Ul=s,zd=Oo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Er=!0),s.firstContext=null)}function Wr(s){var i=s._currentValue;if(zd!==s)if(s={context:s,memoizedValue:i,next:null},Oo===null){if(Ul===null)throw Error(r(308));Oo=s,Ul.dependencies={lanes:0,firstContext:s}}else Oo=Oo.next=s;return i}var Hs=null;function Wd(s){Hs===null?Hs=[s]:Hs.push(s)}function py(s,i,d,m){var x=i.interleaved;return x===null?(d.next=d,Wd(i)):(d.next=x.next,x.next=d),i.interleaved=d,zn(s,m)}function zn(s,i){s.lanes|=i;var d=s.alternate;for(d!==null&&(d.lanes|=i),d=s,s=s.return;s!==null;)s.childLanes|=i,d=s.alternate,d!==null&&(d.childLanes|=i),d=s,s=s.return;return d.tag===3?d.stateNode:null}var fs=!1;function Kd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gy(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Vn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ms(s,i,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(pt&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,zn(s,d)}return x=m.interleaved,x===null?(i.next=i,Wd(m)):(i.next=x.next,x.next=i),m.interleaved=i,zn(s,d)}function $l(s,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194240)!==0)){var m=i.lanes;m&=s.pendingLanes,d|=m,i.lanes=d,ad(s,d)}}function yy(s,i){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?x=w=C:w=w.next=C,d=d.next}while(d!==null);w===null?x=w=i:w=w.next=i}else x=w=i;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=i:s.next=i,d.lastBaseUpdate=i}function zl(s,i,d,m){var x=s.updateQueue;fs=!1;var w=x.firstBaseUpdate,C=x.lastBaseUpdate,O=x.shared.pending;if(O!==null){x.shared.pending=null;var z=O,ae=z.next;z.next=null,C===null?w=ae:C.next=ae,C=z;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,O=ye.lastBaseUpdate,O!==C&&(O===null?ye.firstBaseUpdate=ae:O.next=ae,ye.lastBaseUpdate=z))}if(w!==null){var we=x.baseState;C=0,ye=ae=z=null,O=w;do{var ge=O.lane,De=O.eventTime;if((m&ge)===ge){ye!==null&&(ye=ye.next={eventTime:De,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Be=s,Ue=O;switch(ge=i,De=d,Ue.tag){case 1:if(Be=Ue.payload,typeof Be=="function"){we=Be.call(De,we,ge);break e}we=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ue.payload,ge=typeof Be=="function"?Be.call(De,we,ge):Be,ge==null)break e;we=R({},we,ge);break e;case 2:fs=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ge=x.effects,ge===null?x.effects=[O]:ge.push(O))}else De={eventTime:De,lane:ge,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ye===null?(ae=ye=De,z=we):ye=ye.next=De,C|=ge;if(O=O.next,O===null){if(O=x.shared.pending,O===null)break;ge=O,O=ge.next,ge.next=null,x.lastBaseUpdate=ge,x.shared.pending=null}}while(!0);if(ye===null&&(z=we),x.baseState=z,x.firstBaseUpdate=ae,x.lastBaseUpdate=ye,i=x.shared.interleaved,i!==null){x=i;do C|=x.lane,x=x.next;while(x!==i)}else w===null&&(x.shared.lanes=0);Gs|=C,s.lanes=C,s.memoizedState=we}}function vy(s,i,d){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var m=s[i],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var Xi={},kn=us(Xi),Ji=us(Xi),Qi=us(Xi);function Ws(s){if(s===Xi)throw Error(r(174));return s}function Gd(s,i){switch(Tt(Qi,i),Tt(Ji,s),Tt(kn,Xi),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:rt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=rt(i,s)}It(kn),Tt(kn,i)}function Lo(){It(kn),It(Ji),It(Qi)}function xy(s){Ws(Qi.current);var i=Ws(kn.current),d=rt(i,s.type);i!==d&&(Tt(Ji,s),Tt(kn,d))}function Yd(s){Ji.current===s&&(It(kn),It(Ji))}var Lt=us(0);function Vl(s){for(var i=s;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xd=[];function Jd(){for(var s=0;s<Xd.length;s++)Xd[s]._workInProgressVersionPrimary=null;Xd.length=0}var ql=A.ReactCurrentDispatcher,Qd=A.ReactCurrentBatchConfig,Ks=0,Bt=null,Zt=null,sr=null,Hl=!1,Zi=!1,ea=0,I_=0;function mr(){throw Error(r(321))}function Zd(s,i){if(i===null)return!1;for(var d=0;d<i.length&&d<s.length;d++)if(!nn(s[d],i[d]))return!1;return!0}function eh(s,i,d,m,x,w){if(Ks=w,Bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ql.current=s===null||s.memoizedState===null?L_:B_,s=d(m,x),Zi){w=0;do{if(Zi=!1,ea=0,25<=w)throw Error(r(301));w+=1,sr=Zt=null,i.updateQueue=null,ql.current=F_,s=d(m,x)}while(Zi)}if(ql.current=Gl,i=Zt!==null&&Zt.next!==null,Ks=0,sr=Zt=Bt=null,Hl=!1,i)throw Error(r(300));return s}function th(){var s=ea!==0;return ea=0,s}function Nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Bt.memoizedState=sr=s:sr=sr.next=s,sr}function Kr(){if(Zt===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var i=sr===null?Bt.memoizedState:sr.next;if(i!==null)sr=i,Zt=s;else{if(s===null)throw Error(r(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},sr===null?Bt.memoizedState=sr=s:sr=sr.next=s}return sr}function ta(s,i){return typeof i=="function"?i(s):i}function rh(s){var i=Kr(),d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=Zt,x=m.baseQueue,w=d.pending;if(w!==null){if(x!==null){var C=x.next;x.next=w.next,w.next=C}m.baseQueue=x=w,d.pending=null}if(x!==null){w=x.next,m=m.baseState;var O=C=null,z=null,ae=w;do{var ye=ae.lane;if((Ks&ye)===ye)z!==null&&(z=z.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),m=ae.hasEagerState?ae.eagerState:s(m,ae.action);else{var we={lane:ye,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};z===null?(O=z=we,C=m):z=z.next=we,Bt.lanes|=ye,Gs|=ye}ae=ae.next}while(ae!==null&&ae!==w);z===null?C=m:z.next=O,nn(m,i.memoizedState)||(Er=!0),i.memoizedState=m,i.baseState=C,i.baseQueue=z,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do w=x.lane,Bt.lanes|=w,Gs|=w,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[i.memoizedState,d.dispatch]}function nh(s){var i=Kr(),d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,w=i.memoizedState;if(x!==null){d.pending=null;var C=x=x.next;do w=s(w,C.action),C=C.next;while(C!==x);nn(w,i.memoizedState)||(Er=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),d.lastRenderedState=w}return[w,m]}function by(){}function wy(s,i){var d=Bt,m=Kr(),x=i(),w=!nn(m.memoizedState,x);if(w&&(m.memoizedState=x,Er=!0),m=m.queue,sh(Ny.bind(null,d,m,s),[s]),m.getSnapshot!==i||w||sr!==null&&sr.memoizedState.tag&1){if(d.flags|=2048,ra(9,ky.bind(null,d,m,x,i),void 0,null),or===null)throw Error(r(349));(Ks&30)!==0||Sy(d,i,x)}return x}function Sy(s,i,d){s.flags|=16384,s={getSnapshot:i,value:d},i=Bt.updateQueue,i===null?(i={lastEffect:null,stores:null},Bt.updateQueue=i,i.stores=[s]):(d=i.stores,d===null?i.stores=[s]:d.push(s))}function ky(s,i,d,m){i.value=d,i.getSnapshot=m,jy(i)&&_y(s)}function Ny(s,i,d){return d(function(){jy(i)&&_y(s)})}function jy(s){var i=s.getSnapshot;s=s.value;try{var d=i();return!nn(s,d)}catch{return!0}}function _y(s){var i=zn(s,1);i!==null&&cn(i,s,1,-1)}function Cy(s){var i=Nn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:s},i.queue=s,s=s.dispatch=M_.bind(null,Bt,s),[i.memoizedState,s]}function ra(s,i,d,m){return s={tag:s,create:i,destroy:d,deps:m,next:null},i=Bt.updateQueue,i===null?(i={lastEffect:null,stores:null},Bt.updateQueue=i,i.lastEffect=s.next=s):(d=i.lastEffect,d===null?i.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,i.lastEffect=s)),s}function Ey(){return Kr().memoizedState}function Wl(s,i,d,m){var x=Nn();Bt.flags|=s,x.memoizedState=ra(1|i,d,void 0,m===void 0?null:m)}function Kl(s,i,d,m){var x=Kr();m=m===void 0?null:m;var w=void 0;if(Zt!==null){var C=Zt.memoizedState;if(w=C.destroy,m!==null&&Zd(m,C.deps)){x.memoizedState=ra(i,d,w,m);return}}Bt.flags|=s,x.memoizedState=ra(1|i,d,w,m)}function Ty(s,i){return Wl(8390656,8,s,i)}function sh(s,i){return Kl(2048,8,s,i)}function Py(s,i){return Kl(4,2,s,i)}function Ay(s,i){return Kl(4,4,s,i)}function Ry(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Iy(s,i,d){return d=d!=null?d.concat([s]):null,Kl(4,4,Ry.bind(null,i,s),d)}function oh(){}function Dy(s,i){var d=Kr();i=i===void 0?null:i;var m=d.memoizedState;return m!==null&&i!==null&&Zd(i,m[1])?m[0]:(d.memoizedState=[s,i],s)}function Oy(s,i){var d=Kr();i=i===void 0?null:i;var m=d.memoizedState;return m!==null&&i!==null&&Zd(i,m[1])?m[0]:(s=s(),d.memoizedState=[s,i],s)}function My(s,i,d){return(Ks&21)===0?(s.baseState&&(s.baseState=!1,Er=!0),s.memoizedState=d):(nn(d,i)||(d=hg(),Bt.lanes|=d,Gs|=d,s.baseState=!0),i)}function D_(s,i){var d=_t;_t=d!==0&&4>d?d:4,s(!0);var m=Qd.transition;Qd.transition={};try{s(!1),i()}finally{_t=d,Qd.transition=m}}function Ly(){return Kr().memoizedState}function O_(s,i,d){var m=vs(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},By(s))Fy(i,d);else if(d=py(s,i,d,m),d!==null){var x=wr();cn(d,s,m,x),Uy(d,i,m)}}function M_(s,i,d){var m=vs(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(By(s))Fy(i,x);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var C=i.lastRenderedState,O=w(C,d);if(x.hasEagerState=!0,x.eagerState=O,nn(O,C)){var z=i.interleaved;z===null?(x.next=x,Wd(i)):(x.next=z.next,z.next=x),i.interleaved=x;return}}catch{}finally{}d=py(s,i,x,m),d!==null&&(x=wr(),cn(d,s,m,x),Uy(d,i,m))}}function By(s){var i=s.alternate;return s===Bt||i!==null&&i===Bt}function Fy(s,i){Zi=Hl=!0;var d=s.pending;d===null?i.next=i:(i.next=d.next,d.next=i),s.pending=i}function Uy(s,i,d){if((d&4194240)!==0){var m=i.lanes;m&=s.pendingLanes,d|=m,i.lanes=d,ad(s,d)}}var Gl={readContext:Wr,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},L_={readContext:Wr,useCallback:function(s,i){return Nn().memoizedState=[s,i===void 0?null:i],s},useContext:Wr,useEffect:Ty,useImperativeHandle:function(s,i,d){return d=d!=null?d.concat([s]):null,Wl(4194308,4,Ry.bind(null,i,s),d)},useLayoutEffect:function(s,i){return Wl(4194308,4,s,i)},useInsertionEffect:function(s,i){return Wl(4,2,s,i)},useMemo:function(s,i){var d=Nn();return i=i===void 0?null:i,s=s(),d.memoizedState=[s,i],s},useReducer:function(s,i,d){var m=Nn();return i=d!==void 0?d(i):i,m.memoizedState=m.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},m.queue=s,s=s.dispatch=O_.bind(null,Bt,s),[m.memoizedState,s]},useRef:function(s){var i=Nn();return s={current:s},i.memoizedState=s},useState:Cy,useDebugValue:oh,useDeferredValue:function(s){return Nn().memoizedState=s},useTransition:function(){var s=Cy(!1),i=s[0];return s=D_.bind(null,s[1]),Nn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,d){var m=Bt,x=Nn();if(Ot){if(d===void 0)throw Error(r(407));d=d()}else{if(d=i(),or===null)throw Error(r(349));(Ks&30)!==0||Sy(m,i,d)}x.memoizedState=d;var w={value:d,getSnapshot:i};return x.queue=w,Ty(Ny.bind(null,m,w,s),[s]),m.flags|=2048,ra(9,ky.bind(null,m,w,d,i),void 0,null),d},useId:function(){var s=Nn(),i=or.identifierPrefix;if(Ot){var d=$n,m=Un;d=(m&~(1<<32-rn(m)-1)).toString(32)+d,i=":"+i+"R"+d,d=ea++,0<d&&(i+="H"+d.toString(32)),i+=":"}else d=I_++,i=":"+i+"r"+d.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},B_={readContext:Wr,useCallback:Dy,useContext:Wr,useEffect:sh,useImperativeHandle:Iy,useInsertionEffect:Py,useLayoutEffect:Ay,useMemo:Oy,useReducer:rh,useRef:Ey,useState:function(){return rh(ta)},useDebugValue:oh,useDeferredValue:function(s){var i=Kr();return My(i,Zt.memoizedState,s)},useTransition:function(){var s=rh(ta)[0],i=Kr().memoizedState;return[s,i]},useMutableSource:by,useSyncExternalStore:wy,useId:Ly,unstable_isNewReconciler:!1},F_={readContext:Wr,useCallback:Dy,useContext:Wr,useEffect:sh,useImperativeHandle:Iy,useInsertionEffect:Py,useLayoutEffect:Ay,useMemo:Oy,useReducer:nh,useRef:Ey,useState:function(){return nh(ta)},useDebugValue:oh,useDeferredValue:function(s){var i=Kr();return Zt===null?i.memoizedState=s:My(i,Zt.memoizedState,s)},useTransition:function(){var s=nh(ta)[0],i=Kr().memoizedState;return[s,i]},useMutableSource:by,useSyncExternalStore:wy,useId:Ly,unstable_isNewReconciler:!1};function on(s,i){if(s&&s.defaultProps){i=R({},i),s=s.defaultProps;for(var d in s)i[d]===void 0&&(i[d]=s[d]);return i}return i}function ih(s,i,d,m){i=s.memoizedState,d=d(m,i),d=d==null?i:R({},i,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Yl={isMounted:function(s){return(s=s._reactInternals)?Us(s)===s:!1},enqueueSetState:function(s,i,d){s=s._reactInternals;var m=wr(),x=vs(s),w=Vn(m,x);w.payload=i,d!=null&&(w.callback=d),i=ms(s,w,x),i!==null&&(cn(i,s,x,m),$l(i,s,x))},enqueueReplaceState:function(s,i,d){s=s._reactInternals;var m=wr(),x=vs(s),w=Vn(m,x);w.tag=1,w.payload=i,d!=null&&(w.callback=d),i=ms(s,w,x),i!==null&&(cn(i,s,x,m),$l(i,s,x))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var d=wr(),m=vs(s),x=Vn(d,m);x.tag=2,i!=null&&(x.callback=i),i=ms(s,x,m),i!==null&&(cn(i,s,m,d),$l(i,s,m))}};function $y(s,i,d,m,x,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,C):i.prototype&&i.prototype.isPureReactComponent?!zi(d,m)||!zi(x,w):!0}function zy(s,i,d){var m=!1,x=ds,w=i.contextType;return typeof w=="object"&&w!==null?w=Wr(w):(x=Cr(i)?zs:fr.current,m=i.contextTypes,w=(m=m!=null)?Po(s,x):ds),i=new i(d,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Yl,s.stateNode=i,i._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=w),i}function Vy(s,i,d,m){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,m),i.state!==s&&Yl.enqueueReplaceState(i,i.state,null)}function ah(s,i,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},Kd(s);var w=i.contextType;typeof w=="object"&&w!==null?x.context=Wr(w):(w=Cr(i)?zs:fr.current,x.context=Po(s,w)),x.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(ih(s,i,w,d),x.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&Yl.enqueueReplaceState(x,x.state,null),zl(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Bo(s,i){try{var d="",m=i;do d+=q(m),m=m.return;while(m);var x=d}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:x,digest:null}}function lh(s,i,d){return{value:s,source:null,stack:d??null,digest:i??null}}function ch(s,i){try{console.error(i.value)}catch(d){setTimeout(function(){throw d})}}var U_=typeof WeakMap=="function"?WeakMap:Map;function qy(s,i,d){d=Vn(-1,d),d.tag=3,d.payload={element:null};var m=i.value;return d.callback=function(){rc||(rc=!0,Nh=m),ch(s,i)},d}function Hy(s,i,d){d=Vn(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=i.value;d.payload=function(){return m(x)},d.callback=function(){ch(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){ch(s,i),typeof m!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})}),d}function Wy(s,i,d){var m=s.pingCache;if(m===null){m=s.pingCache=new U_;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(d)||(x.add(d),s=eC.bind(null,s,i,d),i.then(s,s))}function Ky(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Gy(s,i,d,m,x){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(i=Vn(-1,1),i.tag=2,ms(d,i,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var $_=A.ReactCurrentOwner,Er=!1;function br(s,i,d,m){i.child=s===null?my(i,null,d,m):Do(i,s.child,d,m)}function Yy(s,i,d,m,x){d=d.render;var w=i.ref;return Mo(i,x),m=eh(s,i,d,m,w,x),d=th(),s!==null&&!Er?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~x,qn(s,i,x)):(Ot&&d&&Ld(i),i.flags|=1,br(s,i,m,x),i.child)}function Xy(s,i,d,m,x){if(s===null){var w=d.type;return typeof w=="function"&&!Ah(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(i.tag=15,i.type=w,Jy(s,i,w,m,x)):(s=lc(d.type,null,m,i,i.mode,x),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,(s.lanes&x)===0){var C=w.memoizedProps;if(d=d.compare,d=d!==null?d:zi,d(C,m)&&s.ref===i.ref)return qn(s,i,x)}return i.flags|=1,s=bs(w,m),s.ref=i.ref,s.return=i,i.child=s}function Jy(s,i,d,m,x){if(s!==null){var w=s.memoizedProps;if(zi(w,m)&&s.ref===i.ref)if(Er=!1,i.pendingProps=m=w,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Er=!0);else return i.lanes=s.lanes,qn(s,i,x)}return uh(s,i,d,m,x)}function Qy(s,i,d){var m=i.pendingProps,x=m.children,w=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Uo,Lr),Lr|=d;else{if((d&1073741824)===0)return s=w!==null?w.baseLanes|d:d,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Tt(Uo,Lr),Lr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,Tt(Uo,Lr),Lr|=m}else w!==null?(m=w.baseLanes|d,i.memoizedState=null):m=d,Tt(Uo,Lr),Lr|=m;return br(s,i,x,d),i.child}function Zy(s,i){var d=i.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(i.flags|=512,i.flags|=2097152)}function uh(s,i,d,m,x){var w=Cr(d)?zs:fr.current;return w=Po(i,w),Mo(i,x),d=eh(s,i,d,m,w,x),m=th(),s!==null&&!Er?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~x,qn(s,i,x)):(Ot&&m&&Ld(i),i.flags|=1,br(s,i,d,x),i.child)}function e0(s,i,d,m,x){if(Cr(d)){var w=!0;Il(i)}else w=!1;if(Mo(i,x),i.stateNode===null)Jl(s,i),zy(i,d,m),ah(i,d,m,x),m=!0;else if(s===null){var C=i.stateNode,O=i.memoizedProps;C.props=O;var z=C.context,ae=d.contextType;typeof ae=="object"&&ae!==null?ae=Wr(ae):(ae=Cr(d)?zs:fr.current,ae=Po(i,ae));var ye=d.getDerivedStateFromProps,we=typeof ye=="function"||typeof C.getSnapshotBeforeUpdate=="function";we||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==m||z!==ae)&&Vy(i,C,m,ae),fs=!1;var ge=i.memoizedState;C.state=ge,zl(i,m,C,x),z=i.memoizedState,O!==m||ge!==z||_r.current||fs?(typeof ye=="function"&&(ih(i,d,ye,m),z=i.memoizedState),(O=fs||$y(i,d,O,m,ge,z,ae))?(we||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=z),C.props=m,C.state=z,C.context=ae,m=O):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{C=i.stateNode,gy(s,i),O=i.memoizedProps,ae=i.type===i.elementType?O:on(i.type,O),C.props=ae,we=i.pendingProps,ge=C.context,z=d.contextType,typeof z=="object"&&z!==null?z=Wr(z):(z=Cr(d)?zs:fr.current,z=Po(i,z));var De=d.getDerivedStateFromProps;(ye=typeof De=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==we||ge!==z)&&Vy(i,C,m,z),fs=!1,ge=i.memoizedState,C.state=ge,zl(i,m,C,x);var Be=i.memoizedState;O!==we||ge!==Be||_r.current||fs?(typeof De=="function"&&(ih(i,d,De,m),Be=i.memoizedState),(ae=fs||$y(i,d,ae,m,ge,Be,z)||!1)?(ye||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,Be,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,Be,z)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&ge===s.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ge===s.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Be),C.props=m,C.state=Be,C.context=z,m=ae):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&ge===s.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ge===s.memoizedState||(i.flags|=1024),m=!1)}return dh(s,i,d,m,w,x)}function dh(s,i,d,m,x,w){Zy(s,i);var C=(i.flags&128)!==0;if(!m&&!C)return x&&oy(i,d,!1),qn(s,i,w);m=i.stateNode,$_.current=i;var O=C&&typeof d.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,s!==null&&C?(i.child=Do(i,s.child,null,w),i.child=Do(i,null,O,w)):br(s,i,O,w),i.memoizedState=m.state,x&&oy(i,d,!0),i.child}function t0(s){var i=s.stateNode;i.pendingContext?ny(s,i.pendingContext,i.pendingContext!==i.context):i.context&&ny(s,i.context,!1),Gd(s,i.containerInfo)}function r0(s,i,d,m,x){return Io(),$d(x),i.flags|=256,br(s,i,d,m),i.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function fh(s){return{baseLanes:s,cachePool:null,transitions:null}}function n0(s,i,d){var m=i.pendingProps,x=Lt.current,w=!1,C=(i.flags&128)!==0,O;if((O=C)||(O=s!==null&&s.memoizedState===null?!1:(x&2)!==0),O?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),Tt(Lt,x&1),s===null)return Ud(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(C=m.children,s=m.fallback,w?(m=i.mode,w=i.child,C={mode:"hidden",children:C},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=cc(C,m,0,null),s=Qs(s,m,d,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=fh(d),i.memoizedState=hh,s):mh(i,C));if(x=s.memoizedState,x!==null&&(O=x.dehydrated,O!==null))return z_(s,i,C,m,O,x,d);if(w){w=m.fallback,C=i.mode,x=s.child,O=x.sibling;var z={mode:"hidden",children:m.children};return(C&1)===0&&i.child!==x?(m=i.child,m.childLanes=0,m.pendingProps=z,i.deletions=null):(m=bs(x,z),m.subtreeFlags=x.subtreeFlags&14680064),O!==null?w=bs(O,w):(w=Qs(w,C,d,null),w.flags|=2),w.return=i,m.return=i,m.sibling=w,i.child=m,m=w,w=i.child,C=s.child.memoizedState,C=C===null?fh(d):{baseLanes:C.baseLanes|d,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=s.childLanes&~d,i.memoizedState=hh,m}return w=s.child,s=w.sibling,m=bs(w,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=d),m.return=i,m.sibling=null,s!==null&&(d=i.deletions,d===null?(i.deletions=[s],i.flags|=16):d.push(s)),i.child=m,i.memoizedState=null,m}function mh(s,i){return i=cc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Xl(s,i,d,m){return m!==null&&$d(m),Do(i,s.child,null,d),s=mh(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function z_(s,i,d,m,x,w,C){if(d)return i.flags&256?(i.flags&=-257,m=lh(Error(r(422))),Xl(s,i,C,m)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=m.fallback,x=i.mode,m=cc({mode:"visible",children:m.children},x,0,null),w=Qs(w,x,C,null),w.flags|=2,m.return=i,w.return=i,m.sibling=w,i.child=m,(i.mode&1)!==0&&Do(i,s.child,null,C),i.child.memoizedState=fh(C),i.memoizedState=hh,w);if((i.mode&1)===0)return Xl(s,i,C,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var O=m.dgst;return m=O,w=Error(r(419)),m=lh(w,m,void 0),Xl(s,i,C,m)}if(O=(C&s.childLanes)!==0,Er||O){if(m=or,m!==null){switch(C&-C){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|C))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,zn(s,x),cn(m,s,x,-1))}return Ph(),m=lh(Error(r(421))),Xl(s,i,C,m)}return x.data==="$?"?(i.flags|=128,i.child=s.child,i=tC.bind(null,s),x._reactRetry=i,null):(s=w.treeContext,Mr=cs(x.nextSibling),Or=i,Ot=!0,sn=null,s!==null&&(qr[Hr++]=Un,qr[Hr++]=$n,qr[Hr++]=Vs,Un=s.id,$n=s.overflow,Vs=i),i=mh(i,m.children),i.flags|=4096,i)}function s0(s,i,d){s.lanes|=i;var m=s.alternate;m!==null&&(m.lanes|=i),Hd(s.return,i,d)}function ph(s,i,d,m,x){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=x)}function o0(s,i,d){var m=i.pendingProps,x=m.revealOrder,w=m.tail;if(br(s,i,m.children,d),m=Lt.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&s0(s,d,i);else if(s.tag===19)s0(s,d,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Tt(Lt,m),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(d=i.child,x=null;d!==null;)s=d.alternate,s!==null&&Vl(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=i.child,i.child=null):(x=d.sibling,d.sibling=null),ph(i,!1,x,d,w);break;case"backwards":for(d=null,x=i.child,i.child=null;x!==null;){if(s=x.alternate,s!==null&&Vl(s)===null){i.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}ph(i,!0,d,null,w);break;case"together":ph(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jl(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function qn(s,i,d){if(s!==null&&(i.dependencies=s.dependencies),Gs|=i.lanes,(d&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,d=bs(s,s.pendingProps),i.child=d,d.return=i;s.sibling!==null;)s=s.sibling,d=d.sibling=bs(s,s.pendingProps),d.return=i;d.sibling=null}return i.child}function V_(s,i,d){switch(i.tag){case 3:t0(i),Io();break;case 5:xy(i);break;case 1:Cr(i.type)&&Il(i);break;case 4:Gd(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,x=i.memoizedProps.value;Tt(Fl,m._currentValue),m._currentValue=x;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(Tt(Lt,Lt.current&1),i.flags|=128,null):(d&i.child.childLanes)!==0?n0(s,i,d):(Tt(Lt,Lt.current&1),s=qn(s,i,d),s!==null?s.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(m=(d&i.childLanes)!==0,(s.flags&128)!==0){if(m)return o0(s,i,d);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Tt(Lt,Lt.current),m)break;return null;case 22:case 23:return i.lanes=0,Qy(s,i,d)}return qn(s,i,d)}var i0,gh,a0,l0;i0=function(s,i){for(var d=i.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},gh=function(){},a0=function(s,i,d,m){var x=s.memoizedProps;if(x!==m){s=i.stateNode,Ws(kn.current);var w=null;switch(d){case"input":x=Oe(s,x),m=Oe(s,m),w=[];break;case"select":x=R({},x,{value:void 0}),m=R({},m,{value:void 0}),w=[];break;case"textarea":x=Ie(s,x),m=Ie(s,m),w=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Pl)}Ee(d,m);var C;d=null;for(ae in x)if(!m.hasOwnProperty(ae)&&x.hasOwnProperty(ae)&&x[ae]!=null)if(ae==="style"){var O=x[ae];for(C in O)O.hasOwnProperty(C)&&(d||(d={}),d[C]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(a.hasOwnProperty(ae)?w||(w=[]):(w=w||[]).push(ae,null));for(ae in m){var z=m[ae];if(O=x?.[ae],m.hasOwnProperty(ae)&&z!==O&&(z!=null||O!=null))if(ae==="style")if(O){for(C in O)!O.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(d||(d={}),d[C]="");for(C in z)z.hasOwnProperty(C)&&O[C]!==z[C]&&(d||(d={}),d[C]=z[C])}else d||(w||(w=[]),w.push(ae,d)),d=z;else ae==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,O=O?O.__html:void 0,z!=null&&O!==z&&(w=w||[]).push(ae,z)):ae==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(ae,""+z):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(a.hasOwnProperty(ae)?(z!=null&&ae==="onScroll"&&Rt("scroll",s),w||O===z||(w=[])):(w=w||[]).push(ae,z))}d&&(w=w||[]).push("style",d);var ae=w;(i.updateQueue=ae)&&(i.flags|=4)}},l0=function(s,i,d,m){d!==m&&(i.flags|=4)};function na(s,i){if(!Ot)switch(s.tailMode){case"hidden":i=s.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function pr(s){var i=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(i)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,i}function q_(s,i,d){var m=i.pendingProps;switch(Bd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(i),null;case 1:return Cr(i.type)&&Rl(),pr(i),null;case 3:return m=i.stateNode,Lo(),It(_r),It(fr),Jd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ll(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sn!==null&&(Ch(sn),sn=null))),gh(s,i),pr(i),null;case 5:Yd(i);var x=Ws(Qi.current);if(d=i.type,s!==null&&i.stateNode!=null)a0(s,i,d,m,x),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(r(166));return pr(i),null}if(s=Ws(kn.current),Ll(i)){m=i.stateNode,d=i.type;var w=i.memoizedProps;switch(m[Sn]=i,m[Ki]=w,s=(i.mode&1)!==0,d){case"dialog":Rt("cancel",m),Rt("close",m);break;case"iframe":case"object":case"embed":Rt("load",m);break;case"video":case"audio":for(x=0;x<qi.length;x++)Rt(qi[x],m);break;case"source":Rt("error",m);break;case"img":case"image":case"link":Rt("error",m),Rt("load",m);break;case"details":Rt("toggle",m);break;case"input":Re(m,w),Rt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},Rt("invalid",m);break;case"textarea":Te(m,w),Rt("invalid",m)}Ee(d,w),x=null;for(var C in w)if(w.hasOwnProperty(C)){var O=w[C];C==="children"?typeof O=="string"?m.textContent!==O&&(w.suppressHydrationWarning!==!0&&Tl(m.textContent,O,s),x=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&Tl(m.textContent,O,s),x=["children",""+O]):a.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&Rt("scroll",m)}switch(d){case"input":W(m),Nt(m,w,!0);break;case"textarea":W(m),xe(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=Pl)}m=x,i.updateQueue=m,m!==null&&(i.flags|=4)}else{C=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=je(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=C.createElement(d,{is:m.is}):(s=C.createElement(d),d==="select"&&(C=s,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):s=C.createElementNS(s,d),s[Sn]=i,s[Ki]=m,i0(s,i,!1,!1),i.stateNode=s;e:{switch(C=Ve(d,m),d){case"dialog":Rt("cancel",s),Rt("close",s),x=m;break;case"iframe":case"object":case"embed":Rt("load",s),x=m;break;case"video":case"audio":for(x=0;x<qi.length;x++)Rt(qi[x],s);x=m;break;case"source":Rt("error",s),x=m;break;case"img":case"image":case"link":Rt("error",s),Rt("load",s),x=m;break;case"details":Rt("toggle",s),x=m;break;case"input":Re(s,m),x=Oe(s,m),Rt("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=R({},m,{value:void 0}),Rt("invalid",s);break;case"textarea":Te(s,m),x=Ie(s,m),Rt("invalid",s);break;default:x=m}Ee(d,x),O=x;for(w in O)if(O.hasOwnProperty(w)){var z=O[w];w==="style"?Le(s,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&oe(s,z)):w==="children"?typeof z=="string"?(d!=="textarea"||z!=="")&&ne(s,z):typeof z=="number"&&ne(s,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(a.hasOwnProperty(w)?z!=null&&w==="onScroll"&&Rt("scroll",s):z!=null&&_(s,w,z,C))}switch(d){case"input":W(s),Nt(s,m,!1);break;case"textarea":W(s),xe(s);break;case"option":m.value!=null&&s.setAttribute("value",""+re(m.value));break;case"select":s.multiple=!!m.multiple,w=m.value,w!=null?Ae(s,!!m.multiple,w,!1):m.defaultValue!=null&&Ae(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Pl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return pr(i),null;case 6:if(s&&i.stateNode!=null)l0(s,i,s.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(r(166));if(d=Ws(Qi.current),Ws(kn.current),Ll(i)){if(m=i.stateNode,d=i.memoizedProps,m[Sn]=i,(w=m.nodeValue!==d)&&(s=Or,s!==null))switch(s.tag){case 3:Tl(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Tl(m.nodeValue,d,(s.mode&1)!==0)}w&&(i.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Sn]=i,i.stateNode=m}return pr(i),null;case 13:if(It(Lt),m=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ot&&Mr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)dy(),Io(),i.flags|=98560,w=!1;else if(w=Ll(i),m!==null&&m.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Sn]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pr(i),w=!1}else sn!==null&&(Ch(sn),sn=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=d,i):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Lt.current&1)!==0?er===0&&(er=3):Ph())),i.updateQueue!==null&&(i.flags|=4),pr(i),null);case 4:return Lo(),gh(s,i),s===null&&Hi(i.stateNode.containerInfo),pr(i),null;case 10:return qd(i.type._context),pr(i),null;case 17:return Cr(i.type)&&Rl(),pr(i),null;case 19:if(It(Lt),w=i.memoizedState,w===null)return pr(i),null;if(m=(i.flags&128)!==0,C=w.rendering,C===null)if(m)na(w,!1);else{if(er!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(C=Vl(s),C!==null){for(i.flags|=128,na(w,!1),m=C.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=d,d=i.child;d!==null;)w=d,s=m,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,s=C.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Tt(Lt,Lt.current&1|2),i.child}s=s.sibling}w.tail!==null&&Ht()>$o&&(i.flags|=128,m=!0,na(w,!1),i.lanes=4194304)}else{if(!m)if(s=Vl(C),s!==null){if(i.flags|=128,m=!0,d=s.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),na(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Ot)return pr(i),null}else 2*Ht()-w.renderingStartTime>$o&&d!==1073741824&&(i.flags|=128,m=!0,na(w,!1),i.lanes=4194304);w.isBackwards?(C.sibling=i.child,i.child=C):(d=w.last,d!==null?d.sibling=C:i.child=C,w.last=C)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=Ht(),i.sibling=null,d=Lt.current,Tt(Lt,m?d&1|2:d&1),i):(pr(i),null);case 22:case 23:return Th(),m=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(Lr&1073741824)!==0&&(pr(i),i.subtreeFlags&6&&(i.flags|=8192)):pr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function H_(s,i){switch(Bd(i),i.tag){case 1:return Cr(i.type)&&Rl(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Lo(),It(_r),It(fr),Jd(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Yd(i),null;case 13:if(It(Lt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Io()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return It(Lt),null;case 4:return Lo(),null;case 10:return qd(i.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var Ql=!1,gr=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Fo(s,i){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){$t(s,i,m)}else d.current=null}function yh(s,i,d){try{d()}catch(m){$t(s,i,m)}}var c0=!1;function K_(s,i){if(Td=vl,s=$g(),wd(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var C=0,O=-1,z=-1,ae=0,ye=0,we=s,ge=null;t:for(;;){for(var De;we!==d||x!==0&&we.nodeType!==3||(O=C+x),we!==w||m!==0&&we.nodeType!==3||(z=C+m),we.nodeType===3&&(C+=we.nodeValue.length),(De=we.firstChild)!==null;)ge=we,we=De;for(;;){if(we===s)break t;if(ge===d&&++ae===x&&(O=C),ge===w&&++ye===m&&(z=C),(De=we.nextSibling)!==null)break;we=ge,ge=we.parentNode}we=De}d=O===-1||z===-1?null:{start:O,end:z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Pd={focusedElem:s,selectionRange:d},vl=!1,Me=i;Me!==null;)if(i=Me,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Me=s;else for(;Me!==null;){i=Me;try{var Be=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ue=Be.memoizedProps,Wt=Be.memoizedState,te=i.stateNode,Y=te.getSnapshotBeforeUpdate(i.elementType===i.type?Ue:on(i.type,Ue),Wt);te.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var se=i.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ne){$t(i,i.return,Ne)}if(s=i.sibling,s!==null){s.return=i.return,Me=s;break}Me=i.return}return Be=c0,c0=!1,Be}function sa(s,i,d){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var w=x.destroy;x.destroy=void 0,w!==void 0&&yh(i,d,w)}x=x.next}while(x!==m)}}function Zl(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==i)}}function vh(s){var i=s.ref;if(i!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof i=="function"?i(s):i.current=s}}function u0(s){var i=s.alternate;i!==null&&(s.alternate=null,u0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Sn],delete i[Ki],delete i[Dd],delete i[T_],delete i[P_])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function d0(s){return s.tag===5||s.tag===3||s.tag===4}function h0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||d0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xh(s,i,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?d.nodeType===8?d.parentNode.insertBefore(s,i):d.insertBefore(s,i):(d.nodeType===8?(i=d.parentNode,i.insertBefore(s,d)):(i=d,i.appendChild(s)),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=Pl));else if(m!==4&&(s=s.child,s!==null))for(xh(s,i,d),s=s.sibling;s!==null;)xh(s,i,d),s=s.sibling}function bh(s,i,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?d.insertBefore(s,i):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(bh(s,i,d),s=s.sibling;s!==null;)bh(s,i,d),s=s.sibling}var lr=null,an=!1;function ps(s,i,d){for(d=d.child;d!==null;)f0(s,i,d),d=d.sibling}function f0(s,i,d){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(hl,d)}catch{}switch(d.tag){case 5:gr||Fo(d,i);case 6:var m=lr,x=an;lr=null,ps(s,i,d),lr=m,an=x,lr!==null&&(an?(s=lr,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):lr.removeChild(d.stateNode));break;case 18:lr!==null&&(an?(s=lr,d=d.stateNode,s.nodeType===8?Id(s.parentNode,d):s.nodeType===1&&Id(s,d),Mi(s)):Id(lr,d.stateNode));break;case 4:m=lr,x=an,lr=d.stateNode.containerInfo,an=!0,ps(s,i,d),lr=m,an=x;break;case 0:case 11:case 14:case 15:if(!gr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var w=x,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&yh(d,i,C),x=x.next}while(x!==m)}ps(s,i,d);break;case 1:if(!gr&&(Fo(d,i),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(O){$t(d,i,O)}ps(s,i,d);break;case 21:ps(s,i,d);break;case 22:d.mode&1?(gr=(m=gr)||d.memoizedState!==null,ps(s,i,d),gr=m):ps(s,i,d);break;default:ps(s,i,d)}}function m0(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new W_),i.forEach(function(m){var x=rC.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function ln(s,i){var d=i.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var w=s,C=i,O=C;e:for(;O!==null;){switch(O.tag){case 5:lr=O.stateNode,an=!1;break e;case 3:lr=O.stateNode.containerInfo,an=!0;break e;case 4:lr=O.stateNode.containerInfo,an=!0;break e}O=O.return}if(lr===null)throw Error(r(160));f0(w,C,x),lr=null,an=!1;var z=x.alternate;z!==null&&(z.return=null),x.return=null}catch(ae){$t(x,i,ae)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)p0(i,s),i=i.sibling}function p0(s,i){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ln(i,s),jn(s),m&4){try{sa(3,s,s.return),Zl(3,s)}catch(Ue){$t(s,s.return,Ue)}try{sa(5,s,s.return)}catch(Ue){$t(s,s.return,Ue)}}break;case 1:ln(i,s),jn(s),m&512&&d!==null&&Fo(d,d.return);break;case 5:if(ln(i,s),jn(s),m&512&&d!==null&&Fo(d,d.return),s.flags&32){var x=s.stateNode;try{ne(x,"")}catch(Ue){$t(s,s.return,Ue)}}if(m&4&&(x=s.stateNode,x!=null)){var w=s.memoizedProps,C=d!==null?d.memoizedProps:w,O=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&ot(x,w),Ve(O,C);var ae=Ve(O,w);for(C=0;C<z.length;C+=2){var ye=z[C],we=z[C+1];ye==="style"?Le(x,we):ye==="dangerouslySetInnerHTML"?oe(x,we):ye==="children"?ne(x,we):_(x,ye,we,ae)}switch(O){case"input":ft(x,w);break;case"textarea":ce(x,w);break;case"select":var ge=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var De=w.value;De!=null?Ae(x,!!w.multiple,De,!1):ge!==!!w.multiple&&(w.defaultValue!=null?Ae(x,!!w.multiple,w.defaultValue,!0):Ae(x,!!w.multiple,w.multiple?[]:"",!1))}x[Ki]=w}catch(Ue){$t(s,s.return,Ue)}}break;case 6:if(ln(i,s),jn(s),m&4){if(s.stateNode===null)throw Error(r(162));x=s.stateNode,w=s.memoizedProps;try{x.nodeValue=w}catch(Ue){$t(s,s.return,Ue)}}break;case 3:if(ln(i,s),jn(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Mi(i.containerInfo)}catch(Ue){$t(s,s.return,Ue)}break;case 4:ln(i,s),jn(s);break;case 13:ln(i,s),jn(s),x=s.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(kh=Ht())),m&4&&m0(s);break;case 22:if(ye=d!==null&&d.memoizedState!==null,s.mode&1?(gr=(ae=gr)||ye,ln(i,s),gr=ae):ln(i,s),jn(s),m&8192){if(ae=s.memoizedState!==null,(s.stateNode.isHidden=ae)&&!ye&&(s.mode&1)!==0)for(Me=s,ye=s.child;ye!==null;){for(we=Me=ye;Me!==null;){switch(ge=Me,De=ge.child,ge.tag){case 0:case 11:case 14:case 15:sa(4,ge,ge.return);break;case 1:Fo(ge,ge.return);var Be=ge.stateNode;if(typeof Be.componentWillUnmount=="function"){m=ge,d=ge.return;try{i=m,Be.props=i.memoizedProps,Be.state=i.memoizedState,Be.componentWillUnmount()}catch(Ue){$t(m,d,Ue)}}break;case 5:Fo(ge,ge.return);break;case 22:if(ge.memoizedState!==null){v0(we);continue}}De!==null?(De.return=ge,Me=De):v0(we)}ye=ye.sibling}e:for(ye=null,we=s;;){if(we.tag===5){if(ye===null){ye=we;try{x=we.stateNode,ae?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=we.stateNode,z=we.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,O.style.display=_e("display",C))}catch(Ue){$t(s,s.return,Ue)}}}else if(we.tag===6){if(ye===null)try{we.stateNode.nodeValue=ae?"":we.memoizedProps}catch(Ue){$t(s,s.return,Ue)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;ye===we&&(ye=null),we=we.return}ye===we&&(ye=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:ln(i,s),jn(s),m&4&&m0(s);break;case 21:break;default:ln(i,s),jn(s)}}function jn(s){var i=s.flags;if(i&2){try{e:{for(var d=s.return;d!==null;){if(d0(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(ne(x,""),m.flags&=-33);var w=h0(s);bh(s,w,x);break;case 3:case 4:var C=m.stateNode.containerInfo,O=h0(s);xh(s,O,C);break;default:throw Error(r(161))}}catch(z){$t(s,s.return,z)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function G_(s,i,d){Me=s,g0(s)}function g0(s,i,d){for(var m=(s.mode&1)!==0;Me!==null;){var x=Me,w=x.child;if(x.tag===22&&m){var C=x.memoizedState!==null||Ql;if(!C){var O=x.alternate,z=O!==null&&O.memoizedState!==null||gr;O=Ql;var ae=gr;if(Ql=C,(gr=z)&&!ae)for(Me=x;Me!==null;)C=Me,z=C.child,C.tag===22&&C.memoizedState!==null?x0(x):z!==null?(z.return=C,Me=z):x0(x);for(;w!==null;)Me=w,g0(w),w=w.sibling;Me=x,Ql=O,gr=ae}y0(s)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,Me=w):y0(s)}}function y0(s){for(;Me!==null;){var i=Me;if((i.flags&8772)!==0){var d=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:gr||Zl(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!gr)if(d===null)m.componentDidMount();else{var x=i.elementType===i.type?d.memoizedProps:on(i.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&vy(i,w,m);break;case 3:var C=i.updateQueue;if(C!==null){if(d=null,i.child!==null)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode}vy(i,C,d)}break;case 5:var O=i.stateNode;if(d===null&&i.flags&4){d=O;var z=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&d.focus();break;case"img":z.src&&(d.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ae=i.alternate;if(ae!==null){var ye=ae.memoizedState;if(ye!==null){var we=ye.dehydrated;we!==null&&Mi(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gr||i.flags&512&&vh(i)}catch(ge){$t(i,i.return,ge)}}if(i===s){Me=null;break}if(d=i.sibling,d!==null){d.return=i.return,Me=d;break}Me=i.return}}function v0(s){for(;Me!==null;){var i=Me;if(i===s){Me=null;break}var d=i.sibling;if(d!==null){d.return=i.return,Me=d;break}Me=i.return}}function x0(s){for(;Me!==null;){var i=Me;try{switch(i.tag){case 0:case 11:case 15:var d=i.return;try{Zl(4,i)}catch(z){$t(i,d,z)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var x=i.return;try{m.componentDidMount()}catch(z){$t(i,x,z)}}var w=i.return;try{vh(i)}catch(z){$t(i,w,z)}break;case 5:var C=i.return;try{vh(i)}catch(z){$t(i,C,z)}}}catch(z){$t(i,i.return,z)}if(i===s){Me=null;break}var O=i.sibling;if(O!==null){O.return=i.return,Me=O;break}Me=i.return}}var Y_=Math.ceil,ec=A.ReactCurrentDispatcher,wh=A.ReactCurrentOwner,Gr=A.ReactCurrentBatchConfig,pt=0,or=null,Gt=null,cr=0,Lr=0,Uo=us(0),er=0,oa=null,Gs=0,tc=0,Sh=0,ia=null,Tr=null,kh=0,$o=1/0,Hn=null,rc=!1,Nh=null,gs=null,nc=!1,ys=null,sc=0,aa=0,jh=null,oc=-1,ic=0;function wr(){return(pt&6)!==0?Ht():oc!==-1?oc:oc=Ht()}function vs(s){return(s.mode&1)===0?1:(pt&2)!==0&&cr!==0?cr&-cr:R_.transition!==null?(ic===0&&(ic=hg()),ic):(s=_t,s!==0||(s=window.event,s=s===void 0?16:wg(s.type)),s)}function cn(s,i,d,m){if(50<aa)throw aa=0,jh=null,Error(r(185));Ai(s,d,m),((pt&2)===0||s!==or)&&(s===or&&((pt&2)===0&&(tc|=d),er===4&&xs(s,cr)),Pr(s,m),d===1&&pt===0&&(i.mode&1)===0&&($o=Ht()+500,Dl&&hs()))}function Pr(s,i){var d=s.callbackNode;Rj(s,i);var m=pl(s,s===or?cr:0);if(m===0)d!==null&&cg(d),s.callbackNode=null,s.callbackPriority=0;else if(i=m&-m,s.callbackPriority!==i){if(d!=null&&cg(d),i===1)s.tag===0?A_(w0.bind(null,s)):iy(w0.bind(null,s)),C_(function(){(pt&6)===0&&hs()}),d=null;else{switch(fg(m)){case 1:d=sd;break;case 4:d=ug;break;case 16:d=dl;break;case 536870912:d=dg;break;default:d=dl}d=T0(d,b0.bind(null,s))}s.callbackPriority=i,s.callbackNode=d}}function b0(s,i){if(oc=-1,ic=0,(pt&6)!==0)throw Error(r(327));var d=s.callbackNode;if(zo()&&s.callbackNode!==d)return null;var m=pl(s,s===or?cr:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||i)i=ac(s,m);else{i=m;var x=pt;pt|=2;var w=k0();(or!==s||cr!==i)&&(Hn=null,$o=Ht()+500,Xs(s,i));do try{Q_();break}catch(O){S0(s,O)}while(!0);Vd(),ec.current=w,pt=x,Gt!==null?i=0:(or=null,cr=0,i=er)}if(i!==0){if(i===2&&(x=od(s),x!==0&&(m=x,i=_h(s,x))),i===1)throw d=oa,Xs(s,0),xs(s,m),Pr(s,Ht()),d;if(i===6)xs(s,m);else{if(x=s.current.alternate,(m&30)===0&&!X_(x)&&(i=ac(s,m),i===2&&(w=od(s),w!==0&&(m=w,i=_h(s,w))),i===1))throw d=oa,Xs(s,0),xs(s,m),Pr(s,Ht()),d;switch(s.finishedWork=x,s.finishedLanes=m,i){case 0:case 1:throw Error(r(345));case 2:Js(s,Tr,Hn);break;case 3:if(xs(s,m),(m&130023424)===m&&(i=kh+500-Ht(),10<i)){if(pl(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){wr(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=Rd(Js.bind(null,s,Tr,Hn),i);break}Js(s,Tr,Hn);break;case 4:if(xs(s,m),(m&4194240)===m)break;for(i=s.eventTimes,x=-1;0<m;){var C=31-rn(m);w=1<<C,C=i[C],C>x&&(x=C),m&=~w}if(m=x,m=Ht()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Y_(m/1960))-m,10<m){s.timeoutHandle=Rd(Js.bind(null,s,Tr,Hn),m);break}Js(s,Tr,Hn);break;case 5:Js(s,Tr,Hn);break;default:throw Error(r(329))}}}return Pr(s,Ht()),s.callbackNode===d?b0.bind(null,s):null}function _h(s,i){var d=ia;return s.current.memoizedState.isDehydrated&&(Xs(s,i).flags|=256),s=ac(s,i),s!==2&&(i=Tr,Tr=d,i!==null&&Ch(i)),s}function Ch(s){Tr===null?Tr=s:Tr.push.apply(Tr,s)}function X_(s){for(var i=s;;){if(i.flags&16384){var d=i.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],w=x.getSnapshot;x=x.value;try{if(!nn(w(),x))return!1}catch{return!1}}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xs(s,i){for(i&=~Sh,i&=~tc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var d=31-rn(i),m=1<<d;s[d]=-1,i&=~m}}function w0(s){if((pt&6)!==0)throw Error(r(327));zo();var i=pl(s,0);if((i&1)===0)return Pr(s,Ht()),null;var d=ac(s,i);if(s.tag!==0&&d===2){var m=od(s);m!==0&&(i=m,d=_h(s,m))}if(d===1)throw d=oa,Xs(s,0),xs(s,i),Pr(s,Ht()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Js(s,Tr,Hn),Pr(s,Ht()),null}function Eh(s,i){var d=pt;pt|=1;try{return s(i)}finally{pt=d,pt===0&&($o=Ht()+500,Dl&&hs())}}function Ys(s){ys!==null&&ys.tag===0&&(pt&6)===0&&zo();var i=pt;pt|=1;var d=Gr.transition,m=_t;try{if(Gr.transition=null,_t=1,s)return s()}finally{_t=m,Gr.transition=d,pt=i,(pt&6)===0&&hs()}}function Th(){Lr=Uo.current,It(Uo)}function Xs(s,i){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,__(d)),Gt!==null)for(d=Gt.return;d!==null;){var m=d;switch(Bd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Rl();break;case 3:Lo(),It(_r),It(fr),Jd();break;case 5:Yd(m);break;case 4:Lo();break;case 13:It(Lt);break;case 19:It(Lt);break;case 10:qd(m.type._context);break;case 22:case 23:Th()}d=d.return}if(or=s,Gt=s=bs(s.current,null),cr=Lr=i,er=0,oa=null,Sh=tc=Gs=0,Tr=ia=null,Hs!==null){for(i=0;i<Hs.length;i++)if(d=Hs[i],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,w=d.pending;if(w!==null){var C=w.next;w.next=x,m.next=C}d.pending=m}Hs=null}return s}function S0(s,i){do{var d=Gt;try{if(Vd(),ql.current=Gl,Hl){for(var m=Bt.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Hl=!1}if(Ks=0,sr=Zt=Bt=null,Zi=!1,ea=0,wh.current=null,d===null||d.return===null){er=1,oa=i,Gt=null;break}e:{var w=s,C=d.return,O=d,z=i;if(i=cr,O.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ae=z,ye=O,we=ye.tag;if((ye.mode&1)===0&&(we===0||we===11||we===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var De=Ky(C);if(De!==null){De.flags&=-257,Gy(De,C,O,w,i),De.mode&1&&Wy(w,ae,i),i=De,z=ae;var Be=i.updateQueue;if(Be===null){var Ue=new Set;Ue.add(z),i.updateQueue=Ue}else Be.add(z);break e}else{if((i&1)===0){Wy(w,ae,i),Ph();break e}z=Error(r(426))}}else if(Ot&&O.mode&1){var Wt=Ky(C);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),Gy(Wt,C,O,w,i),$d(Bo(z,O));break e}}w=z=Bo(z,O),er!==4&&(er=2),ia===null?ia=[w]:ia.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var te=qy(w,z,i);yy(w,te);break e;case 1:O=z;var Y=w.type,se=w.stateNode;if((w.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(gs===null||!gs.has(se)))){w.flags|=65536,i&=-i,w.lanes|=i;var Ne=Hy(w,O,i);yy(w,Ne);break e}}w=w.return}while(w!==null)}j0(d)}catch(ze){i=ze,Gt===d&&d!==null&&(Gt=d=d.return);continue}break}while(!0)}function k0(){var s=ec.current;return ec.current=Gl,s===null?Gl:s}function Ph(){(er===0||er===3||er===2)&&(er=4),or===null||(Gs&268435455)===0&&(tc&268435455)===0||xs(or,cr)}function ac(s,i){var d=pt;pt|=2;var m=k0();(or!==s||cr!==i)&&(Hn=null,Xs(s,i));do try{J_();break}catch(x){S0(s,x)}while(!0);if(Vd(),pt=d,ec.current=m,Gt!==null)throw Error(r(261));return or=null,cr=0,er}function J_(){for(;Gt!==null;)N0(Gt)}function Q_(){for(;Gt!==null&&!kj();)N0(Gt)}function N0(s){var i=E0(s.alternate,s,Lr);s.memoizedProps=s.pendingProps,i===null?j0(s):Gt=i,wh.current=null}function j0(s){var i=s;do{var d=i.alternate;if(s=i.return,(i.flags&32768)===0){if(d=q_(d,i,Lr),d!==null){Gt=d;return}}else{if(d=H_(d,i),d!==null){d.flags&=32767,Gt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{er=6,Gt=null;return}}if(i=i.sibling,i!==null){Gt=i;return}Gt=i=s}while(i!==null);er===0&&(er=5)}function Js(s,i,d){var m=_t,x=Gr.transition;try{Gr.transition=null,_t=1,Z_(s,i,d,m)}finally{Gr.transition=x,_t=m}return null}function Z_(s,i,d,m){do zo();while(ys!==null);if((pt&6)!==0)throw Error(r(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var w=d.lanes|d.childLanes;if(Ij(s,w),s===or&&(Gt=or=null,cr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||nc||(nc=!0,T0(dl,function(){return zo(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Gr.transition,Gr.transition=null;var C=_t;_t=1;var O=pt;pt|=4,wh.current=null,K_(s,d),p0(d,s),x_(Pd),vl=!!Td,Pd=Td=null,s.current=d,G_(d),Nj(),pt=O,_t=C,Gr.transition=w}else s.current=d;if(nc&&(nc=!1,ys=s,sc=x),w=s.pendingLanes,w===0&&(gs=null),Cj(d.stateNode),Pr(s,Ht()),i!==null)for(m=s.onRecoverableError,d=0;d<i.length;d++)x=i[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(rc)throw rc=!1,s=Nh,Nh=null,s;return(sc&1)!==0&&s.tag!==0&&zo(),w=s.pendingLanes,(w&1)!==0?s===jh?aa++:(aa=0,jh=s):aa=0,hs(),null}function zo(){if(ys!==null){var s=fg(sc),i=Gr.transition,d=_t;try{if(Gr.transition=null,_t=16>s?16:s,ys===null)var m=!1;else{if(s=ys,ys=null,sc=0,(pt&6)!==0)throw Error(r(331));var x=pt;for(pt|=4,Me=s.current;Me!==null;){var w=Me,C=w.child;if((Me.flags&16)!==0){var O=w.deletions;if(O!==null){for(var z=0;z<O.length;z++){var ae=O[z];for(Me=ae;Me!==null;){var ye=Me;switch(ye.tag){case 0:case 11:case 15:sa(8,ye,w)}var we=ye.child;if(we!==null)we.return=ye,Me=we;else for(;Me!==null;){ye=Me;var ge=ye.sibling,De=ye.return;if(u0(ye),ye===ae){Me=null;break}if(ge!==null){ge.return=De,Me=ge;break}Me=De}}}var Be=w.alternate;if(Be!==null){var Ue=Be.child;if(Ue!==null){Be.child=null;do{var Wt=Ue.sibling;Ue.sibling=null,Ue=Wt}while(Ue!==null)}}Me=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,Me=C;else e:for(;Me!==null;){if(w=Me,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:sa(9,w,w.return)}var te=w.sibling;if(te!==null){te.return=w.return,Me=te;break e}Me=w.return}}var Y=s.current;for(Me=Y;Me!==null;){C=Me;var se=C.child;if((C.subtreeFlags&2064)!==0&&se!==null)se.return=C,Me=se;else e:for(C=Y;Me!==null;){if(O=Me,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Zl(9,O)}}catch(ze){$t(O,O.return,ze)}if(O===C){Me=null;break e}var Ne=O.sibling;if(Ne!==null){Ne.return=O.return,Me=Ne;break e}Me=O.return}}if(pt=x,hs(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(hl,s)}catch{}m=!0}return m}finally{_t=d,Gr.transition=i}}return!1}function _0(s,i,d){i=Bo(d,i),i=qy(s,i,1),s=ms(s,i,1),i=wr(),s!==null&&(Ai(s,1,i),Pr(s,i))}function $t(s,i,d){if(s.tag===3)_0(s,s,d);else for(;i!==null;){if(i.tag===3){_0(i,s,d);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(gs===null||!gs.has(m))){s=Bo(d,s),s=Hy(i,s,1),i=ms(i,s,1),s=wr(),i!==null&&(Ai(i,1,s),Pr(i,s));break}}i=i.return}}function eC(s,i,d){var m=s.pingCache;m!==null&&m.delete(i),i=wr(),s.pingedLanes|=s.suspendedLanes&d,or===s&&(cr&d)===d&&(er===4||er===3&&(cr&130023424)===cr&&500>Ht()-kh?Xs(s,0):Sh|=d),Pr(s,i)}function C0(s,i){i===0&&((s.mode&1)===0?i=1:(i=ml,ml<<=1,(ml&130023424)===0&&(ml=4194304)));var d=wr();s=zn(s,i),s!==null&&(Ai(s,i,d),Pr(s,d))}function tC(s){var i=s.memoizedState,d=0;i!==null&&(d=i.retryLane),C0(s,d)}function rC(s,i){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(i),C0(s,d)}var E0;E0=function(s,i,d){if(s!==null)if(s.memoizedProps!==i.pendingProps||_r.current)Er=!0;else{if((s.lanes&d)===0&&(i.flags&128)===0)return Er=!1,V_(s,i,d);Er=(s.flags&131072)!==0}else Er=!1,Ot&&(i.flags&1048576)!==0&&ay(i,Ml,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;Jl(s,i),s=i.pendingProps;var x=Po(i,fr.current);Mo(i,d),x=eh(null,i,m,s,x,d);var w=th();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Cr(m)?(w=!0,Il(i)):w=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Kd(i),x.updater=Yl,i.stateNode=x,x._reactInternals=i,ah(i,m,s,d),i=dh(null,i,m,!0,w,d)):(i.tag=0,Ot&&w&&Ld(i),br(null,i,x,d),i=i.child),i;case 16:m=i.elementType;e:{switch(Jl(s,i),s=i.pendingProps,x=m._init,m=x(m._payload),i.type=m,x=i.tag=sC(m),s=on(m,s),x){case 0:i=uh(null,i,m,s,d);break e;case 1:i=e0(null,i,m,s,d);break e;case 11:i=Yy(null,i,m,s,d);break e;case 14:i=Xy(null,i,m,on(m.type,s),d);break e}throw Error(r(306,m,""))}return i;case 0:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:on(m,x),uh(s,i,m,x,d);case 1:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:on(m,x),e0(s,i,m,x,d);case 3:e:{if(t0(i),s===null)throw Error(r(387));m=i.pendingProps,w=i.memoizedState,x=w.element,gy(s,i),zl(i,m,null,d);var C=i.memoizedState;if(m=C.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){x=Bo(Error(r(423)),i),i=r0(s,i,m,d,x);break e}else if(m!==x){x=Bo(Error(r(424)),i),i=r0(s,i,m,d,x);break e}else for(Mr=cs(i.stateNode.containerInfo.firstChild),Or=i,Ot=!0,sn=null,d=my(i,null,m,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Io(),m===x){i=qn(s,i,d);break e}br(s,i,m,d)}i=i.child}return i;case 5:return xy(i),s===null&&Ud(i),m=i.type,x=i.pendingProps,w=s!==null?s.memoizedProps:null,C=x.children,Ad(m,x)?C=null:w!==null&&Ad(m,w)&&(i.flags|=32),Zy(s,i),br(s,i,C,d),i.child;case 6:return s===null&&Ud(i),null;case 13:return n0(s,i,d);case 4:return Gd(i,i.stateNode.containerInfo),m=i.pendingProps,s===null?i.child=Do(i,null,m,d):br(s,i,m,d),i.child;case 11:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:on(m,x),Yy(s,i,m,x,d);case 7:return br(s,i,i.pendingProps,d),i.child;case 8:return br(s,i,i.pendingProps.children,d),i.child;case 12:return br(s,i,i.pendingProps.children,d),i.child;case 10:e:{if(m=i.type._context,x=i.pendingProps,w=i.memoizedProps,C=x.value,Tt(Fl,m._currentValue),m._currentValue=C,w!==null)if(nn(w.value,C)){if(w.children===x.children&&!_r.current){i=qn(s,i,d);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var O=w.dependencies;if(O!==null){C=w.child;for(var z=O.firstContext;z!==null;){if(z.context===m){if(w.tag===1){z=Vn(-1,d&-d),z.tag=2;var ae=w.updateQueue;if(ae!==null){ae=ae.shared;var ye=ae.pending;ye===null?z.next=z:(z.next=ye.next,ye.next=z),ae.pending=z}}w.lanes|=d,z=w.alternate,z!==null&&(z.lanes|=d),Hd(w.return,d,i),O.lanes|=d;break}z=z.next}}else if(w.tag===10)C=w.type===i.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(r(341));C.lanes|=d,O=C.alternate,O!==null&&(O.lanes|=d),Hd(C,d,i),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===i){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}br(s,i,x.children,d),i=i.child}return i;case 9:return x=i.type,m=i.pendingProps.children,Mo(i,d),x=Wr(x),m=m(x),i.flags|=1,br(s,i,m,d),i.child;case 14:return m=i.type,x=on(m,i.pendingProps),x=on(m.type,x),Xy(s,i,m,x,d);case 15:return Jy(s,i,i.type,i.pendingProps,d);case 17:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:on(m,x),Jl(s,i),i.tag=1,Cr(m)?(s=!0,Il(i)):s=!1,Mo(i,d),zy(i,m,x),ah(i,m,x,d),dh(null,i,m,!0,s,d);case 19:return o0(s,i,d);case 22:return Qy(s,i,d)}throw Error(r(156,i.tag))};function T0(s,i){return lg(s,i)}function nC(s,i,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(s,i,d,m){return new nC(s,i,d,m)}function Ah(s){return s=s.prototype,!(!s||!s.isReactComponent)}function sC(s){if(typeof s=="function")return Ah(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===be)return 14}return 2}function bs(s,i){var d=s.alternate;return d===null?(d=Yr(s.tag,i,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=i,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,i=s.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function lc(s,i,d,m,x,w){var C=2;if(m=s,typeof s=="function")Ah(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case M:return Qs(d.children,x,w,i);case H:C=8,x|=8;break;case V:return s=Yr(12,d,i,x|2),s.elementType=V,s.lanes=w,s;case ue:return s=Yr(13,d,i,x),s.elementType=ue,s.lanes=w,s;case fe:return s=Yr(19,d,i,x),s.elementType=fe,s.lanes=w,s;case le:return cc(d,x,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:C=10;break e;case Z:C=9;break e;case Q:C=11;break e;case be:C=14;break e;case ie:C=16,m=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return i=Yr(C,d,i,x),i.elementType=s,i.type=m,i.lanes=w,i}function Qs(s,i,d,m){return s=Yr(7,s,m,i),s.lanes=d,s}function cc(s,i,d,m){return s=Yr(22,s,m,i),s.elementType=le,s.lanes=d,s.stateNode={isHidden:!1},s}function Rh(s,i,d){return s=Yr(6,s,null,i),s.lanes=d,s}function Ih(s,i,d){return i=Yr(4,s.children!==null?s.children:[],s.key,i),i.lanes=d,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function oC(s,i,d,m,x){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=id(0),this.expirationTimes=id(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=id(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Dh(s,i,d,m,x,w,C,O,z){return s=new oC(s,i,d,O,z),i===1?(i=1,w===!0&&(i|=8)):i=0,w=Yr(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(w),s}function iC(s,i,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:s,containerInfo:i,implementation:d}}function P0(s){if(!s)return ds;s=s._reactInternals;e:{if(Us(s)!==s||s.tag!==1)throw Error(r(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Cr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(Cr(d))return sy(s,d,i)}return i}function A0(s,i,d,m,x,w,C,O,z){return s=Dh(d,m,!0,s,x,w,C,O,z),s.context=P0(null),d=s.current,m=wr(),x=vs(d),w=Vn(m,x),w.callback=i??null,ms(d,w,x),s.current.lanes=x,Ai(s,x,m),Pr(s,m),s}function uc(s,i,d,m){var x=i.current,w=wr(),C=vs(x);return d=P0(d),i.context===null?i.context=d:i.pendingContext=d,i=Vn(w,C),i.payload={element:s},m=m===void 0?null:m,m!==null&&(i.callback=m),s=ms(x,i,C),s!==null&&(cn(s,x,C,w),$l(s,x,C)),C}function dc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function R0(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<i?d:i}}function Oh(s,i){R0(s,i),(s=s.alternate)&&R0(s,i)}function aC(){return null}var I0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Mh(s){this._internalRoot=s}hc.prototype.render=Mh.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));uc(s,i,null,null)},hc.prototype.unmount=Mh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ys(function(){uc(null,s,null,null)}),i[Bn]=null}};function hc(s){this._internalRoot=s}hc.prototype.unstable_scheduleHydration=function(s){if(s){var i=gg();s={blockedOn:null,target:s,priority:i};for(var d=0;d<is.length&&i!==0&&i<is[d].priority;d++);is.splice(d,0,s),d===0&&xg(s)}};function Lh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function fc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function D0(){}function lC(s,i,d,m,x){if(x){if(typeof m=="function"){var w=m;m=function(){var ae=dc(C);w.call(ae)}}var C=A0(i,m,s,0,null,!1,!1,"",D0);return s._reactRootContainer=C,s[Bn]=C.current,Hi(s.nodeType===8?s.parentNode:s),Ys(),C}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var O=m;m=function(){var ae=dc(z);O.call(ae)}}var z=Dh(s,0,!1,null,null,!1,!1,"",D0);return s._reactRootContainer=z,s[Bn]=z.current,Hi(s.nodeType===8?s.parentNode:s),Ys(function(){uc(i,z,d,m)}),z}function mc(s,i,d,m,x){var w=d._reactRootContainer;if(w){var C=w;if(typeof x=="function"){var O=x;x=function(){var z=dc(C);O.call(z)}}uc(i,C,s,x)}else C=lC(d,i,s,x,m);return dc(C)}mg=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var d=Pi(i.pendingLanes);d!==0&&(ad(i,d|1),Pr(i,Ht()),(pt&6)===0&&($o=Ht()+500,hs()))}break;case 13:Ys(function(){var m=zn(s,1);if(m!==null){var x=wr();cn(m,s,1,x)}}),Oh(s,1)}},ld=function(s){if(s.tag===13){var i=zn(s,134217728);if(i!==null){var d=wr();cn(i,s,134217728,d)}Oh(s,134217728)}},pg=function(s){if(s.tag===13){var i=vs(s),d=zn(s,i);if(d!==null){var m=wr();cn(d,s,i,m)}Oh(s,i)}},gg=function(){return _t},yg=function(s,i){var d=_t;try{return _t=s,i()}finally{_t=d}},vt=function(s,i,d){switch(i){case"input":if(ft(s,d),i=d.name,d.type==="radio"&&i!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<d.length;i++){var m=d[i];if(m!==s&&m.form===s.form){var x=Al(m);if(!x)throw Error(r(90));J(m),ft(m,x)}}}break;case"textarea":ce(s,d);break;case"select":i=d.value,i!=null&&Ae(s,!!d.multiple,i,!1)}},Et=Eh,nr=Ys;var cC={usingClientEntryPoint:!1,Events:[Gi,Eo,Al,$e,bt,Eh]},la={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uC={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ig(s),s===null?null:s.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||aC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{hl=pc.inject(uC),wn=pc}catch{}}return Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cC,Ar.createPortal=function(s,i){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(i))throw Error(r(200));return iC(s,i,null,d)},Ar.createRoot=function(s,i){if(!Lh(s))throw Error(r(299));var d=!1,m="",x=I0;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=Dh(s,1,!1,null,null,d,!1,m,x),s[Bn]=i.current,Hi(s.nodeType===8?s.parentNode:s),new Mh(i)},Ar.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ig(i),s=s===null?null:s.stateNode,s},Ar.flushSync=function(s){return Ys(s)},Ar.hydrate=function(s,i,d){if(!fc(i))throw Error(r(200));return mc(null,s,i,!0,d)},Ar.hydrateRoot=function(s,i,d){if(!Lh(s))throw Error(r(405));var m=d!=null&&d.hydratedSources||null,x=!1,w="",C=I0;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),i=A0(i,null,s,1,d??null,x,!1,w,C),s[Bn]=i.current,Hi(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[d,x]:i.mutableSourceEagerHydrationData.push(d,x);return new hc(i)},Ar.render=function(s,i,d){if(!fc(i))throw Error(r(200));return mc(null,s,i,!1,d)},Ar.unmountComponentAtNode=function(s){if(!fc(s))throw Error(r(40));return s._reactRootContainer?(Ys(function(){mc(null,null,s,!1,function(){s._reactRootContainer=null,s[Bn]=null})}),!0):!1},Ar.unstable_batchedUpdates=Eh,Ar.unstable_renderSubtreeIntoContainer=function(s,i,d,m){if(!fc(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return mc(s,i,d,!1,m)},Ar.version="18.3.1-next-f1338f8080-20240426",Ar}var z0;function _b(){if(z0)return Uh.exports;z0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Uh.exports=vC(),Uh.exports}var V0;function xC(){if(V0)return gc;V0=1;var e=_b();return gc.createRoot=e.createRoot,gc.hydrateRoot=e.hydrateRoot,gc}var bC=xC();const wC=Mm(bC),Cb=y.createContext(void 0),yt=()=>{const e=y.useContext(Cb);if(!e)throw new Error("useLanguage must be used within LanguageProvider");return e};function q0({children:e}){const[t,r]=y.useState("uz");y.useEffect(()=>{const l=localStorage.getItem("language");l&&["en","ru","uz"].includes(l)?r(l):(r("uz"),localStorage.setItem("language","uz"))},[]);const n=l=>{r(l),localStorage.setItem("language",l)},a=(l,c)=>{const u=l.split(".");let h=SC[t];for(const p of u)h=h?.[p];let f=h||l;return c&&typeof f=="string"&&Object.entries(c).forEach(([p,g])=>{f=f.replace(new RegExp(`\\{\\{${p}\\}\\}`,"g"),String(g)),f=f.replace(new RegExp(`\\{${p}\\}`,"g"),String(g))}),f};return o.jsx(Cb.Provider,{value:{language:t,setLanguage:n,t:a},children:e})}const SC={uz:{app:{name:"Bardak"},footer:{description:"Professional sartaroshlar bilan bog'lanish uchun eng yaxshi platforma",contact:"Bog'lanish",copyright:"",allRightsReserved:"Barcha huquqlar himoyalangan",termsAndConditions:"Foydalanish shartlari",privacyPolicy:"Maxfiylik siyosati"},common:{save:"Saqlash",saveChanges:"O'zgarishlarni saqlash",cancel:"Bekor qilish",edit:"Tahrirlash",delete:"O'chirish",add:"Qo'shish",yes:"Ha",no:"Yo'q",close:"Yopish",closeWithoutSaving:"Saqlamasdan yopish",logout:"Chiqish",logoutDescription:"Hisobingizdan chiqishni xohlaysizmi?",login:"Kirish",signup:"Ro'yxatdan o'tish",loading:"Yuklanmoqda...",loadingServices:"Xizmatlar yuklanmoqda...",loadingSlots:"Mavjud vaqtlar yuklanmoqda...",search:"Qidirish",filter:"Filtr",home:"Bosh sahifa",profile:"Profil",settings:"Sozlamalar",myAppointments:"Mening bronlarim",findBarber:"Sartarosh topish",back:"Ortga",previous:"Oldingi",next:"Keyingi",success:"Muvaffaqiyatli!",error:"Xato!",warning:"Ogohlantirish!",info:"Ma'lumot",favorites:"Sevimlilar",location:"Joylashuv",share:"Ulashish",bookNow:"Hozir band qilish",viewFullSize:"To'liq ko'rish",confirm:"Tasdiqlash",continue:"Davom etish",processing:"Bajarilmoqda...",optional:"ixtiyoriy",days:{short:["Yak","Dush","Sesh","Chor","Pay","Jum","Shan"]},months:{short:["Yan","Fev","Mar","Apr","May","Iyun","Iyul","Avg","Sen","Okt","Noy","Dek"]}},weekdays:{short:{sun:"Yak",mon:"Dush",tue:"Sesh",wed:"Chor",thu:"Pay",fri:"Jum",sat:"Shan"},long:{sun:"Yakshanba",mon:"Dushanba",tue:"Seshanba",wed:"Chorshanba",thu:"Payshanba",fri:"Juma",sat:"Shanba"}},months:{short:{jan:"Yan",feb:"Fev",mar:"Mar",apr:"Apr",may:"May",jun:"Iyun",jul:"Iyul",aug:"Avg",sep:"Sen",oct:"Okt",nov:"Noy",dec:"Dek"},long:{jan:"Yanvar",feb:"Fevral",mar:"Mart",apr:"Aprel",may:"May",jun:"Iyun",jul:"Iyul",aug:"Avgust",sep:"Sentabr",oct:"Oktabr",nov:"Noyabr",dec:"Dekabr"}},auth:{userAlreadyExists:"Bu foydalanuvchi allaqachon mavjud",accountNotFound:"Bunday hisob topilmadi  iltimos royxatdan oting",invalidCredentials:"Telefon raqam yoki parol noto'g'ri",register:"Ro'yxatdan o'tish",forgotPasswordShort:"Unutdingizmi?",appName:"Bardak",welcomeBack:"Xush kelibsiz!",loginTitle:"Tizimga kirish",signUpTitle:"Ro'yxatdan o'tish",customer:"Mijoz",barber:"Sartarosh",phoneNumber:"Telefon raqami",telegramOptional:"Telegram",password:"Parol",confirmPassword:"Parolni tasdiqlang",rememberMe:"Meni eslab qol",forgotPassword:"Parolni unutdingizmi?",loginButton:"Kirish",signUpButton:"Ro'yxatdan o'tish",dontHaveAccount:"Hisobingiz yo'qmi?",haveAccount:"Hisobingiz bormi?",fullName:"To'liq ism",phone:"Telefon raqami",telegramUsername:"Telegram",createAccount:"Akkaunt yaratish",alreadyHaveAccount:"Akkountingiz bormi?",iAmCustomer:"Mijoz",iAmBarber:"Sartarosh",professionalInfo:"Professional ma'lumot",barbershopNameOptional:"Sartaroshxona nomi (ixtiyoriy)",workingDistrictRequired:"Ish tumani *",languagesSpokenRequired:"Gaplashadigan tillar *",priceRangePerService:"Xizmat narxi oralig'i",aboutBio:"Men haqimda",uploadPhoto:"Rasm yuklash",continueToPayment:"To'lovga o'tish",subscriptionFeeNote:"Profilingizni faollashtirish uchun 100 000 so'm obuna to'lovi kerak",termsAgree:"Ro'yxatdan o'tish orqali siz",enterFullName:"To'liq ismingizni kiriting",fullNamePlaceholder:"Ism va familiya",enterPhone:"+998 90 123 45 67",enterTelegramUsername:"@yourusername",enterPassword:"Parolni kiriting",passwordPlaceholder:"Parolni kiriting",confirmPasswordPlaceholder:"Parolni tasdiqlang",barbershopPlaceholder:"masalan, Style Studio",selectDistrict:"Tumanni tanlang",bioPlaceholder:"Mijozlarga o'zingiz haqingizda gapirib bering...",charactersRemaining:"belgi",required:"*",optional:"(ixtiyoriy)",verifyPhone:"Telefon raqamni tasdiqlang",otpSentTo:"6 raqamli kod yuborildi",didntReceiveCode:"Kod kelmadimi?",resendCode:"Qayta yuborish",resendCodeIn:"Qayta yuborish mumkin",backToLogin:"Kirish sahifasiga qaytish",needHelp:"Yordam kerakmi?",contactSupport:"Yordam markaziga murojaat qiling",otpIncorrect:"Noto'g'ri kod  yana urinib ko'ring",otpVerificationFailed:"Tasdiqlashda xatolik yuz berdi",otpResent:"Tasdiqlash kodi qayta yuborildi",otpResendFailed:"Kodni qayta yuborishda xatolik",codeSent:"Tasdiqlash kodi yuborildi",loginRequired:"Sevimlilar qo'shish uchun tizimga kiring",password:"Parol",forgotPassword:"Parolni unutdingizmi?",resetPassword:"Parolni tiklash",sendCode:"Kod yuborish",enterCodeSentToPhone:"Telefon raqamingizga yuborilgan kodni kiriting",newPassword:"Yangi parol",confirmPassword:"Parolni tasdiqlash",smsSentWithCode:"Telefoningizga tasdiqlash kodi yuborildi.",passwordUpdatedSuccessfully:"Parol muvaffaqiyatli yangilandi.",passwordMinLength:"Parol kamida 6 ta belgidan iborat bo'lishi kerak",passwordsDontMatch:"Parollar mos kelmaydi",verifyAndReset:"Tasdiqlash va yangilash",enterNewPassword:"Yangi parolni kiriting",failedToSendCode:"Tasdiqlash kodi yuborishda xatolik",confirmPasswordPlaceholder:"Parolni qayta kiriting",loginToBook:"Bronni tugallash uchun tizimga kiring",acceptTermsPrefix:"Men",acceptTermsLink:"Foydalanish shartlari",acceptTermsSeparator:" va ",acceptPrivacyLink:"Maxfiylik siyosatiga",acceptTermsSuffix:"roziman",mustAcceptTerms:"Akkaunt yaratish uchun Shartlar va Qoidalarga rozilikning ko'rsatish kerak.",barberProfileCreated:"Sartarosh profili muvaffaqiyatli yaratildi! Iltimos, tizimga kiring.",welcomeSoniya:"Bardak-ga xush kelibsiz!",barberProfileCreatedDesc:"Sizning profil kartangiz yaratildi. Havolani mijozlaringiz bilan ulashing.",welcomeCustomer:"Xush kelibsiz!",customerAccountCreatedDesc:"Hisobingiz muvaffaqiyatli yaratildi! Endi siz sartaroshga yozilishingiz mumkin."},terms:{title:"Foydalanish shartlari",intro:"Platformadan foydalangan holda siz quyidagi shartlarga rozilik bildirasiz:",section1Title:"1. Akkaunt javobgarligi",section1Content:"Avatar, rasm, galereya, tavsif va matnlar kabi barcha kontent uchun siz javobgarsiz.",section2Title:"2. Taqiqlangan kontent",section2Content:"Noqonuniy, haqoratli, zoravon, ochiq/seksual, nafrat yoki kamsitish, yolgon/chalgituvchi, ogirlangan yoki huquqlarni buzuvchi, hamda qonunlarni buzadigan kontent taqiqlanadi.",section3Title:"3. Choralar",section3Content:"Qoidalar buzilganda biz kontentni ochirishimiz, akkauntni vaqtincha bloklashimiz yoki butunlay ochirib tashlashimiz mumkin.",section4Title:"4. Xizmatdan foydalanish",section4Content:"Platforma bron qilish va xizmatlarni boshqarish uchun. Suiistemol taqiqlanadi.",section5Title:"5. Yangilanishlar",section5Content:"Biz shartlarni yangilashimiz mumkin. Foydalanishni davom ettirish  yangi shartlarga rozilik.",agreeAndContinue:"Roziman va davom etish",scrollToBottom:"Davom etish uchun pastga aylantiring",lastUpdated:"Oxirgi yangilangan: 2025 yil yanvar"},privacy:{title:"Maxfiylik siyosati",section1Title:"1. Malumot yigish",section1Content:"Biz faqat xizmat ishlashi uchun zarur malumotlarni yigamiz (profil, bronlar, mavjud vaqtlar).",section2Title:"2. Foydalanish",section2Content:"Profilni korsatish, bron/jadval va platformani yaxshilash uchun.",section3Title:"3. Ulashish",section3Content:"Malumotlar sotilmaydi; faqat qonun talab qilsa taqdim etiladi.",section4Title:"4. Nazorat",section4Content:"Akkaunt sozlamalarida profil malumotlarini yangilash yoki ochirish mumkin."},search:{findBarber:"Sartarosh topish",homeTitle:"Bosh sahifa",myAppointments:"Mening bronlarim",bookingOverview:"Sizning bronlaringiz",cancel:"Bekor qilish",reschedule:"Qayta belgilash",bookAgain:"Qayta band qilish",moreDetails:"Batafsil ma'lumot",searchPlaceholder:"Sartaroshingizni toping",filters:"Filtrlar",foundBarbers:"Topilgan sartaroshlar",bestMatches:"Byudjetingizga mos tavsiyalar",services:"Xizmatlar",workingDistricts:"Ishlaydigan tumanlar",languagesLabel:"Tillar",distance:"Masofa",price:"Narx",confirmed:"tasdiqlangan",pending:"kutilmoqda"},barber:{myProfile:"Mening profilim",subscriptionStatus:"Obuna holati",active:"Faol",expired:"Muddati tugagan",renewSubscription:"Obunani yangilash",workingHours:"Ish vaqti",to:"dan",specialist:"Mutaxassis",myBookings:"Mening buyurtmalarim",schedule:"Jadval",upcoming:"Kelgusi",past:"O'tgan",noBookings:"Hech qanday buyurtma yo'q",noUpcomingBookings:"Kelgusi buyurtmalar yo'q",noPastBookings:"O'tgan buyurtmalar yo'q",addManualBooking:"Qo'lda buyurtma qo'shish",manualBookingDesc:"Telefon orqali buyurtmalarni qo'shish",workplaceAddress:"Ish joyi manzili",priceRange:"Narxlar oralig'i",services:"Xizmatlar",languages:"Tillar",description:"Tavsif",worksAt:"Ish joyi",showLess:"Kamroq ko'rsatish",moreInfo:"Ko'proq",copied:"Nusxalandi!",kidsWelcome:"Bolalar uchun",previousImage:"Oldingi rasm",nextImage:"Keyingi rasm",goToImage:"{index}-rasmga o'tish",closeViewer:"Ko'rish oynasini yopish",editProfile:"Profilni tahrirlash",updateProfileInfo:"Sartarosh profili ma'lumotlarini yangilang",priceRangeLabel:"Narxlar oralig'i",incompleteTitle:"Profilingizni to'ldiring",incompleteDescription:"Hisobingiz sozlash tugallanmagan. Buyurtmalarni qabul qilish uchun profilingizni yakunlang.",completeSetup:"Sozlashni yakunlash",publicProfileLink:"Ommaviy profil havolasi",publicProfileLinkDesc:"Bu havolani mijozlaringiz bilan ulashing",username:"Foydalanuvchi nomi",editUsername:"Foydalanuvchi nomini tahrirlash",edit:{saveButtonLabel:"Profilni saqlash",saveSuccess:"Profil muvaffaqiyatli saqlandi",saveSuccessComplete:"Profil va xizmatlar muvaffaqiyatli saqlandi!",saveError:"Profilni saqlab bo'lmadi, qaytadan urinib ko'ring",saving:"Saqlanmoqda...",unsavedChanges:"Saqlanmagan o'zgarishlar",unsavedChangesWarning:"Siz o'zgarishlarni saqlamadingiz. Saqlamasdan chiqmoqchimisiz?",deleteAccount:"Hisobni o'chirish",deleteAccountWarningTitle:"Hisobni o'chirishni tasdiqlaysizmi?",deleteAccountWarningDesc:"Bu amal qaytarilmaydi. Barcha ma'lumotlaringiz, xizmatlaringiz va bronlaringiz butunlay o'chirib tashlanadi. Davom etmoqchimisiz?",deleteAccountConfirm:"Ha, hisobni o'chirish",deleteAccountCancel:"Bekor qilish",accountDeleted:"Hisobingiz muvaffaqiyatli o'chirildi",accountDeleteError:"Hisobni o'chirishda xatolik yuz berdi",supportContact:"Hisobingizni va barcha bog'liq ma'lumotlarni o'chirish uchun qo'llab-quvvatlash xizmatimizga murojaat qiling.",contactSupportButton:"Qo'llab-quvvatlash xizmati"}},customer:{myBookings:"Mening buyurtmalarim",upcomingBookings:"Kelgusi buyurtmalar",pastBookings:"O'tgan buyurtmalar",noBookings:"Hech qanday buyurtma yo'q",findBarber:"Sartarosh topish",bookNow:"Hozir band qilish",bookAgain:"Yana band qilish",reschedule:"Ko'chirish",cancelBooking:"Bekor qilish",viewDetails:"Batafsil",dashboard:{welcomeBack:"Xush kelibsiz",bookingOverview:"Buyurtmalaringiz ko'rinishi",findPerfectBarber:"Mukammal sartaroshingizni toping",browseTopBarbers:"Toshkentdagi eng yaxshi sartaroshlarni ko'rib chiqing va keyingi uchrashuvni band qiling",welcomeBackName:"Xush kelibsiz, {name} ",hereBookingOverview:"Mana sizning buyurtmalaringiz ko'rinishi",myBookings:"Mening buyurtmalarim",noUpcomingBookings:"Kelgusi buyurtmalar yo'q",noBookingsMessage:"Sizda hali hech qanday buyurtma yo'q! Sartarosh toping va keyingi stilingizni band qiling ",quickTips:"Tezkor maslahatlar ",tip1:"Uchrashuvdan kamida 2 soat oldin bekor qiling yoki ko'chiring",tip2:"Sessiyangiz vaqtida boshlanishini ta'minlash uchun 5 daqiqa oldin keling",tip3:"Boshqa mijozlarga yordam berish uchun xizmatdan keyin sharh qoldiring",goodDay:"Xayrli kun, {name}!",hereOverview:"Mana sizning umumiy ko'rinishingiz",customersThisWeek:"Bu hafta mijozlar",activeBookings:"Faol buyurtmalar",todaysEarnings:"Bugungi daromad",fromCompletedServices:"Tugallangan xizmatlardan",todaysSchedule:"Bugungi jadval",appointment:"uchrashuv",appointments:"uchrashuvlar",noAppointmentsToday:"Bugun hech qanday buyurtma yo'q",enjoyFreeTime:"Bo'sh vaqtingizdan bahramand bo'ling yoki kelgusi jadvalni tekshiring!",performanceInsights:"Ishlash ko'rsatkichlari ",insightServing:"Siz bu hafta {count} ta mijozga xizmat ko'rsatyapsiz - ajoyib ish!",insightRating:"Sizning o'rtacha reytingingiz ko'proq mijozlarni jalb qilishga yordam bermoqda",insightPeakHours:"Daromadni maksimal darajaga ko'tarish uchun eng yuqori soatlarda ko'proq joylar ochishni o'ylab ko'ring",manageSchedule:"Jadvalingizni boshqaring",setAvailability:"Mavjudligingizni belgilang va ish soatlaringizni boshqaring"},favorites:{title:"Sevimlilar",subtitle:"Tez bronlash uchun saqlangan sartaroshlar",noFavorites:"Hali sevimlilar yo'q",noFavoritesMessage:"Tez kirish uchun sartaroshlarni sevimlilarga qo'shishni boshlang!",browseBarbers:"Sartaroshlarni ko'rib chiqish"},profile:{myProfile:"Mening profilim",editProfile:"Profilni tahrirlash",shareLink:"Havolani ulashish",copied:"Nusxalandi!",professionalBarber:"Professional sartarosh",loyalCustomerSince:"Sodiq mijoz",noUpcomingBookings:"Kelgusi buyurtmalar yo'q",pastBookings:"O'tgan buyurtmalar",upcoming:"kelgusi",workplaceLocation:"Ish joyi manzili",workingDistricts:"Ishlaydigan tumanlar:",getDirections:"Yo'nalishlarni olish",mapPreview:"Xarita ko'rinishi",myStats:"Mening statistikam",customers:"Mijozlar",earnings:"Daromad",rating:"Reyting",servicesPricing:"Xizmatlar va narxlar",availability:"Mavjudlik",editHours:"Vaqtni tahrirlash",mondayFriday:"Dushanba - Juma",saturday:"Shanba",sunday:"Yakshanba",closed:"Yopiq",customerReviews:"Mijozlar sharhlari",customer:"Mijoz",excellentService:"Ajoyib xizmat! Juda professional va malakali.",logout:"Chiqish"}},booking:{selectService:"Xizmatni tanlang",selectDateTime:"Sana va vaqtni tanlang",confirm:"Tasdiqlash",payment:"To'lov",bookingConfirmed:"Buyurtma tasdiqlandi!",totalPrice:"Umumiy narx",serviceDuration:"Davomiyligi",paymentMethod:"To'lov usuli",cash:"Naqd pul",payme:"Payme",click:"Click",bookingCancelled:"Buyurtma muvaffaqiyatli bekor qilindi",rescheduledSuccess:"Uchrashuv muvaffaqiyatli ko'chirildi!",bookingSuccess:"Buyurtma muvaffaqiyatli tasdiqlandi!",movedFrom:"Ko'chirildi",movedTo:"ga",newTimeConfirmed:"Yangi vaqtingiz tasdiqlandi",withBarber:"bilan",at:"soat",on:"da",rescheduledTitle:"Muvaffaqiyatli ko'chirildi! ",bookingConfirmedTitle:"Buyurtma tasdiqlandi! ",appointmentRescheduled:"Uchrashuv ko'chirildi",appointmentBooked:"muvaffaqiyatli band qilindi",confirmationSent:"Tasdiqlash profilingizga yuborildi",barberNotified:"xabardor qilindi",change:"o'zgarish",oldSlotAvailable:"Eski vaqtingiz endi mavjud",closingAutomatic:"Avtomatik yopilmoqda...",selectServices:"Xizmatlarni tanlang",multipleServices:"Bir nechta xizmatni tanlashingiz mumkin",selected:"tanlandi",selectDistrict:"Tumanni tanlang",selectDate:"Sanani tanlang",selectTime:"Vaqtni tanlang",confirmReschedule:"Tasdiqlash",confirmBooking:"Tasdiqlash",creatingBooking:"Buyurtma yaratilmoqda...",moveAppointment:"Uchrashuvni ko'chirmoqchimisiz?",from:"Dan:",to:"Ga:",services:"Xizmatlar",district:"Tuman",date:"Sana",time:"Vaqt",duration:"Davomiyligi",minutes:"daqiqa",clientName:"Mijoz ismi",phoneNumber:"Telefon raqami",total:"Jami",choosePayment:"To'lov usulini tanlang",cashAtSalon:"Naqd pul",payWhenArrive:"Kelganingizda to'lang",onlinePayment:"Onlayn to'lov",totalDuration:"Umumiy davomiyligi:",moreDetails:"Batafsil",lessDetails:"Yopish",bookingId:"Buyurtma ID:",barberId:"Sartarosh ID:",errorLoadingSlots:"Vaqt oralig'ini yuklashda xatolik",checkBackLater:"Keyinroq qayta urinib ko'ring yoki sartarosh bilan bevosita bog'laning.",noAvailableSlots:"Bo'sh vaqtlar yo'q",barberNotSetupSchedule:"{barberName} hali jadvalini sozlamagan.",checkBackLaterOrContact:"Keyinroq qayta tekshiring yoki sartarosh bilan bevosita bog'laning.",noAvailableTimesForDate:"Bu sana uchun mavjud vaqtlar yo'q.",pleaseSelectAnotherDate:"Iltimos, boshqa sanani tanlang.",showDescription:"Tavsifni ko'rish",hideDescription:"Tavsifni yashirish",noServicesFound:"Hech qanday xizmat topilmadi",noServicesYet:"Bu sartarosh hali xizmat qo'shmagan.",howToBook:"Qanday band qilmoqchisiz?",chooseBookingMethod:"O'zingizga qulay usulni tanlang",bookAsGuest:"Mehmon sifatida",noAccountRequired:"Akkaunt kerak emas",signInOrCreate:"Kirish / Akkaunt yaratish",saveBookingHistory:"Buyurtmalar tarixini saqlang",guestInfo:"Sizning ma'lumotlaringiz",guestInfoSubtitle:"Band qilish uchun bir nechta ma'lumotlar kerak",fullName:"To'liq ism",enterFullName:"To'liq ismingizni kiriting",enterPhoneNumber:"Telefon raqamingizni kiriting",guestInfoNote:"Buyurtma SMS orqali tasdiqlanadi. Akkaunt yaratilmaydi.",nameRequired:"Ism kiritish majburiy",phoneRequired:"Telefon raqam kiritish majburiy",phoneInvalid:"To'g'ri telefon raqam kiriting",guestInfoReceived:"Xush kelibsiz, {name}!",pleaseSignIn:"Davom etish uchun tizimga kiring"},bookingCard:{cancelled:"Bekor qilindi",rescheduled:"Ko'chirildi",updated:"Yangilandi:",previous:"Oldingi:",new:"Yangi:",at:"soat",cancel:"Bekor qilish",reschedule:"Ko'chirish",bookAgain:"Yana band qilish",less:"Kamroq",more:"Ko'proq",details:"tafsilotlar",bookingIdLabel:"Buyurtma ID:",phoneNumberLabel:"Telefon raqami:",callCustomer:"Mijozga qo'ng'iroq qilish",copyPhone:"Telefon raqamni nusxalash",phoneCopied:"Telefon raqami nusxalandi!",phoneCopyFailed:"Telefon raqamni nusxalab bo'lmadi"},settings:{language:"Til",selectLanguage:"Tilni tanlang",darkMode:"Tungi rejim",notifications:"Bildirishnomalar",termsAndPrivacy:"Shartlar va maxfiylik"},toast:{accountCreated:"Akkaunt muvaffaqiyatli yaratildi!",bookingCancelled:"Buyurtma muvaffaqiyatli bekor qilindi",appointmentRescheduled:"Uchrashuv muvaffaqiyatli qayta belgilandi! ",bookingConfirmed:"Buyurtma muvaffaqiyatli tasdiqlandi! ",profileUpdated:"Profil muvaffaqiyatli yangilandi!",linkCopied:"Nusxalandi",linkCopyFailed:"Havolani nusxalab bo'lmadi",subscriptionRenewed:"Obuna muvaffaqiyatli yangilandi!",imageSizeError:"Rasm hajmi 5MB dan kam bo'lishi kerak",imageTypeError:"Iltimos, rasm faylini yuklang",photoUploaded:"Rasm muvaffaqiyatli yuklandi!",avatarUploadFailed:"Avatar yuklashda xatolik yuz berdi",avatarUploadSuccess:"Avatar muvaffaqiyatli yuklandi!",avatarDeleteSuccess:"Avatar o'chirildi",avatarDeleteFailed:"Avatarni o'chirishda xatolik",invalidFileFormat:"Faqat JPG, PNG yoki WEBP formatdagi rasmlar qabul qilinadi",networkError:"Tarmoq xatosi. Iltimos, qayta urinib ko'ring",serviceAdded:"Xizmat qo'shildi!",pleaseSelectService:"Iltimos, kamida bitta xizmat va tumanni tanlang",pleaseSelectDateTime:"Iltimos, sana va vaqtni tanlang",profileLinkCopied:"Nusxalandi",openingMap:"Xaritani ochish...",paymentSuccessful:"To'lov muvaffaqiyatli amalga oshirildi!",dayMarkedAs:"kun sifatida belgilandi",working:"ishchi",off:"dam olish",slotAdded:"Yangi vaqt oraligi qo'shildi",slotRemoved:"Vaqt oraligi o'chirildi",slotUpdated:"Vaqt oraligi yangilandi",endTimeError:"Tugash vaqti boshlanish vaqtidan keyin bo'lishi kerak",nowUnavailable:"Siz endi mavjud emassiz",nowAvailable:"Siz endi mavjudsiz",maxBookingsReached:"Sizda allaqachon 3 ta faol buyurtma bor. Yangi buyurtma qilish uchun avval biror buyurtmani bekor qiling yoki yakunlang.",barberNotAvailable:"Sartarosh hozir bronlash uchun mavjud emas",barberNotFound:"Sartarosh topilmadi yoki endi mavjud emas",openingBarberProfile:"Sartarosh profili ochilmoqda",barberProfileReady:" {{name}} profilini ko'rishingiz mumkin",manualBookingSuccess:"Uchrashuv muvaffaqiyatli bron qilindi",manualBookingDeleted:"Qo'lda buyurtma o'chirildi",slotsClearedWeek:"Ushbu hafta uchun barcha vaqt slotlari tozalandi",fixFormErrors:"Iltimos, formadagi xatolarni tuzating",addOneService:"Iltimos, kamida bitta xizmat qo'shing",minPhotosRequired:"Iltimos, kamida 2 ta ichki/tashqi fotosurat yuklang (sizda 1 ta bor)",maxPhotosAllowed:"Maksimal 4 ta ichki/tashqi fotosurat ruxsat etilgan",selectDistrict:"Iltimos, tumanni tanlang",selectOneLanguage:"Iltimos, kamida bitta tilni tanlang",primaryCardUpdated:"Asosiy karta yangilandi!",cannotDeletePrimary:"Asosiy kartani o'chirib bo'lmaydi. Avval boshqa kartani asosiy qiling.",cardDeleted:"Karta muvaffaqiyatli o'chirildi!",paymentSuccess:"To'lov muvaffaqiyatli! Obunangiz endi faol.",openingReschedulePage:"Qayta joylashtirish sahifasi ochilmoqda...",openingBookingPage:"Oldingi tanlovlaringiz bilan buyurtma sahifasi ochilmoqda...",maxImagesError:"Maksimal {{max}} ta rasm. Yangisini qo'shish uchun birini o'chiring.",invalidFileFormat:"{{name}} yaroqsiz format. JPG yoki PNG ishlatilsin.",photoRemoved:"Rasm o'chirildi",loggedOut:"Tizimdan chiqdingiz",timeSlotAdded:"Yangi vaqt oralig'i qo'shildi",timeSlotRemoved:"Vaqt oralig'i o'chirildi",timeSlotUpdated:"Vaqt oralig'i yangilandi",duplicateTimeError:"Bu vaqt ushbu kun uchun allaqachon mavjud",pastTimeError:"O'tgan vaqtni qo'shib bo'lmaydi",serviceNameRequired:"Xizmat nomi majburiy",durationMustBePositive:"Davomiyligi 0 dan katta bo'lishi kerak",priceMustBePositive:"Narx 0 dan katta bo'lishi kerak",descriptionTooLong:"Xizmat tavsifi 150 belgidan oshmasligi kerak",serviceUpdated:"Xizmat yangilandi!",serviceRemoved:"Xizmat o'chirildi!",addPaymentCardFirst:"Iltimos, avval to'lov kartasini qo'shing",paymentCardSaved:"To'lov kartasi muvaffaqiyatli saqlandi! Bu karta avtomatik yangilanishlar uchun ishlatiladi.",paymentCardAdded:"To'lov kartasi muvaffaqiyatli qo'shildi!",paymentCardDeleted:"To'lov kartasi muvaffaqiyatli o'chirildi!",addedToFavorites:"Sevimlilar ro'yxatiga qo'shildi",removedFromFavorites:"Sevimlilar ro'yxatidan o'chirildi",welcomeBack:"Xush kelibsiz!",cannotAddPastSlots:"O'tib ketgan vaqtlar uchun slot qo'shib bo'lmaydi"},manualBooking:{addTitle:"Qo'lda band qilish qo'shish",editTitle:"Qo'lda band qilishni tahrirlash",manual:"Qo'lda",requiredFields:"Majburiy maydonlar",optionalFields:"Qo'shimcha maydonlar",customerName:"Mijoz nomi",customerNamePlaceholder:"Mijozning to'liq nomini kiriting",customerNameRequired:"Mijoz nomi majburiy",fullName:"To'liq ism",fullNamePlaceholder:"To'liq ismni kiriting",phoneNumber:"Telefon raqami",phoneNumberPlaceholder:"+998 90 123 45 67",dateRequired:"Sana majburiy",startTime:"Boshlanish vaqti",startTimeRequired:"Boshlanish vaqti majburiy",endTime:"Tugash vaqti",source:"Manba",oral:"Og'zaki",phone:"Telefon",telegram:"Telegram",whatsapp:"WhatsApp",walkin:"Shaxsan keldi",other:"Boshqa",status:"Holat",confirmed:"Tasdiqlandi",tentative:"Kutilmoqda",arrived:"Keldi",noshow:"Kelmadi",notes:"Eslatmalar",notesPlaceholder:"Qo'shimcha eslatmalar yoki ma'lumotlar...",timeConflict:"Mavjud band qilish bilan vaqt ziddiyati:",override:"Baribir saqlash",changeTime:"Vaqtni o'zgartirish",saved:"Qo'lda band qilish saqlandi va vaqt bloklandi",selectService:"Xizmatni tanlang",noManualBookings:"Hali qo'lda band qilishlar yo'q. Saytdan tashqarida olingan vaqtlarni bloklash uchun qo'lda band qilish qo'shing.",addManualBooking:"Qo'lda band qilish qo'shish",sendConfirmation:"Tasdiqlash yuborish",hold:"Kutish"},subscription:{threeMonthTrial:"2 oylik bepul sinov",trialSubtitle:"Bardakni 60 kun bepul ishlating. Sinov muddati tugagach, tanlangan obuna avtomatik boshlanadi.",startFreeTrial:"Bepul sinovni boshlash",freeTrialActive:"Bepul sinov faol",chooseYourPlan:"Rejangizni tanlang",planDescription:"Biznesingiz uchun eng yaxshi rejani tanlang. Istalgan vaqtda bekor qilish yoki o'zgartirish mumkin.",oneMonth:"1 oy",sixMonths:"6 oy",oneYear:"1 yil",shortTerm:"Qisqa muddatli foydalanish uchun",bestValue:"Eng yaxshi narx",longTerm:"Uzoq muddatli majburiyat uchun",month:"oy",perMonth:"oyiga",save:"Tejash:",total:"jami",subscribe:"Obuna bo'lish",selectPlan:"Rejani tanlash",currentPlan:"Joriy reja",mostPopular:"Eng mashhur",benefit1:"Bron qilish vositalariga to'liq kirish",benefit2:"Ustuvor qo'llab-quvvatlash",benefit3:"Bepul yangilanishlar",benefit4:"Payme va Click orqali to'lov",profileVisibility:"Profil qidiruv natijalarida ko'rinadi",bookingManagement:"Cheksiz bron qilishni boshqarish",customerSupport:"24/7 mijozlarni qo'llab-quvvatlash",prioritySupport:"Ustuvor mijozlarni qo'llab-quvvatlash",securePayment:"Xavfsiz to'lov",securePaymentDesc:"Sizning to'lovlaringiz himoyalangan",instantActivation:"Tezkor faollashtirish",instantActivationDesc:"To'lovdan so'ng darhol faollashtiriladi",flexiblePayment:"Moslashuvchan to'lov",flexiblePaymentDesc:"Click va Payme qabul qilish",questions:"Savollaringiz bormi?",contactSupport:"Qo'llab-quvvatlash bilan bog'laning",title:"Obuna",profileActive:"Sizning profilingiz faol va mijozlarga ko'rinadi",profileHidden:"Sizning profilingiz mijozlar qidiruvidan yashirilgan",nextPaymentDue:"Keyingi to'lov muddati:",monthlyFee:"Oylik to'lov",viewAllPlans:"Barcha obuna rejalarini ko'rish",active:"Faol",expired:"Muddati tugagan",none:"Yo'q",promoPeriod:"Aksiya davri",currentPlan:"Joriy reja",expiredWarning:"Obuna muddati tugagan",renewNowMessage:"Yana ko'rinish uchun obunani yangilang.",renewNow:"Obunani hozir yangilash",expiredBannerMessage:"Hisobingizni mijozlarga ko'rsatish uchun obunani yangilang.",renewSubscription:"Obunani yangilash",expiresInDays:"Obuna {days} kundan keyin tugaydi",expiresInDay:"Obuna 1 kundan keyin tugaydi",paymentMethodTitle:"To'lov usuli",paymentMethodDesc:"Karta ma'lumotlarini qo'shish yoki yangilash",primary:"Asosiy",setAsPrimary:"Asosiy qilish",deleteCard:"Kartani o'chirish",addNewCard:"Yangi karta qo'shish",primaryCardCharged:"Obuna yangilanishlar uchun asosiy kartadan avtomatik yechiladi.",addCardTitle:"Karta qo'shish",addCardDesc:"Quyida karta ma'lumotlaringizni kiriting. Kartangiz kelajakdagi to'lovlar uchun xavfsiz saqlanadi.",cardholderName:"Karta egasining ismi",cardholderPlaceholder:"Ism va Familiya",cardNumber:"Karta raqami",expiryDate:"Amal qilish muddati",expiryPlaceholder:"OO/YY",saving:"Saqlanmoqda...",saveCard:"Kartani saqlash",deleteCardConfirmTitle:"Ishonchingiz komilmi?",deleteCardConfirmDesc:"Bu amalni bekor qilib bo'lmaydi. Bu karta hisobingizdan butunlay o'chiriladi.",delete:"O'chirish",selectCard:"Kartani tanlang",selectCardDesc:"Obunangiz uchun to'lash uchun kartani tanlang.",confirmPayment:"To'lovni tasdiqlash",processing:"Qayta ishlanmoqda...",plan:"Reja",totalAmount:"Umumiy summa",chargedCard:"Kartadan yechildi",exp:"Amal",cardAddedSuccess:"Karta muvaffaqiyatli qo'shildi!",fillAllFields:"Iltimos, barcha maydonlarni to'ldiring",secureCardInfo:"Karta ma'lumotlaringiz xavfsiz shifrlangan va himoyalangan.",cardholderNamePlaceholder:"Sardor Rahimov",cvv:"CVV",addCard:"Karta qo'shish",payNow:"To'lash",selectPaymentMethod:"To'lov usulini tanlang",choosePaymentMethod:"To'lov uchun kerakli usulni tanlang",payWithPayme:"Payme orqali to'lash",payWithClick:"Click orqali to'lash",redirectingToPayment:"To'lov tizimiga o'tilmoqda...",status:"Holat",inactive:"Faol emas",expiresOn:"Tugash sanasi",expiredOn:"Muddati tugagan sana",paymentMethod:"To'lov usuli",startedOn:"Boshlangan sana",transactionId:"Tranzaksiya ID",subscribingTo:"Siz obuna bo'lasiz:"},schedule:{manageWorkingHours:"Ish soatlaringizni boshqaring",markAsUnavailable:"Mavjud emasligini belgilash",nowUnavailable:"Siz endi mavjud emassiz",nowAvailable:"Siz endi mavjudsiz",unavailableWarning:" Siz hozirda mavjud emas deb belgilangansiz. Yangi buyurtmalar bloklangan.",setAsWorking:"Ish kuni qilish",setAsOff:"Dam olish kuni qilish",save:"Saqlash",cancel:"Bekor qilish",booked:"Band qilingan",open:"Ochiq",closed:"Yopiq",addSlot:"Vaqt qo'shish",dayOff:"Dam olish kuni",tip:"Maslahat:",tipMessage:"Band qilingan vaqtlar avtomatik bloklangan. Keyingi mavjud vaqt faqat joriy buyurtma tugaganidan keyin ko'rinadi.",monday:"Dushanba",tuesday:"Seshanba",wednesday:"Chorshanba",thursday:"Payshanba",friday:"Juma",saturday:"Shanba",sunday:"Yakshanba",markedAsWorking:"{day} ish kuni qilib belgilandi",markedAsOff:"{day} dam olish kuni qilib belgilandi",serviceTimeInfo:"Xizmat vaqti ma'lumoti",averageServiceTime:"O'rtacha xizmat vaqti",minutes:"daqiqa",slotRecommendation:"Tavsiya etiladi: vaqt oralig'ini har",minuteIntervals:"daqiqa oraliqda qo'shish",addTimeSlot:"Vaqt oralig'ini qo'shish",selectTime:"Vaqtni tanlang",time:"Vaqt",recommendedInterval:"Tavsiya etilgan oraliq",timeAlreadyExists:"Bu vaqt allaqachon mavjud. Boshqa vaqtni tanlang.",startTime:"Boshlanish vaqti",addSlotDescription:"Birinchi vaqt oralig'ini yaratish uchun boshlanish vaqtini tanlang",slotAddedSuccess:"Vaqt oralig'i muvaffaqiyatli qo'shildi",addTimeSlotModal:"Vaqt oralig'i qo'shish",timeHHMM:"Vaqt (SS:DD)",slotAlreadyBooked:"Bu vaqt allaqachon band. Mavjud bandlikni boshqarish uchun uni oching.",quickSetup:"Tez sozlash",from:"Boshlanish vaqti",to:"Tugash vaqti",avgDuration:"O'rtacha davomiylik",clear:"Tozalash",setUp:"Sozlash",clearing:"Tozalanmoqda...",settingUp:"Sozlanmoqda...",generatedSuccess:"{count} ta vaqt 7 kun uchun {duration}s da yaratildi!",replaceTitle:"Mavjud vaqtlar almashtirilsinmi?",replaceDescription:"Bu barcha mavjud vaqt oralig'larini yangilari bilan almashtiradi. Bu amalni qaytarib bo'lmaydi.",replace:"Almashtirish"},months:{short:["Yan","Fev","Mar","Apr","May","Iyun","Iyul","Avg","Sen","Okt","Noy","Dek"]},servicesManager:{title:"Xizmatlar",description:"Siz taklif qilayotgan xizmatlarni qo'shing  mijozlar band qilishda ularni tanlaydi.",showMore:"{count} ta ko'proq ko'rsatish",showLess:"Kamroq ko'rsatish",addNewService:"Yangi xizmat qo'shish",editService:"Xizmatni tahrirlash",serviceName:"Xizmat nomi",serviceNamePlaceholder:"masalan, Soch kesish, Soqol olish, Soch bo'yash",duration:"Davomiyligi (daqiqa)",price:"Narxi (UZS)",descriptionOptional:"Tavsif (ixtiyoriy)",descriptionPlaceholder:"Ushbu xizmatning qisqacha tavsifi...",charactersCount:"{current}/{max} belgi",addService:"Xizmat qo'shish",updateService:"Xizmatni yangilash",emptyStateMessage:"Hali xizmatlar qo'shilmagan. Boshlash uchun birinchi xizmatni qo'shing.",addFirstService:"Birinchi xizmatni qo'shish"},interiorExteriorGallery:{title:"Ichki va tashqi fotosuratlar",description:"Dokoningizning ichki yoki tashqi korinishining {minImages}{maxImages} ta fotosuratlarini yuklang. JPG/PNG, har biri 5MB gacha.",uploadPhotos:"Fotosuratlar yuklash",addMorePhotos:"Yana fotosuratlar qoshish",photosCount:"{current}/{max} ta fotosurat",maxImagesReached:"Maksimal {max} ta rasm chegarasiga yetdingiz. Yangisini qoshish uchun birini ochiring.",warningMinPhotos:" Iltimos, kamida {min} ta ichki/tashqi fotosurat yuklang.",warningMoreNeeded:"({more} ta yana kerak)",uploadingFiles:"{count} ta fayl yuklanmoqda...",altText:"Ichki/Tashqi",fullSizeAltText:"Toliq olchamli"},profileEditor:{uploadPhotoFromPhone:"Telefondan rasm yuklash",maxSizeFormats:"Maksimal hajm: 5MB  Formatlar: JPG, PNG, WebP",fullName:"To'liq ism",fullNamePlaceholder:"Sizning to'liq ismingiz",phoneNumber:"Telefon raqami",barbershopNamePlaceholder:"Masalan: Style Masters",personalizeProfile:"Profilingizni va sozlamalaringizni sozlang",uploadPhoto:"Rasm yuklash",workingDistrict:"Ish tumani",languagesSpoken:"Gaplashadigan tillar",workplaceAddress:"Ish joyi manzili",addressPlaceholder:"Ko'cha manzili, bino raqami",googleMapsLink:"Joylashuv havolasi",mapsUrlPlaceholder:"https://maps.google.com/...",preview:"Profil ko'rinishi",howCustomersSeeYou:"Mijozlar sizning profilingizni shunday ko'rishadi",servicesForKids:"Bolalar uchun xizmat",servicesForKidsDescription:"Bolalar uchun soch kesish xizmatlari taqdim etasizmi?",description:"Tavsif",descriptionPlaceholder:"Mijozlarga o'zingiz, tajribangiz va uslubingiz haqida gapirib bering..."},searchFilters:{searchPlaceholder:"Qidirish",filters:"Filterlar",priceRange:"Narx oralig'i (UZS)",minPrice:"Min (UZS)",maxPrice:"Maks (UZS)",districtsOfTashkent:"Toshkent tumanlari",languages:"Tillar",showOnlyFavorites:"Faqat sevimlilar",on:"Yoqilgan",off:"O'chirilgan",showOnlyKidsServices:"Faqat bolalar uchun",resetFilters:"Filterlarni tiklash",noResultsFound:"Mezonlaringizga mos sartaroshlar topilmadi",noBarbersYet:"Hali sartaroshlar mavjud emas",any:"Istalgan",uzbek:"O'zbek",russian:"Rus",english:"Ingliz",turkish:"Turk",sharedWithYou:"Siz bilan bo'lishilgan"}},ru:{app:{name:"Bardak"},footer:{description:"      ",contact:"",copyright:"",allRightsReserved:"  ",termsAndConditions:" ",privacyPolicy:" "},common:{save:"",saveChanges:" ",cancel:"",edit:"",delete:"",add:"",yes:"",no:"",close:"",closeWithoutSaving:"  ",logout:"",logoutDescription:" ,     ?",login:"",signup:"",loading:"...",loadingServices:" ...",loadingSlots:"  ...",search:"",filter:"",home:"",profile:"",settings:"",myAppointments:" ",findBarber:" ",back:"",previous:"",next:"",success:"!",error:"!",warning:"!",info:"",favorites:"",location:"",share:"",bookNow:" ",viewFullSize:"  ",confirm:"",continue:"",processing:"...",optional:"",days:{short:["","","","","","",""]},months:{short:["","","","","","","","","","","",""]}},weekdays:{short:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},long:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""}},months:{short:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""},long:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},auth:{userAlreadyExists:"  ",accountNotFound:"    , ",invalidCredentials:"    ",register:"",forgotPasswordShort:" ?",appName:"Bardak",welcomeBack:" !",loginTitle:"",signUpTitle:"",customer:"",barber:"",phoneNumber:" ",telegramOptional:"Telegram ()",password:"",confirmPassword:" ",rememberMe:" ",forgotPassword:" ?",loginButton:"",signUpButton:"",dontHaveAccount:" ?",haveAccount:"  ?",fullName:" ",phone:" ",telegramUsername:"Telegram",createAccount:" ",alreadyHaveAccount:"  ?",iAmCustomer:"",iAmBarber:"",professionalInfo:" ",barbershopNameOptional:"  ()",workingDistrictRequired:"  *",languagesSpokenRequired:"  *",priceRangePerService:"   ",aboutBio:" ",uploadPhoto:" ",continueToPayment:"  ",termsAgree:",   ",enterFullName:"  ",fullNamePlaceholder:"  ",enterPhone:"+998 90 123 45 67",enterTelegramUsername:"@yourusername",enterPassword:" ",passwordPlaceholder:" ",confirmPasswordPlaceholder:" ",barbershopPlaceholder:", Style Studio",selectDistrict:" ",bioPlaceholder:"   ...",charactersRemaining:"",required:"*",optional:"()",verifyPhone:"  ",otpSentTo:"6-   ",didntReceiveCode:"  ?",resendCode:" ",resendCodeIn:" ",backToLogin:"  ",needHelp:" ?",contactSupport:"  ",otpIncorrect:"    ",otpVerificationFailed:" ",otpResent:"  ",otpResendFailed:"   ",codeSent:"  ",loginRequired:",    ",password:"",forgotPassword:" ?",resetPassword:" ",sendCode:" ",enterCodeSentToPhone:" ,    ",newPassword:" ",confirmPassword:" ",smsSentWithCode:"  SMS   .",passwordUpdatedSuccessfully:"  .",passwordMinLength:"    6 ",passwordsDontMatch:"  ",verifyAndReset:"  ",enterNewPassword:"  ",failedToSendCode:"    ",confirmPasswordPlaceholder:"  ",loginToBook:", ,   ",acceptTermsPrefix:" () ",acceptTermsLink:" ",acceptTermsSeparator:"  ",acceptPrivacyLink:" ",acceptTermsSuffix:"",mustAcceptTerms:"          .",barberProfileCreated:"   ! , .",welcomeSoniya:"   Bardak!",barberProfileCreatedDesc:"   .    .",welcomeCustomer:" !",customerAccountCreatedDesc:"   !      ."},terms:{title:" ",intro:" ,     :",section1Title:"1.  ",section1Content:"      (, , , , ).",section2Title:"2.  ",section2Content:", , , /,  /, /  , / ,   ,  .",section3Title:"3. ",section3Content:"   ,         .",section4Title:"4.  ",section4Content:"      .  .",section5Title:"5. ",section5Content:"   .       .",agreeAndContinue:"  ",scrollToBottom:" ,  ",lastUpdated:" :  2025"},privacy:{title:" ",section1Title:"1.  ",section1Content:"   ,     (, , ).",section2Title:"2. ",section2Content:"  , /   .",section3Title:"3. ",section3Content:"        ,    .",section4Title:"4. ",section4Content:"         ."},search:{findBarber:" ",homeTitle:"",myAppointments:" ",bookingOverview:" ",cancel:"",reschedule:"",bookAgain:" ",moreDetails:"",searchPlaceholder:" ,   ",filters:"",foundBarbers:" ",bestMatches:"    ",services:"",workingDistricts:" ",languagesLabel:"",distance:"",price:"",confirmed:"",pending:" "},barber:{myProfile:" ",subscriptionStatus:" ",active:"",expired:"",renewSubscription:" ",workingHours:" ",to:"",specialist:"",myBookings:" ",schedule:"",upcoming:"",past:"",noBookings:" ",noUpcomingBookings:"  ",noPastBookings:"  ",addManualBooking:"  ",manualBookingDesc:" ,   ",workplaceAddress:"  ",priceRange:" ",services:"",languages:"",description:"",worksAt:" ",showLess:" ",moreInfo:"",copied:"!",kidsWelcome:" ",previousImage:" ",nextImage:" ",goToImage:"   {index}",closeViewer:" ",editProfile:" ",updateProfileInfo:"   ",priceRangeLabel:" ",incompleteTitle:"  ",incompleteDescription:"    . ,     .",completeSetup:" ",publicProfileLink:"   ",publicProfileLinkDesc:"    ",username:" ",editUsername:"  ",edit:{saveButtonLabel:" ",saveSuccess:"  ",saveSuccessComplete:"    !",saveError:"   ,  ",saving:"...",unsavedChanges:" ",unsavedChangesWarning:"    .   ?",deleteAccount:" ",deleteAccountWarningTitle:" ,    ?",deleteAccountWarningDesc:"  .   ,      . ?",deleteAccountConfirm:",  ",deleteAccountCancel:"",accountDeleted:"   ",accountDeleteError:"   ",supportContact:"       , ,     .",contactSupportButton:"  "}},customer:{myBookings:" ",upcomingBookings:" ",pastBookings:" ",noBookings:"  ",findBarber:" ",bookNow:"",bookAgain:" ",reschedule:"",cancelBooking:"",viewDetails:"",dashboard:{welcomeBack:" ",bookingOverview:" ",findPerfectBarber:"   ",browseTopBarbers:"         ",welcomeBackName:" , {name} ",hereBookingOverview:"   ",myBookings:" ",noUpcomingBookings:"  ",noBookingsMessage:"    !       ",quickTips:"  ",tip1:"     2   ",tip2:"  5    ,   ",tip3:"   ,    ",goodDay:" , {name}!",hereOverview:"  ",customersThisWeek:"   ",activeBookings:" ",todaysEarnings:" ",fromCompletedServices:"  ",todaysSchedule:"  ",appointment:"",appointments:"",noAppointmentsToday:"   ",enjoyFreeTime:"      !",performanceInsights:"  ",insightServing:"  {count}     -  !",insightRating:"      ",insightPeakHours:"           ",manageSchedule:" ",setAvailability:"     "},favorites:{title:"",subtitle:"   ",noFavorites:"  ",noFavoritesMessage:"       !",browseBarbers:" "},profile:{myProfile:" ",editProfile:" ",shareLink:" ",copied:"!",professionalBarber:" ",loyalCustomerSince:" ",noUpcomingBookings:"  ",pastBookings:" ",upcoming:"",workplaceLocation:"  ",workingDistricts:" :",getDirections:" ",mapPreview:"  ",myStats:" ",customers:"",earnings:"",rating:"",servicesPricing:"  ",availability:"",editHours:"  ",mondayFriday:" - ",saturday:"",sunday:"",closed:"",customerReviews:" ",customer:"",excellentService:" !    .",logout:""}},booking:{selectService:" ",selectDateTime:"   ",confirm:"",payment:"",bookingConfirmed:" !",totalPrice:" ",serviceDuration:"",paymentMethod:" ",cash:"  ",payme:"Payme",click:"Click",bookingCancelled:"  ",rescheduledSuccess:"  !",bookingSuccess:"  !",movedFrom:" ",movedTo:"",newTimeConfirmed:"   ",withBarber:"",at:"",on:"",rescheduledTitle:" ! ",bookingConfirmedTitle:" ! ",appointmentRescheduled:"   ",appointmentBooked:" ",confirmationSent:"    ",barberNotified:"",change:"",oldSlotAvailable:"    ",closingAutomatic:" ...",selectServices:" ",multipleServices:"    ",selected:"",selectDistrict:" ",selectDate:" ",selectTime:" ",confirmReschedule:"",confirmBooking:"",creatingBooking:" ...",moveAppointment:"  ?",from:":",to:":",services:"",district:"",date:"",time:"",duration:"",minutes:"",clientName:" ",phoneNumber:" ",total:"",choosePayment:"  ",cashAtSalon:"  ",payWhenArrive:"  ",onlinePayment:" ",totalDuration:" :",moreDetails:"",lessDetails:"",bookingId:"ID :",barberId:"ID :",errorLoadingSlots:"  ",checkBackLater:",       .",noAvailableSlots:"  ",barberNotSetupSchedule:"{barberName}     .",checkBackLaterOrContact:",       .",noAvailableTimesForDate:"     .",pleaseSelectAnotherDate:",   .",showDescription:" ",hideDescription:" ",noServicesFound:"  ",noServicesYet:"     .",howToBook:"   ?",chooseBookingMethod:"  ",bookAsGuest:"  ",noAccountRequired:"  ",signInOrCreate:" /  ",saveBookingHistory:"  ",guestInfo:" ",guestInfoSubtitle:"    ",fullName:" ",enterFullName:"   ",enterPhoneNumber:"   ",guestInfoNote:"    SMS.    .",nameRequired:" ",phoneRequired:"  ",phoneInvalid:"   ",guestInfoReceived:" , {name}!",pleaseSignIn:",   "},bookingCard:{cancelled:"",rescheduled:"",updated:":",previous:":",new:":",at:"",cancel:"",reschedule:"",bookAgain:" ",less:"",more:"",details:"",bookingIdLabel:"ID :",phoneNumberLabel:" :",callCustomer:" ",copyPhone:"  ",phoneCopied:"  !",phoneCopyFailed:"    "},settings:{language:"",selectLanguage:" ",darkMode:" ",notifications:"",termsAndPrivacy:"  "},toast:{accountCreated:"  !",bookingCancelled:"  ",appointmentRescheduled:"  ! ",bookingConfirmed:"  ! ",profileUpdated:"  !",linkCopied:"    !",linkCopyFailed:"   ",subscriptionRenewed:"  !",imageSizeError:"     5MB",imageTypeError:",  ",photoUploaded:"  !",avatarUploadFailed:"  ",avatarUploadSuccess:"  !",avatarDeleteSuccess:" ",avatarDeleteFailed:"  ",invalidFileFormat:"  JPG, PNG  WEBP ",networkError:" .   ",serviceAdded:" !",pleaseSelectService:",       ",pleaseSelectDateTime:",    ",profileLinkCopied:"      !",openingMap:" ...",paymentSuccessful:"  !",dayMarkedAs:"  ",working:"",off:"",slotAdded:"   ",slotRemoved:"  ",slotUpdated:"  ",endTimeError:"      ",nowUnavailable:"  ",nowAvailable:"  ",maxBookingsReached:"    3  . ,      ,    .",barberNotAvailable:"      ",barberNotFound:"      ",openingBarberProfile:"  ",barberProfileReady:"  {{name}}   ",manualBookingSuccess:"  ",manualBookingDeleted:"  ",slotsClearedWeek:"      ",fixFormErrors:",    ",addOneService:",     ",minPhotosRequired:",    2  / (  1)",maxPhotosAllowed:" 4  / ",selectDistrict:",  ",selectOneLanguage:",     ",primaryCardUpdated:"  !",cannotDeletePrimary:"   .      .",cardDeleted:"  !",paymentSuccess:"  !    .",openingReschedulePage:"   ...",openingBookingPage:"      ...",maxImagesError:" {{max}} .  ,   .",invalidFileFormat:"{{name}}  .  JPG  PNG.",photoRemoved:" ",loggedOut:"   ",timeSlotAdded:"   ",timeSlotRemoved:"  ",timeSlotUpdated:"  ",duplicateTimeError:"      ",pastTimeError:"   ",serviceNameRequired:"  ",durationMustBePositive:"    0",priceMustBePositive:"    0",descriptionTooLong:"     150 ",serviceUpdated:" !",serviceRemoved:" !",addPaymentCardFirst:",    ",paymentCardSaved:"   !       .",paymentCardAdded:"   !",paymentCardDeleted:"   !",addedToFavorites:"  ",removedFromFavorites:"  ",welcomeBack:" !",cannotAddPastSlots:"     "},manualBooking:{addTitle:"  ",editTitle:"  ",manual:"",requiredFields:" ",optionalFields:" ",customerName:" ",customerNamePlaceholder:"   ",customerNameRequired:"  ",fullName:" ",fullNamePlaceholder:"  ",phoneNumber:" ",phoneNumberPlaceholder:"+998 90 123 45 67",dateRequired:" ",startTime:" ",startTimeRequired:"  ",endTime:" ",source:"",oral:"",phone:"",telegram:"Telegram",whatsapp:"WhatsApp",walkin:" ",other:"",status:"",confirmed:"",tentative:"",arrived:"",noshow:" ",notes:"",notesPlaceholder:"   ...",timeConflict:"    :",override:"  ",changeTime:" ",saved:"     ",selectService:" ",noManualBookings:"   .       ,   .",addManualBooking:"  ",sendConfirmation:" ",hold:""},subscription:{threeMonthTrial:"   2 ",trialSubtitle:" Bardak  60 .",startFreeTrial:"  ",freeTrialActive:"  ",chooseYourPlan:"  ",planDescription:"     .      .",oneMonth:"1 ",sixMonths:"6 ",oneYear:"1 ",shortTerm:"  ",bestValue:" ",longTerm:"  ",month:"",perMonth:" ",save:":",total:"",subscribe:"",selectPlan:" ",currentPlan:" ",mostPopular:" ",benefit1:"    ",benefit2:" ",benefit3:" ",benefit4:"  Payme  Click",profileVisibility:"    ",bookingManagement:"  ",customerSupport:"  24/7",prioritySupport:"  ",securePayment:" ",securePaymentDesc:"  ",instantActivation:" ",instantActivationDesc:"   ",flexiblePayment:" ",flexiblePaymentDesc:" Click  Payme",questions:" ?",contactSupport:"  ",title:"",profileActive:"     ",profileHidden:"     ",nextPaymentDue:" :",monthlyFee:" ",viewAllPlans:"   ",active:"",expired:"",none:"",promoPeriod:" ",currentPlan:" ",expiredWarning:"  ",renewNowMessage:"   ,  .",renewNow:" ",expiredBannerMessage:"     ,  .",renewSubscription:" ",expiresInDays:"   {days} ",expiresInDay:"   1 ",paymentMethodTitle:" ",paymentMethodDesc:"    ",primary:"",setAsPrimary:" ",deleteCard:" ",addNewCard:"  ",primaryCardCharged:"          .",addCardTitle:" ",addCardDesc:"   .        .",cardholderName:"  ",cardholderPlaceholder:"  ",cardNumber:" ",expiryDate:" ",expiryPlaceholder:"/",saving:"...",saveCard:" ",deleteCardConfirmTitle:" ?",deleteCardConfirmDesc:"   .       .",delete:"",selectCard:" ",selectCardDesc:"     .",confirmPayment:"",processing:"...",plan:"",totalAmount:"",chargedCard:"  ",exp:"",cardAddedSuccess:"  !",fillAllFields:",   ",secureCardInfo:"      .",cardholderNamePlaceholder:" ",cvv:"CVV",addCard:" ",payNow:"",selectPaymentMethod:"  ",choosePaymentMethod:"   ",payWithPayme:"  Payme",payWithClick:"  Click",redirectingToPayment:"   ...",status:"",inactive:"",expiresOn:" ",expiredOn:" ",paymentMethod:" ",startedOn:"",transactionId:"ID ",subscribingTo:"   :"},schedule:{manageWorkingHours:"",markAsUnavailable:"  ",nowUnavailable:"  ",nowAvailable:"  ",unavailableWarning:"       .   .",setAsWorking:" ",setAsOff:" ",save:"",cancel:"",booked:"",open:"",closed:"",addSlot:" ",dayOff:"",tip:":",tipMessage:"   .         .",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",markedAsWorking:"{day}    ",markedAsOff:"{day}   ",serviceTimeInfo:"   ",averageServiceTime:"  ",minutes:"",slotRecommendation:"     ",minuteIntervals:"",addTimeSlot:"  ",selectTime:"  ",time:"",recommendedInterval:" ",timeAlreadyExists:"   .   .",startTime:" ",addSlotDescription:"       ",slotAddedSuccess:"   ",addTimeSlotModal:"  ",timeHHMM:" (:)",slotAlreadyBooked:"   .      .",quickSetup:" ",from:" ",to:" ",avgDuration:" ",clear:"",setUp:"",clearing:"...",settingUp:"...",generatedSuccess:" {count}   7   {duration}!",replaceTitle:"  ?",replaceDescription:"      .    .",replace:""},months:{short:["","","","","","","","","","","",""]},servicesManager:{title:"",description:" ,          .",showMore:"  {count}",showLess:" ",addNewService:"  ",editService:" ",serviceName:" ",serviceNamePlaceholder:", , , ",duration:" ()",price:" (UZS)",descriptionOptional:" ()",descriptionPlaceholder:"   ...",charactersCount:"{current}/{max} ",addService:" ",updateService:" ",emptyStateMessage:"   .   ,  .",addFirstService:"  "},interiorExteriorGallery:{title:"   ",description:" {minImages}{maxImages}    . JPG/PNG,  5 .",uploadPhotos:" ",addMorePhotos:"  ",photosCount:"{current}/{max} ",maxImagesReached:"   {max} .  ,   .",warningMinPhotos:" ,   {min}  /.",warningMoreNeeded:"(  {more})",uploadingFiles:" {count} ...",altText:"/",fullSizeAltText:" "},profileEditor:{uploadPhotoFromPhone:"   ",maxSizeFormats:" : 5MB  : JPG, PNG, WebP",fullName:" ",fullNamePlaceholder:"  ",phoneNumber:" ",barbershopNamePlaceholder:": Style Masters",personalizeProfile:"    ",uploadPhoto:" ",workingDistrict:" ",languagesSpoken:" ",workplaceAddress:"  ",addressPlaceholder:",  ",googleMapsLink:"  ",mapsUrlPlaceholder:"https://maps.google.com/...",preview:" ",howCustomersSeeYou:"    ",servicesForKids:"  ",servicesForKidsDescription:"      ?",description:"",descriptionPlaceholder:"   ,     ..."},searchFilters:{searchPlaceholder:"",filters:"",priceRange:"  (UZS)",minPrice:" (UZS)",maxPrice:" (UZS)",districtsOfTashkent:" ",languages:"",showOnlyFavorites:" ",on:"",off:"",showOnlyKidsServices:" ",resetFilters:" ",noResultsFound:"     ",noBarbersYet:"  ",any:"",uzbek:"",russian:"",english:"",sharedWithYou:"  ",turkish:""}},en:{app:{name:"Bardak"},footer:{description:"The best platform to connect with professional barbers",contact:"Contact",copyright:"",allRightsReserved:"All rights reserved",termsAndConditions:"Terms & Conditions",privacyPolicy:"Privacy Policy"},common:{save:"Save",saveChanges:"Save Changes",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add",yes:"Yes",no:"No",close:"Close",closeWithoutSaving:"Close Without Saving",logout:"Logout",logoutDescription:"Are you sure you want to log out of your account?",login:"Login",signup:"Sign Up",loading:"Loading...",loadingServices:"Loading services...",loadingSlots:"Loading available slots...",search:"Search",filter:"Filter",home:"Home",profile:"Profile",settings:"Settings",myAppointments:"My Appointments",findBarber:"Find a Barber",back:"Back",previous:"Previous",next:"Next",success:"Success!",error:"Error!",warning:"Warning!",info:"Info",favorites:"Favorites",location:"Location",share:"Share",bookNow:"Book Now",viewFullSize:"View Full Size",confirm:"Confirm",continue:"Continue",processing:"Processing...",optional:"optional",days:{short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},months:{short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},weekdays:{short:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},long:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{short:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"},long:{jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",sep:"September",oct:"October",nov:"November",dec:"December"}},auth:{userAlreadyExists:"User already exists",accountNotFound:"No account found  please register",invalidCredentials:"Invalid phone number or password",register:"Register",forgotPasswordShort:"Forgot?",appName:"Bardak",welcomeBack:"Welcome back!",loginTitle:"Login",signUpTitle:"Sign Up",customer:"Customer",barber:"Barber",phoneNumber:"Phone Number",telegramOptional:"Telegram Username (optional)",password:"Password",confirmPassword:"Confirm Password",rememberMe:"Remember me",forgotPassword:"Forgot Password?",loginButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",haveAccount:"Already have an account?",fullName:"Full Name",phone:"Phone Number",telegramUsername:"Telegram Username",createAccount:"Create Your Account",alreadyHaveAccount:"Already have an account?",iAmCustomer:"Customer",iAmBarber:"Barber",professionalInfo:"Professional Information",barbershopNameOptional:"Barbershop Name (Optional)",workingDistrictRequired:"Working District *",languagesSpokenRequired:"Languages Spoken *",priceRangePerService:"Price Range per Service",aboutBio:"About / Bio",uploadPhoto:"Upload Photo",continueToPayment:"Continue to Payment",subscriptionFeeNote:"You'll need to pay 100,000 UZS subscription fee to activate your profile",termsAgree:"By signing up, you agree to our",enterFullName:"Enter your full name",fullNamePlaceholder:"Name and surname",enterPhone:"+998 90 123 45 67",enterTelegramUsername:"@yourusername",enterPassword:"Enter password",passwordPlaceholder:"Enter password",confirmPasswordPlaceholder:"Confirm password",barbershopPlaceholder:"e.g., Style Studio",selectDistrict:"Select a district",bioPlaceholder:"Tell customers about yourself...",charactersRemaining:"characters",required:"*",optional:"(optional)",verifyPhone:"Verify your phone",otpSentTo:"We sent a 6-digit code to",didntReceiveCode:"Didn't receive the code?",resendCode:"Resend code",resendCodeIn:"Try again in",backToLogin:"Back to login",needHelp:"Need help?",contactSupport:"Contact support",otpIncorrect:"Incorrect code  try again",otpVerificationFailed:"Verification failed",otpResent:"Verification code sent",otpResendFailed:"Failed to resend code",codeSent:"Verification code sent",loginRequired:"Please login to add favorites",password:"Password",forgotPassword:"Forgot password?",resetPassword:"Reset Password",sendCode:"Send code",enterCodeSentToPhone:"Enter the code sent to your phone",newPassword:"New password",confirmPassword:"Confirm password",smsSentWithCode:"We've sent an SMS with a verification code.",passwordUpdatedSuccessfully:"Password updated successfully.",passwordMinLength:"Password must be at least 6 characters",passwordsDontMatch:"Passwords don't match",verifyAndReset:"Verify and reset",enterNewPassword:"Enter new password",failedToSendCode:"Failed to send verification code",confirmPasswordPlaceholder:"Re-enter password",loginToBook:"Please login to complete your booking",acceptTermsPrefix:"I agree to the",acceptTermsLink:"Terms & Conditions",acceptTermsSeparator:" and ",acceptPrivacyLink:"Privacy Policy",acceptTermsSuffix:"",mustAcceptTerms:"You must accept the Terms & Conditions and Privacy Policy to create an account.",barberProfileCreated:"Barber profile created successfully! Please login.",welcomeSoniya:"Welcome to Bardak!",barberProfileCreatedDesc:"Your profile card has been created. Share your link with clients.",welcomeCustomer:"Welcome!",customerAccountCreatedDesc:"Your account has been created successfully! You can now book a barber."},terms:{title:"Terms & Conditions",agreeAndContinue:"Agree & Continue",scrollToBottom:"Scroll to continue",lastUpdated:"Last updated: January 2025",section1Title:"1. Acceptance of Terms",section1Content:"By accessing the Trimly platform, you fully agree to these Terms and Conditions. If you do not agree with these terms, please do not use the platform.",section2Title:"2. User Obligations",section2Content:"When using the Trimly platform, you agree to:",section2Item1:"Provide accurate and truthful information",section2Item2:"Keep your account credentials confidential",section2Item3:"Not use the platform for illegal purposes",section2Item4:"Respect other users and their property",section3Title:"3. Booking and Cancellation Policy",section3Content:"Bookings must be made in advance. Cancellations must be made at least 2 hours before the scheduled time. Last-minute cancellations or no-shows may result in account restrictions.",section4Title:"4. Payment and Refunds",section4Content:"All payments are processed securely. Refunds are issued based on the nature of services provided. Detailed refund policy can be found in the barber's profile.",section5Title:"5. Privacy and Data Protection",section5Content:"Your personal data is protected in accordance with our Privacy Policy. By using the platform, you consent to the collection and use of your data.",section6Title:"6. Intellectual Property",section6Content:"All content on the platform, including text, graphics, logos, and software, is the property of Trimly or its licensors and is protected by intellectual property laws.",section7Title:"7. Limitation of Liability",section7Content:"Trimly is not responsible for the quality of services provided. We are not liable for any damages arising from the use of the platform.",section8Title:"8. Changes to Terms",section8Content:"We reserve the right to update these terms at any time. Changes will be posted on the platform, and continued use of the updated terms constitutes acceptance."},search:{findBarber:"Find a Barber",homeTitle:"Home",myAppointments:"My Appointments",bookingOverview:"Your bookings overview",cancel:"Cancel",reschedule:"Reschedule",bookAgain:"Book Again",moreDetails:"More details",searchPlaceholder:"Search barbers, styles, or locations",filters:"Filters",foundBarbers:"Found barbers",bestMatches:"Best matches for your budget",services:"Services",workingDistricts:"Working Districts",languagesLabel:"Languages",distance:"Distance",price:"Price",confirmed:"confirmed",pending:"pending"},barber:{myProfile:"My Profile",subscriptionStatus:"Subscription Status",active:"Active",expired:"Expired",renewSubscription:"Renew Subscription",workingHours:"Working Hours",to:"to",specialist:"Specialist",myBookings:"My Bookings",schedule:"Schedule",upcoming:"Upcoming",past:"Past",noBookings:"No bookings",noUpcomingBookings:"No upcoming bookings",noPastBookings:"No past bookings",addManualBooking:"Add Manual Booking",manualBookingDesc:"Add bookings made by phone",workplaceAddress:"Workplace Address",priceRange:"Price Range",services:"Services",languages:"Languages",description:"Description",worksAt:"Works at",showLess:"Show Less",moreInfo:"More",copied:"Copied!",kidsWelcome:"Kids Welcome",previousImage:"Previous Image",nextImage:"Next Image",goToImage:"Go to Image {index}",closeViewer:"Close Viewer",editProfile:"Edit Profile",updateProfileInfo:"Update your barber profile information",priceRangeLabel:"Price range",incompleteTitle:"Complete your barber profile",incompleteDescription:"Your account setup is incomplete. Please finish your profile to receive bookings.",completeSetup:"Complete setup",publicProfileLink:"Public Profile Link",publicProfileLinkDesc:"Share this link with your clients",username:"Username",editUsername:"Edit Username",edit:{saveButtonLabel:"Save Profile",saveSuccess:"Profile successfully saved",saveSuccessComplete:"Profile and services successfully saved!",saveError:"Failed to save profile, please try again",saving:"Saving...",unsavedChanges:"Unsaved Changes",unsavedChangesWarning:"You have unsaved changes. Close without saving?",deleteAccount:"Delete Account",deleteAccountWarningTitle:"Are you sure you want to delete your account?",deleteAccountWarningDesc:"This action cannot be undone. All your data, services, and bookings will be permanently deleted. Continue?",deleteAccountConfirm:"Yes, Delete Account",deleteAccountCancel:"Cancel",accountDeleted:"Your account has been successfully deleted",accountDeleteError:"Error deleting account",supportContact:"To delete your account and all associated data, please contact our support team.",contactSupportButton:"Contact Support"}},customer:{myBookings:"My Bookings",upcomingBookings:"Upcoming Bookings",pastBookings:"Past Bookings",noBookings:"No upcoming bookings",findBarber:"Find a Barber",bookNow:"Book Now",bookAgain:"Book Again",reschedule:"Reschedule",cancelBooking:"Cancel",viewDetails:"View Details",dashboard:{welcomeBack:"Welcome",bookingOverview:"Your bookings",findPerfectBarber:"Find Your Perfect Barber",browseTopBarbers:"Browse the top barbers in Tashkent and book your next appointment",welcomeBackName:"Welcome, {name} ",hereBookingOverview:"Here's your booking overview",myBookings:"My Bookings",noUpcomingBookings:"No upcoming bookings",noBookingsMessage:"You don't have any bookings yet! Find a barber and book your next style ",quickTips:"Quick Tips ",tip1:"Cancel or reschedule your appointment 2 hours before the meeting",tip2:"Arrive 5 minutes early to ensure the session starts on time",tip3:"Leave a review after the service to help other customers",goodDay:"Good day, {name}!",hereOverview:"Here's your overview",customersThisWeek:"Customers This Week",activeBookings:"Active bookings",todaysEarnings:"Today's Earnings",fromCompletedServices:"From completed services",todaysSchedule:"Today's Schedule",appointment:"appointment",appointments:"appointments",noAppointmentsToday:"No appointments scheduled for today",enjoyFreeTime:"Enjoy your free time or check your upcoming schedule!",performanceInsights:"Performance Insights ",insightServing:"You're serving {count} customers this week - great job!",insightRating:"Your average rating is helping you attract more clients",insightPeakHours:"Consider opening more slots during peak hours to maximize earnings",manageSchedule:"Manage Your Schedule",setAvailability:"Set your availability and manage your working hours"},favorites:{title:"Favorites",subtitle:"Bookings for quick access",noFavorites:"No favorites yet",noFavoritesMessage:"Start adding barbers to your favorites for quick booking!",browseBarbers:"Browse Barbers"},profile:{myProfile:"My Profile",editProfile:"Edit Profile",shareLink:"Share Link",copied:"Copied!",professionalBarber:"Professional Barber",loyalCustomerSince:"Loyal Customer Since",noUpcomingBookings:"No upcoming bookings",pastBookings:"Past Bookings",upcoming:"upcoming",workplaceLocation:"Workplace Location",workingDistricts:"Working Districts:",getDirections:"Get Directions",mapPreview:"Map Preview",myStats:"My Stats",customers:"Customers",earnings:"Earnings",rating:"Rating",servicesPricing:"Services & Pricing",availability:"Availability",editHours:"Edit Hours",mondayFriday:"Monday - Friday",saturday:"Saturday",sunday:"Sunday",closed:"Closed",customerReviews:"Customer Reviews",customer:"Customer",excellentService:"Excellent service! Very professional and skilled.",logout:"Logout"}},booking:{selectService:"Select Service",selectDateTime:"Select Date & Time",confirm:"Confirm",payment:"Payment",bookingConfirmed:"Booking Confirmed!",totalPrice:"Total Price",serviceDuration:"Duration",paymentMethod:"Payment Method",cash:"Cash at Salon",payme:"Payme",click:"Click",bookingCancelled:"Booking cancelled successfully",rescheduledSuccess:"Appointment rescheduled successfully!",bookingSuccess:"Booking confirmed successfully!",movedFrom:"Moved from",movedTo:"to",newTimeConfirmed:"Your new time has been confirmed",withBarber:"with",at:"at",on:"on",rescheduledTitle:"Rescheduled Successfully! ",bookingConfirmedTitle:"Booking Confirmed! ",appointmentRescheduled:"Your appointment has been rescheduled",appointmentBooked:"has been successfully booked",confirmationSent:"A confirmation has been sent to your profile",barberNotified:"has been notified of the",change:"change",oldSlotAvailable:"Your old time slot is now available again",closingAutomatic:"Closing automatically...",selectServices:"Select Services",multipleServices:"You can select multiple services",selected:"selected",selectDistrict:"Select District",selectDate:"Select Date",selectTime:"Select Time Slot",confirmReschedule:"Confirm",confirmBooking:"Confirm",creatingBooking:"Creating booking...",moveAppointment:"Do you want to move your appointment?",from:"From:",to:"To:",services:"Services",district:"District",date:"Date",time:"Time",duration:"Duration",minutes:"minutes",clientName:"Client Name",phoneNumber:"Phone Number",total:"Total",choosePayment:"Choose Payment Method",cashAtSalon:"Cash at Salon",payWhenArrive:"Pay when you arrive",onlinePayment:"Online payment",totalDuration:"Total Duration:",moreDetails:"More details",lessDetails:"Less details",bookingId:"Booking ID:",barberId:"Barber ID:",errorLoadingSlots:"Error Loading Slots",checkBackLater:"Please check back later or contact the barber directly.",noAvailableSlots:"No Available Slots",barberNotSetupSchedule:"{barberName} hasn't set up their schedule yet.",checkBackLaterOrContact:"Please check back later or contact the barber directly.",noAvailableTimesForDate:"No available times for this date.",pleaseSelectAnotherDate:"Please select another date.",showDescription:"Show Description",hideDescription:"Hide Description",noServicesFound:"No services found",noServicesYet:"This barber hasn't added any services yet.",howToBook:"How would you like to book?",chooseBookingMethod:"Choose your preferred booking method",bookAsGuest:"Book as a Guest",noAccountRequired:"No account required",signInOrCreate:"Sign in / Create account",saveBookingHistory:"Save your booking history",guestInfo:"Your Information",guestInfoSubtitle:"We need a few details to confirm your booking",fullName:"Full Name",enterFullName:"Enter your full name",enterPhoneNumber:"Enter your phone number",guestInfoNote:"Your booking will be confirmed via SMS. No account will be created.",nameRequired:"Name is required",phoneRequired:"Phone number is required",phoneInvalid:"Please enter a valid phone number",guestInfoReceived:"Welcome, {name}!",pleaseSignIn:"Please sign in to continue"},bookingCard:{cancelled:"Cancelled",rescheduled:"Rescheduled",updated:"Updated:",previous:"Previous:",new:"New:",at:"at",cancel:"Cancel",reschedule:"Reschedule",bookAgain:"Book Again",less:"Less",more:"More",details:"details",bookingIdLabel:"Booking ID:",phoneNumberLabel:"Phone Number:",callCustomer:"Call customer",copyPhone:"Copy phone number",phoneCopied:"Phone number copied!",phoneCopyFailed:"Failed to copy phone number"},settings:{language:"Language",selectLanguage:"Select Language",darkMode:"Dark Mode",notifications:"Notifications",termsAndPrivacy:"Terms & Privacy Policy"},toast:{accountCreated:"Account created successfully!",bookingCancelled:"Booking cancelled successfully",appointmentRescheduled:"Appointment rescheduled successfully! ",bookingConfirmed:"Booking confirmed successfully! ",profileUpdated:"Profile updated successfully!",linkCopied:"Link copied to clipboard!",linkCopyFailed:"Failed to copy link",subscriptionRenewed:"Subscription renewed successfully!",imageSizeError:"Image size must be less than 5MB",imageTypeError:"Please upload an image file",photoUploaded:"Photo uploaded successfully!",avatarUploadFailed:"Failed to upload avatar",avatarUploadSuccess:"Avatar uploaded successfully!",avatarDeleteSuccess:"Avatar deleted",avatarDeleteFailed:"Failed to delete avatar",invalidFileFormat:"Only JPG, PNG or WEBP formats allowed",networkError:"Network error. Please try again",serviceAdded:"Service added!",pleaseSelectService:"Please select at least one service and district",pleaseSelectDateTime:"Please select date and time",profileLinkCopied:"Profile link copied to clipboard!",openingMap:"Opening map...",paymentSuccessful:"Payment successful!",dayMarkedAs:"day marked as",working:"working",off:"off",slotAdded:"New time slot added",slotRemoved:"Time slot removed",slotUpdated:"Time slot updated",endTimeError:"End time must be after start time",nowUnavailable:"You are now unavailable",nowAvailable:"You are now available",maxBookingsReached:"You already have 3 active bookings. Please cancel or complete one of them to create a new booking.",barberNotAvailable:"Barber is currently not available for bookings",barberNotFound:"Barber not found or no longer available",openingBarberProfile:"Opening barber profile",barberProfileReady:" {{name}}'s profile is ready to view",manualBookingSuccess:"Appointment booked successfully",manualBookingDeleted:"Manual booking deleted",slotsClearedWeek:"All time slots cleared for this week",fixFormErrors:"Please fix the errors in the form",addOneService:"Please add at least one service",minPhotosRequired:"Please upload at least 2 interior/exterior photos (you have 1)",maxPhotosAllowed:"Maximum 4 interior/exterior photos allowed",selectDistrict:"Please select a district",selectOneLanguage:"Please select at least one language",primaryCardUpdated:"Primary card updated!",cannotDeletePrimary:"Cannot delete primary card. Set another card as primary first.",cardDeleted:"Card deleted successfully!",paymentSuccess:"Payment successful! Your subscription is now active.",openingReschedulePage:"Opening reschedule booking page...",openingBookingPage:"Opening booking page with your previous selections...",maxImagesError:"Maximum {{max}} images. Remove one to add another.",invalidFileFormat:"{{name}} is not a valid format. Use JPG or PNG.",photoRemoved:"Photo removed",loggedOut:"You have been logged out",timeSlotAdded:"New time slot added",timeSlotRemoved:"Time slot removed",timeSlotUpdated:"Time slot updated",duplicateTimeError:"This time already exists for this day",pastTimeError:"You cannot add a time that has already passed",serviceNameRequired:"Service name is required",durationMustBePositive:"Duration must be greater than 0",priceMustBePositive:"Price must be greater than 0",descriptionTooLong:"Description must be 150 characters or less",serviceUpdated:"Service updated!",serviceRemoved:"Service removed!",addPaymentCardFirst:"Please add a payment card first",paymentCardSaved:"Payment card saved successfully! This card will be used for automatic renewals.",paymentCardAdded:"Payment card added successfully!",paymentCardDeleted:"Payment card deleted successfully!",addedToFavorites:"Added to favorites",removedFromFavorites:"Removed from favorites",welcomeBack:"Welcome back!",cannotAddPastSlots:"Cannot add slots for times that have already passed"},subscription:{threeMonthTrial:"2 Month Free Trial",trialSubtitle:"Try Bardak for 60 days free. Your selected subscription will start automatically after the trial period ends.",startFreeTrial:"Start Free Trial",freeTrialActive:"Free trial active",chooseYourPlan:"Choose Your Plan",planDescription:"Select the best plan for your business. Cancel or change at any time.",oneMonth:"1 Month",sixMonths:"6 Months",oneYear:"1 Year",shortTerm:"For short-term use",bestValue:"Best Value",longTerm:"For long-term commitment",month:"month",perMonth:"per month",save:"Save:",total:"total",subscribe:"Subscribe",selectPlan:"Select Plan",currentPlan:"Current Plan",mostPopular:"Most Popular",benefit1:"Full access to booking tools",benefit2:"Priority support",benefit3:"Free updates",benefit4:"Payment via Payme and Click",profileVisibility:"Profile appears in search results",bookingManagement:"Unlimited booking management",customerSupport:"24/7 customer support",prioritySupport:"Priority customer support",securePayment:"Secure Payment",securePaymentDesc:"Your payments are protected",instantActivation:"Instant Activation",instantActivationDesc:"Activated immediately after payment",flexiblePayment:"Flexible Payment",flexiblePaymentDesc:"Accept Click and Payme",questions:"Have questions?",contactSupport:"Contact support",title:"Subscription",profileActive:"Your profile is active and visible to customers",profileHidden:"Your profile is hidden from customer search",nextPaymentDue:"Next payment due:",monthlyFee:"Monthly fee",viewAllPlans:"View all subscription plans",active:"Active",expired:"Expired",none:"None",promoPeriod:"Promo period",expiredWarning:"Subscription Expired",renewNowMessage:"To be visible again, renew your subscription.",renewNow:"Renew Now",expiredBannerMessage:"To make your account visible to clients, please renew your subscription.",renewSubscription:"Renew subscription",expiresInDays:"Subscription expires in {days} days",expiresInDay:"Subscription expires in 1 day",paymentMethodTitle:"Payment method",paymentMethodDesc:"Add or update card details",primary:"Primary",setAsPrimary:"Set as primary",deleteCard:"Delete card",addNewCard:"Add new card",primaryCardCharged:"Your primary card will be automatically charged for subscription renewals.",addCardTitle:"Add Card",addCardDesc:"Enter your card details below. Your card will be securely stored for future payments.",cardholderName:"Cardholder Name",cardholderPlaceholder:"Name and Surname",cardNumber:"Card Number",expiryDate:"Expiry Date",expiryPlaceholder:"MM/YY",saving:"Saving...",saveCard:"Save Card",deleteCardConfirmTitle:"Are you sure?",deleteCardConfirmDesc:"This action cannot be undone. This card will be permanently deleted from your account.",delete:"Delete",selectCard:"Select Card",selectCardDesc:"Select a card to pay for your subscription.",confirmPayment:"Confirm Payment",processing:"Processing...",plan:"Plan",totalAmount:"Total Amount",chargedCard:"Charged Card",exp:"Exp",cardAddedSuccess:"Card added successfully!",fillAllFields:"Please fill all fields",secureCardInfo:"Your card information is securely encrypted and protected.",cardholderNamePlaceholder:"John Doe",cvv:"CVV",addCard:"Add Card",payNow:"Pay Now",selectPaymentMethod:"Select Payment Method",choosePaymentMethod:"Choose your preferred payment method",payWithPayme:"Pay with Payme",payWithClick:"Pay with Click"},manualBooking:{addTitle:"Add Manual Booking",editTitle:"Edit Manual Booking",manual:"Manual",requiredFields:"Required Fields",optionalFields:"Optional Fields",customerName:"Customer Name",customerNamePlaceholder:"Enter customer full name",customerNameRequired:"Customer name is required",fullName:"Full Name",fullNamePlaceholder:"Enter full name",phoneNumber:"Phone Number",phoneNumberPlaceholder:"+998 90 123 45 67",dateRequired:"Date is required",startTime:"Start Time",startTimeRequired:"Start time is required",endTime:"End Time",source:"Source",oral:"Oral",phone:"Phone",telegram:"Telegram",whatsapp:"WhatsApp",walkin:"Walk-in",other:"Other",status:"Status",confirmed:"Confirmed",tentative:"Tentative",arrived:"Arrived",noshow:"No-show",notes:"Notes",notesPlaceholder:"Additional notes or information...",timeConflict:"Time conflict with an existing booking:",override:"Override",changeTime:"Change Time",saved:"Manual booking saved and time blocked",selectService:"Select Service",noManualBookings:"No manual bookings yet. Use Add manual booking to block times taken outside the website.",addManualBooking:"Add Manual Booking",sendConfirmation:"Send Confirmation",hold:"Hold"}}},Bm=y.createContext({});function Fm(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Eb=typeof window<"u",Tb=Eb?y.useLayoutEffect:y.useEffect,wu=y.createContext(null);function Um(e,t){e.indexOf(t)===-1&&e.push(t)}function Kc(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const In=(e,t,r)=>r>t?t:r<e?e:r;let $m=()=>{};const Jn={},Pb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ab(e){return typeof e=="object"&&e!==null}const Rb=e=>/^0[^.\s]+$/u.test(e);function zm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jr=e=>e,kC=(e,t)=>r=>t(e(r)),Ja=(...e)=>e.reduce(kC),_a=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Vm{constructor(){this.subscriptions=[]}add(t){return Um(this.subscriptions,t),()=>Kc(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gn=e=>e*1e3,Xr=e=>e/1e3;function Ib(e,t){return t?e*(1e3/t):0}const Db=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,NC=1e-7,jC=12;function _C(e,t,r,n,a){let l,c,u=0;do c=t+(r-t)/2,l=Db(c,n,a)-e,l>0?r=c:t=c;while(Math.abs(l)>NC&&++u<jC);return c}function Qa(e,t,r,n){if(e===t&&r===n)return Jr;const a=l=>_C(l,0,1,e,r);return l=>l===0||l===1?l:Db(a(l),t,n)}const Ob=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Mb=e=>t=>1-e(1-t),Lb=Qa(.33,1.53,.69,.99),qm=Mb(Lb),Bb=Ob(qm),Fb=e=>(e*=2)<1?.5*qm(e):.5*(2-Math.pow(2,-10*(e-1))),Hm=e=>1-Math.sin(Math.acos(e)),Ub=Mb(Hm),$b=Ob(Hm),CC=Qa(.42,0,1,1),EC=Qa(0,0,.58,1),zb=Qa(.42,0,.58,1),TC=e=>Array.isArray(e)&&typeof e[0]!="number",Vb=e=>Array.isArray(e)&&typeof e[0]=="number",PC={linear:Jr,easeIn:CC,easeInOut:zb,easeOut:EC,circIn:Hm,circInOut:$b,circOut:Ub,backIn:qm,backInOut:Bb,backOut:Lb,anticipate:Fb},AC=e=>typeof e=="string",H0=e=>{if(Vb(e)){$m(e.length===4);const[t,r,n,a]=e;return Qa(t,r,n,a)}else if(AC(e))return PC[e];return e},yc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function RC(e,t){let r=new Set,n=new Set,a=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){c.has(p)&&(f.schedule(p),e()),p(u)}const f={schedule:(p,g=!1,v=!1)=>{const S=v&&a?r:n;return g&&c.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),c.delete(p)},process:p=>{if(u=p,a){l=!0;return}a=!0,[r,n]=[n,r],r.forEach(h),r.clear(),a=!1,l&&(l=!1,f.process(p))}};return f}const IC=40;function qb(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=yc.reduce((_,A)=>(_[A]=RC(l),_),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:b,postRender:S}=c,N=()=>{const _=Jn.useManualTiming?a.timestamp:performance.now();r=!1,Jn.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(_-a.timestamp,IC),1)),a.timestamp=_,a.isProcessing=!0,u.process(a),h.process(a),f.process(a),p.process(a),g.process(a),v.process(a),b.process(a),S.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(N))},k=()=>{r=!0,n=!0,a.isProcessing||e(N)};return{schedule:yc.reduce((_,A)=>{const I=c[A];return _[A]=(B,M=!1,H=!1)=>(r||k(),I.schedule(B,M,H)),_},{}),cancel:_=>{for(let A=0;A<yc.length;A++)c[yc[A]].cancel(_)},state:a,steps:c}}const{schedule:At,cancel:As,state:hr,steps:Vh}=qb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jr,!0);let Mc;function DC(){Mc=void 0}const Sr={now:()=>(Mc===void 0&&Sr.set(hr.isProcessing||Jn.useManualTiming?hr.timestamp:performance.now()),Mc),set:e=>{Mc=e,queueMicrotask(DC)}},Hb=e=>t=>typeof t=="string"&&t.startsWith(e),Wb=Hb("--"),OC=Hb("var(--"),Wm=e=>OC(e)?MC.test(e.split("/*")[0].trim()):!1,MC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function W0(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const xi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ca={...xi,transform:e=>In(0,1,e)},vc={...xi,default:1},xa=e=>Math.round(e*1e5)/1e5,Km=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LC(e){return e==null}const BC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gm=(e,t)=>r=>!!(typeof r=="string"&&BC.test(r)&&r.startsWith(e)||t&&!LC(r)&&Object.prototype.hasOwnProperty.call(r,t)),Kb=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,l,c,u]=n.match(Km);return{[e]:parseFloat(a),[t]:parseFloat(l),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},FC=e=>In(0,255,e),qh={...xi,transform:e=>Math.round(FC(e))},io={test:Gm("rgb","red"),parse:Kb("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+qh.transform(e)+", "+qh.transform(t)+", "+qh.transform(r)+", "+xa(Ca.transform(n))+")"};function UC(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const If={test:Gm("#"),parse:UC,transform:io.transform},Za=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ns=Za("deg"),Pn=Za("%"),Fe=Za("px"),$C=Za("vh"),zC=Za("vw"),K0={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},ri={test:Gm("hsl","hue"),parse:Kb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Pn.transform(xa(t))+", "+Pn.transform(xa(r))+", "+xa(Ca.transform(n))+")"},Xt={test:e=>io.test(e)||If.test(e)||ri.test(e),parse:e=>io.test(e)?io.parse(e):ri.test(e)?ri.parse(e):If.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?io.transform(e):ri.transform(e),getAnimatableNone:e=>{const t=Xt.parse(e);return t.alpha=0,Xt.transform(t)}},VC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qC(e){return isNaN(e)&&typeof e=="string"&&(e.match(Km)?.length||0)+(e.match(VC)?.length||0)>0}const Gb="number",Yb="color",HC="var",WC="var(",G0="${}",KC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ea(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let l=0;const u=t.replace(KC,h=>(Xt.test(h)?(n.color.push(l),a.push(Yb),r.push(Xt.parse(h))):h.startsWith(WC)?(n.var.push(l),a.push(HC),r.push(h)):(n.number.push(l),a.push(Gb),r.push(parseFloat(h))),++l,G0)).split(G0);return{values:r,split:u,indexes:n,types:a}}function Xb(e){return Ea(e).values}function Jb(e){const{split:t,types:r}=Ea(e),n=t.length;return a=>{let l="";for(let c=0;c<n;c++)if(l+=t[c],a[c]!==void 0){const u=r[c];u===Gb?l+=xa(a[c]):u===Yb?l+=Xt.transform(a[c]):l+=a[c]}return l}}const GC=e=>typeof e=="number"?0:Xt.test(e)?Xt.getAnimatableNone(e):e;function YC(e){const t=Xb(e);return Jb(e)(t.map(GC))}const Rs={test:qC,parse:Xb,createTransformer:Jb,getAnimatableNone:YC};function Hh(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function XC({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,l=0,c=0;if(!t)a=l=c=r;else{const u=r<.5?r*(1+t):r+t-r*t,h=2*r-u;a=Hh(h,u,e+1/3),l=Hh(h,u,e),c=Hh(h,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function Gc(e,t){return r=>r>0?t:e}const Ft=(e,t,r)=>e+(t-e)*r,Wh=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},JC=[If,io,ri],QC=e=>JC.find(t=>t.test(e));function Y0(e){const t=QC(e);if(!t)return!1;let r=t.parse(e);return t===ri&&(r=XC(r)),r}const X0=(e,t)=>{const r=Y0(e),n=Y0(t);if(!r||!n)return Gc(e,t);const a={...r};return l=>(a.red=Wh(r.red,n.red,l),a.green=Wh(r.green,n.green,l),a.blue=Wh(r.blue,n.blue,l),a.alpha=Ft(r.alpha,n.alpha,l),io.transform(a))},Df=new Set(["none","hidden"]);function ZC(e,t){return Df.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function eE(e,t){return r=>Ft(e,t,r)}function Ym(e){return typeof e=="number"?eE:typeof e=="string"?Wm(e)?Gc:Xt.test(e)?X0:nE:Array.isArray(e)?Qb:typeof e=="object"?Xt.test(e)?X0:tE:Gc}function Qb(e,t){const r=[...e],n=r.length,a=e.map((l,c)=>Ym(l)(l,t[c]));return l=>{for(let c=0;c<n;c++)r[c]=a[c](l);return r}}function tE(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Ym(e[a])(e[a],t[a]));return a=>{for(const l in n)r[l]=n[l](a);return r}}function rE(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][n[l]],u=e.values[c]??0;r[a]=u,n[l]++}return r}const nE=(e,t)=>{const r=Rs.createTransformer(t),n=Ea(e),a=Ea(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Df.has(e)&&!a.values.length||Df.has(t)&&!n.values.length?ZC(e,t):Ja(Qb(rE(n,a),a.values),r):Gc(e,t)};function Zb(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ft(e,t,r):Ym(e)(e,t)}const sE=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>At.update(t,r),stop:()=>As(t),now:()=>hr.isProcessing?hr.timestamp:Sr.now()}},ew=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let l=0;l<a;l++)n+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Yc=2e4;function Xm(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Yc;)t+=r,n=e.next(t);return t>=Yc?1/0:t}function oE(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(Xm(n),Yc);return{type:"keyframes",ease:l=>n.next(a*l).value/t,duration:Xr(a)}}const iE=5;function tw(e,t,r){const n=Math.max(t-iE,0);return Ib(r-e(n),t-n)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kh=.001;function aE({duration:e=Vt.duration,bounce:t=Vt.bounce,velocity:r=Vt.velocity,mass:n=Vt.mass}){let a,l,c=1-t;c=In(Vt.minDamping,Vt.maxDamping,c),e=In(Vt.minDuration,Vt.maxDuration,Xr(e)),c<1?(a=f=>{const p=f*c,g=p*e,v=p-r,b=Of(f,c),S=Math.exp(-g);return Kh-v/b*S},l=f=>{const g=f*c*e,v=g*r+r,b=Math.pow(c,2)*Math.pow(f,2)*e,S=Math.exp(-g),N=Of(Math.pow(f,2),c);return(-a(f)+Kh>0?-1:1)*((v-b)*S)/N}):(a=f=>{const p=Math.exp(-f*e),g=(f-r)*e+1;return-Kh+p*g},l=f=>{const p=Math.exp(-f*e),g=(r-f)*(e*e);return p*g});const u=5/e,h=cE(a,l,u);if(e=gn(e),isNaN(h))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:e};{const f=Math.pow(h,2)*n;return{stiffness:f,damping:c*2*Math.sqrt(n*f),duration:e}}}const lE=12;function cE(e,t,r){let n=r;for(let a=1;a<lE;a++)n=n-e(n)/t(n);return n}function Of(e,t){return e*Math.sqrt(1-t*t)}const uE=["duration","bounce"],dE=["stiffness","damping","mass"];function J0(e,t){return t.some(r=>e[r]!==void 0)}function hE(e){let t={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...e};if(!J0(e,dE)&&J0(e,uE))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,l=2*In(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Vt.mass,stiffness:a,damping:l}}else{const r=aE(e);t={...t,...r,mass:Vt.mass},t.isResolvedFromDuration=!0}return t}function Xc(e=Vt.visualDuration,t=Vt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:b}=hE({...r,velocity:-Xr(r.velocity||0)}),S=v||0,N=f/(2*Math.sqrt(h*p)),k=c-l,j=Xr(Math.sqrt(h/p)),E=Math.abs(k)<5;n||(n=E?Vt.restSpeed.granular:Vt.restSpeed.default),a||(a=E?Vt.restDelta.granular:Vt.restDelta.default);let _;if(N<1){const I=Of(j,N);_=B=>{const M=Math.exp(-N*j*B);return c-M*((S+N*j*k)/I*Math.sin(I*B)+k*Math.cos(I*B))}}else if(N===1)_=I=>c-Math.exp(-j*I)*(k+(S+j*k)*I);else{const I=j*Math.sqrt(N*N-1);_=B=>{const M=Math.exp(-N*j*B),H=Math.min(I*B,300);return c-M*((S+N*j*k)*Math.sinh(H)+I*k*Math.cosh(H))/I}}const A={calculatedDuration:b&&g||null,next:I=>{const B=_(I);if(b)u.done=I>=g;else{let M=I===0?S:0;N<1&&(M=I===0?gn(S):tw(_,I,B));const H=Math.abs(M)<=n,V=Math.abs(c-B)<=a;u.done=H&&V}return u.value=u.done?c:B,u},toString:()=>{const I=Math.min(Xm(A),Yc),B=ew(M=>A.next(I*M).value,I,30);return I+"ms "+B},toTransition:()=>{}};return A}Xc.applyToOptions=e=>{const t=oE(e,100,Xc);return e.ease=t.ease,e.duration=gn(t.duration),e.type="keyframes",e};function Mf({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:f=.5,restSpeed:p}){const g=e[0],v={done:!1,value:g},b=H=>u!==void 0&&H<u||h!==void 0&&H>h,S=H=>u===void 0?h:h===void 0||Math.abs(u-H)<Math.abs(h-H)?u:h;let N=r*t;const k=g+N,j=c===void 0?k:c(k);j!==k&&(N=j-g);const E=H=>-N*Math.exp(-H/n),_=H=>j+E(H),A=H=>{const V=E(H),X=_(H);v.done=Math.abs(V)<=f,v.value=v.done?j:X};let I,B;const M=H=>{b(v.value)&&(I=H,B=Xc({keyframes:[v.value,S(v.value)],velocity:tw(_,H,v.value),damping:a,stiffness:l,restDelta:f,restSpeed:p}))};return M(0),{calculatedDuration:null,next:H=>{let V=!1;return!B&&I===void 0&&(V=!0,A(H),M(H)),I!==void 0&&H>=I?B.next(H-I):(!V&&A(H),v)}}}function fE(e,t,r){const n=[],a=r||Jn.mix||Zb,l=e.length-1;for(let c=0;c<l;c++){let u=a(e[c],e[c+1]);if(t){const h=Array.isArray(t)?t[c]||Jr:t;u=Ja(h,u)}n.push(u)}return n}function mE(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const l=e.length;if($m(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=fE(t,n,a),h=u.length,f=p=>{if(c&&p<e[0])return t[0];let g=0;if(h>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const v=_a(e[g],e[g+1],p);return u[g](v)};return r?p=>f(In(e[0],e[l-1],p)):f}function pE(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=_a(0,t,n);e.push(Ft(r,1,a))}}function gE(e){const t=[0];return pE(t,e.length-1),t}function yE(e,t){return e.map(r=>r*t)}function vE(e,t){return e.map(()=>t||zb).splice(0,e.length-1)}function ba({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=TC(n)?n.map(H0):H0(n),l={done:!1,value:t[0]},c=yE(r&&r.length===t.length?r:gE(t),e),u=mE(c,t,{ease:Array.isArray(a)?a:vE(t,a)});return{calculatedDuration:e,next:h=>(l.value=u(h),l.done=h>=e,l)}}const xE=e=>e!==null;function Jm(e,{repeat:t,repeatType:r="loop"},n,a=1){const l=e.filter(xE),u=a<0||t&&r!=="loop"&&t%2===1?0:l.length-1;return!u||n===void 0?l[u]:n}const bE={decay:Mf,inertia:Mf,tween:ba,keyframes:ba,spring:Xc};function rw(e){typeof e.type=="string"&&(e.type=bE[e.type])}class Qm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const wE=e=>e/100;class Zm extends Qm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Sr.now()&&this.tick(Sr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;rw(t);const{type:r=ba,repeat:n=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const h=r||ba;h!==ba&&typeof u[0]!="number"&&(this.mixKeyframes=Ja(wE,Zb(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Xm(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=f}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:b,type:S,onUpdate:N,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,A=n;if(g){const H=Math.min(this.currentTime,a)/u;let V=Math.floor(H),X=H%1;!X&&H>=1&&(X=1),X===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(v==="reverse"?(X=1-X,b&&(X-=b/u)):v==="mirror"&&(A=c)),_=In(0,1,X)*u}const I=E?{done:!1,value:p[0]}:A.next(_);l&&(I.value=l(I.value));let{done:B}=I;!E&&h!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return M&&S!==Mf&&(I.value=Jm(p,this.options,k,this.speed)),N&&N(I.value),M&&this.finish(),I}then(t,r){return this.finished.then(t,r)}get duration(){return Xr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xr(t)}get time(){return Xr(this.currentTime)}set time(t){t=gn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Sr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Xr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=sE,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function SE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ao=e=>e*180/Math.PI,Lf=e=>{const t=ao(Math.atan2(e[1],e[0]));return Bf(t)},kE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Lf,rotateZ:Lf,skewX:e=>ao(Math.atan(e[1])),skewY:e=>ao(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bf=e=>(e=e%360,e<0&&(e+=360),e),Q0=Lf,Z0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ev=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),NE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Z0,scaleY:ev,scale:e=>(Z0(e)+ev(e))/2,rotateX:e=>Bf(ao(Math.atan2(e[6],e[5]))),rotateY:e=>Bf(ao(Math.atan2(-e[2],e[0]))),rotateZ:Q0,rotate:Q0,skewX:e=>ao(Math.atan(e[4])),skewY:e=>ao(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ff(e){return e.includes("scale")?1:0}function Uf(e,t){if(!e||e==="none")return Ff(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=NE,a=r;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=kE,a=u}if(!a)return Ff(t);const l=n[t],c=a[1].split(",").map(_E);return typeof l=="function"?l(c):c[l]}const jE=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Uf(r,t)};function _E(e){return parseFloat(e.trim())}const bi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wi=new Set(bi),tv=e=>e===xi||e===Fe,CE=new Set(["x","y","z"]),EE=bi.filter(e=>!CE.has(e));function TE(e){const t=[];return EE.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Es={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Uf(t,"x"),y:(e,{transform:t})=>Uf(t,"y")};Es.translateX=Es.x;Es.translateY=Es.y;const co=new Set;let $f=!1,zf=!1,Vf=!1;function nw(){if(zf){const e=Array.from(co).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=TE(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([l,c])=>{n.getValue(l)?.set(c)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}zf=!1,$f=!1,co.forEach(e=>e.complete(Vf)),co.clear()}function sw(){co.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zf=!0)})}function PE(){Vf=!0,sw(),nw(),Vf=!1}class ep{constructor(t,r,n,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(co.add(this),$f||($f=!0,At.read(sw),At.resolveKeyframes(nw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(n&&r){const u=n.readValue(r,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}SE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),co.delete(this)}cancel(){this.state==="scheduled"&&(co.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AE=e=>e.startsWith("--");function RE(e,t,r){AE(t)?e.style.setProperty(t,r):e.style[t]=r}const IE=zm(()=>window.ScrollTimeline!==void 0),DE={};function OE(e,t){const r=zm(e);return()=>DE[t]??r()}const ow=OE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pa=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,rv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pa([0,.65,.55,1]),circOut:pa([.55,0,1,.45]),backIn:pa([.31,.01,.66,-.59]),backOut:pa([.33,1.53,.69,.99])};function iw(e,t){if(e)return typeof e=="function"?ow()?ew(e,t):"ease-out":Vb(e)?pa(e):Array.isArray(e)?e.map(r=>iw(r,t)||rv.easeOut):rv[e]}function ME(e,t,r,{delay:n=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[t]:r};h&&(p.offset=h);const g=iw(u,a);Array.isArray(g)&&(p.easing=g);const v={delay:n,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),e.animate(p,v)}function aw(e){return typeof e=="function"&&"applyToOptions"in e}function LE({type:e,...t}){return aw(e)&&ow()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class lw extends Qm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,$m(typeof t.type!="string");const f=LE(t);this.animation=ME(r,n,a,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Jm(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):RE(r,n,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xr(t)}get time(){return Xr(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&IE()?(this.animation.timeline=t,Jr):r(this)}}const cw={anticipate:Fb,backInOut:Bb,circInOut:$b};function BE(e){return e in cw}function FE(e){typeof e.ease=="string"&&BE(e.ease)&&(e.ease=cw[e.ease])}const Gh=10;class UE extends lw{constructor(t){FE(t),rw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:l,...c}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const u=new Zm({...c,autoplay:!1}),h=Math.max(Gh,Sr.now()-this.startTime),f=In(0,Gh,h-Gh);r.setWithVelocity(u.sample(Math.max(0,h-f)).value,u.sample(h).value,f),u.stop()}}const nv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rs.test(e)||e==="0")&&!e.startsWith("url("));function $E(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function zE(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=nv(a,t),u=nv(l,t);return!c||!u?!1:$E(e)||(r==="spring"||aw(r))&&n}function qf(e){e.duration=0,e.type="keyframes"}const VE=new Set(["opacity","clipPath","filter","transform"]),qE=zm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HE(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return qE()&&r&&VE.has(r)&&(r!=="transform"||!f)&&!h&&!n&&a!=="mirror"&&l!==0&&c!=="inertia"}const WE=40;class KE extends Qm{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:h,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sr.now();const v={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:l,repeatType:c,name:h,motionValue:f,element:p,...g},b=p?.KeyframeResolver||ep;this.keyframeResolver=new b(u,(S,N,k)=>this.onKeyframesResolved(S,N,v,!k),h,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:h,isHandoff:f,onUpdate:p}=n;this.resolvedAt=Sr.now(),zE(t,l,c,u)||((Jn.instantAnimations||!h)&&p?.(Jm(t,n,r)),t[0]=t[t.length-1],qf(n),n.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>WE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},b=!f&&HE(v),S=v.motionValue?.owner?.current,N=b?new UE({...v,element:S}):new Zm(v);N.finished.then(()=>{this.notifyFinished()}).catch(Jr),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),PE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function uw(e,t,r,n=0,a=1){const l=Array.from(e).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),c=e.size,u=(c-1)*n;return typeof r=="function"?r(l,c):a===1?l*n:u-l*n}const GE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YE(e){const t=GE.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function dw(e,t,r=1){const[n,a]=YE(e);if(!n)return;const l=window.getComputedStyle(t).getPropertyValue(n);if(l){const c=l.trim();return Pb(c)?parseFloat(c):c}return Wm(a)?dw(a,t,r+1):a}const XE={type:"spring",stiffness:500,damping:25,restSpeed:10},JE=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QE={type:"keyframes",duration:.8},ZE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eT=(e,{keyframes:t})=>t.length>2?QE:wi.has(e)?e.startsWith("scale")?JE(t[1]):XE:ZE,tT=e=>e!==null;function rT(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(tT),l=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[l]}function hw(e,t){if(e?.inherit&&t){const{inherit:r,...n}=e;return{...t,...n}}return e}function tp(e,t){const r=e?.[t]??e?.default??e;return r!==e?hw(r,e):r}function nT({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const rp=(e,t,r,n={},a,l)=>c=>{const u=tp(n,e)||{},h=u.delay||n.delay||0;let{elapsed:f=0}=n;f=f-gn(h);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:l?void 0:a};nT(u)||Object.assign(p,eT(e,p)),p.duration&&(p.duration=gn(p.duration)),p.repeatDelay&&(p.repeatDelay=gn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(qf(p),p.delay===0&&(g=!0)),(Jn.instantAnimations||Jn.skipAnimations||a?.shouldSkipAnimations)&&(g=!0,qf(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!l&&t.get()!==void 0){const v=rT(p.keyframes,u);if(v!==void 0){At.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new Zm(p):new KE(p)};function sv(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function np(e,t,r,n){if(typeof t=="function"){const[a,l]=sv(n);t=t(r!==void 0?r:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=sv(n);t=t(r!==void 0?r:e.custom,a,l)}return t}function ui(e,t,r){const n=e.getProps();return np(n,t,r!==void 0?r:n.custom,e)}const fw=new Set(["width","height","top","left","right","bottom",...bi]),ov=30,sT=e=>!isNaN(parseFloat(e));class oT{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=Sr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Sr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Vm);const n=this.events[t].add(r);return t==="change"?()=>{n(),At.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ov)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ov);return Ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pi(e,t){return new oT(e,t)}const Hf=e=>Array.isArray(e);function iT(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,pi(r))}function aT(e){return Hf(e)?e[e.length-1]||0:e}function lT(e,t){const r=ui(e,t);let{transitionEnd:n={},transition:a={},...l}=r||{};l={...l,...n};for(const c in l){const u=aT(l[c]);iT(e,c,u)}}const yr=e=>!!(e&&e.getVelocity);function cT(e){return!!(yr(e)&&e.add)}function Wf(e,t){const r=e.getValue("willChange");if(cT(r))return r.add(t);if(!r&&Jn.WillChange){const n=new Jn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function sp(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const uT="framerAppearId",mw="data-"+sp(uT);function pw(e){return e.props[mw]}function dT({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function gw(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:l,transitionEnd:c,...u}=t;const h=e.getDefaultTransition();l=l?hw(l,h):h;const f=l?.reduceMotion;n&&(l=n);const p=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const v in u){const b=e.getValue(v,e.latestValues[v]??null),S=u[v];if(S===void 0||g&&dT(g,v))continue;const N={delay:r,...tp(l||{},v)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===k&&!N.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const A=pw(e);if(A){const I=window.MotionHandoffAnimation(A,v,At);I!==null&&(N.startTime=I,j=!0)}}Wf(e,v);const E=f??e.shouldReduceMotion;b.start(rp(v,b,S,E&&fw.has(v)?{type:!1}:N,e,j));const _=b.animation;_&&p.push(_)}if(c){const v=()=>At.update(()=>{c&&lT(e,c)});p.length?Promise.all(p).then(v):v()}return p}function Kf(e,t,r={}){const n=ui(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const l=n?()=>Promise.all(gw(e,n,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=a;return hT(e,t,h,f,p,g,r)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,f]=u==="beforeChildren"?[l,c]:[c,l];return h().then(()=>f())}else return Promise.all([l(),c(r.delay)])}function hT(e,t,r=0,n=0,a=0,l=1,c){const u=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),u.push(Kf(h,t,{...c,delay:r+(typeof n=="function"?0:n)+uw(e.variantChildren,h,n,a,l)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function fT(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(l=>Kf(e,l,r));n=Promise.all(a)}else if(typeof t=="string")n=Kf(e,t,r);else{const a=typeof t=="function"?ui(e,t,r.custom):t;n=Promise.all(gw(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const mT={test:e=>e==="auto",parse:e=>e},yw=e=>t=>t.test(e),vw=[xi,Fe,Pn,Ns,zC,$C,mT],iv=e=>vw.find(yw(e));function pT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Rb(e):!0}const gT=new Set(["brightness","contrast","saturate","opacity"]);function yT(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Km)||[];if(!n)return e;const a=r.replace(n,"");let l=gT.has(t)?1:0;return n!==r&&(l*=100),t+"("+l+a+")"}const vT=/\b([a-z-]*)\(.*?\)/gu,Gf={...Rs,getAnimatableNone:e=>{const t=e.match(vT);return t?t.map(yT).join(" "):e}},av={...xi,transform:Math.round},xT={rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:vc,scaleX:vc,scaleY:vc,scaleZ:vc,skew:Ns,skewX:Ns,skewY:Ns,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Ca,originX:K0,originY:K0,originZ:Fe},op={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,inset:Fe,insetBlock:Fe,insetBlockStart:Fe,insetBlockEnd:Fe,insetInline:Fe,insetInlineStart:Fe,insetInlineEnd:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,paddingBlock:Fe,paddingBlockStart:Fe,paddingBlockEnd:Fe,paddingInline:Fe,paddingInlineStart:Fe,paddingInlineEnd:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,marginBlock:Fe,marginBlockStart:Fe,marginBlockEnd:Fe,marginInline:Fe,marginInlineStart:Fe,marginInlineEnd:Fe,fontSize:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...xT,zIndex:av,fillOpacity:Ca,strokeOpacity:Ca,numOctaves:av},bT={...op,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:Gf,WebkitFilter:Gf},xw=e=>bT[e];function bw(e,t){let r=xw(e);return r!==Gf&&(r=Rs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const wT=new Set(["auto","none","0"]);function ST(e,t,r){let n=0,a;for(;n<e.length&&!a;){const l=e[n];typeof l=="string"&&!wT.has(l)&&Ea(l).values.length&&(a=e[n]),n++}if(a&&r)for(const l of t)e[l]=bw(r,a)}class kT extends ep{constructor(t,r,n,a,l){super(t,r,n,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Wm(g))){const v=dw(g,r.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!fw.has(n)||t.length!==2)return;const[a,l]=t,c=iv(a),u=iv(l),h=W0(a),f=W0(l);if(h!==f&&Es[n]){this.needsMeasurement=!0;return}if(c!==u)if(tv(c)&&tv(u))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Es[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||pT(t[a]))&&n.push(a);n.length&&ST(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Es[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=Es[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const NT=new Set(["opacity","clipPath","filter","transform"]);function ww(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const Sw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Yf(e){return Ab(e)&&"offsetHeight"in e}const{schedule:ip}=qb(queueMicrotask,!1),hn={x:!1,y:!1};function kw(){return hn.x||hn.y}function jT(e){return e==="x"||e==="y"?hn[e]?null:(hn[e]=!0,()=>{hn[e]=!1}):hn.x||hn.y?null:(hn.x=hn.y=!0,()=>{hn.x=hn.y=!1})}function Nw(e,t){const r=ww(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function _T(e){return!(e.pointerType==="touch"||kw())}function CT(e,t,r={}){const[n,a,l]=Nw(e,r);return n.forEach(c=>{let u=!1,h=!1,f;const p=()=>{c.removeEventListener("pointerleave",S)},g=k=>{f&&(f(k),f=void 0),p()},v=k=>{u=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),h&&(h=!1,g(k))},b=()=>{u=!0,window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",v,a)},S=k=>{if(k.pointerType!=="touch"){if(u){h=!0;return}g(k)}},N=k=>{if(!_T(k))return;h=!1;const j=t(c,k);typeof j=="function"&&(f=j,c.addEventListener("pointerleave",S,a))};c.addEventListener("pointerenter",N,a),c.addEventListener("pointerdown",b,a)}),l}const jw=(e,t)=>t?e===t?!0:jw(e,t.parentElement):!1,ap=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ET=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TT(e){return ET.has(e.tagName)||e.isContentEditable===!0}const PT=new Set(["INPUT","SELECT","TEXTAREA"]);function AT(e){return PT.has(e.tagName)||e.isContentEditable===!0}const Lc=new WeakSet;function lv(e){return t=>{t.key==="Enter"&&e(t)}}function Yh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RT=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=lv(()=>{if(Lc.has(r))return;Yh(r,"down");const a=lv(()=>{Yh(r,"up")}),l=()=>Yh(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",l,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function cv(e){return ap(e)&&!kw()}const uv=new WeakSet;function IT(e,t,r={}){const[n,a,l]=Nw(e,r),c=u=>{const h=u.currentTarget;if(!cv(u)||uv.has(u))return;Lc.add(h),r.stopPropagation&&uv.add(u);const f=t(h,u),p=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Lc.has(h)&&Lc.delete(h),cv(b)&&typeof f=="function"&&f(b,{success:S})},g=b=>{p(b,h===window||h===document||r.useGlobalTarget||jw(h,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",v,a)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),Yf(u)&&(u.addEventListener("focus",f=>RT(f,a)),!TT(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function lp(e){return Ab(e)&&"ownerSVGElement"in e}const Bc=new WeakMap;let Fc;const _w=(e,t,r)=>(n,a)=>a&&a[0]?a[0][e+"Size"]:lp(n)&&"getBBox"in n?n.getBBox()[t]:n[r],DT=_w("inline","width","offsetWidth"),OT=_w("block","height","offsetHeight");function MT({target:e,borderBoxSize:t}){Bc.get(e)?.forEach(r=>{r(e,{get width(){return DT(e,t)},get height(){return OT(e,t)}})})}function LT(e){e.forEach(MT)}function BT(){typeof ResizeObserver>"u"||(Fc=new ResizeObserver(LT))}function FT(e,t){Fc||BT();const r=ww(e);return r.forEach(n=>{let a=Bc.get(n);a||(a=new Set,Bc.set(n,a)),a.add(t),Fc?.observe(n)}),()=>{r.forEach(n=>{const a=Bc.get(n);a?.delete(t),a?.size||Fc?.unobserve(n)})}}const Uc=new Set;let ni;function UT(){ni=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Uc.forEach(t=>t(e))},window.addEventListener("resize",ni)}function $T(e){return Uc.add(e),ni||UT(),()=>{Uc.delete(e),!Uc.size&&typeof ni=="function"&&(window.removeEventListener("resize",ni),ni=void 0)}}function dv(e,t){return typeof e=="function"?$T(e):FT(e,t)}function zT(e){return lp(e)&&e.tagName==="svg"}const VT=[...vw,Xt,Rs],qT=e=>VT.find(yw(e)),hv=()=>({translate:0,scale:1,origin:0,originPoint:0}),si=()=>({x:hv(),y:hv()}),fv=()=>({min:0,max:0}),rr=()=>({x:fv(),y:fv()}),HT=new WeakMap;function Su(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ta(e){return typeof e=="string"||Array.isArray(e)}const cp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],up=["initial",...cp];function ku(e){return Su(e.animate)||up.some(t=>Ta(e[t]))}function Cw(e){return!!(ku(e)||e.variants)}function WT(e,t,r){for(const n in t){const a=t[n],l=r[n];if(yr(a))e.addValue(n,a);else if(yr(l))e.addValue(n,pi(a,{owner:e}));else if(l!==a)if(e.hasValue(n)){const c=e.getValue(n);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(n);e.addValue(n,pi(c!==void 0?c:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Xf={current:null},Ew={current:!1},KT=typeof window<"u";function GT(){if(Ew.current=!0,!!KT)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xf.current=e.matches;e.addEventListener("change",t),t()}else Xf.current=!1}const mv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Jc={};function Tw(e){Jc=e}function YT(){return Jc}class XT{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ep,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Sr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,At.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=ku(r),this.isVariantNode=Cw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in v){const S=v[b];f[b]!==void 0&&yr(S)&&S.set(f[b])}}mount(t){if(this.hasBeenMounted)for(const r in this.initialValues)this.values.get(r)?.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,HT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Ew.current||GT(),this.shouldReduceMotion=Xf.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),As(this.notifyUpdate),As(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),r.accelerate&&NT.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:u,times:h,ease:f,duration:p}=r.accelerate,g=new lw({element:this.current,name:t,keyframes:u,times:h,ease:f,duration:gn(p)}),v=c(g);this.valueSubscriptions.set(t,()=>{v(),g.cancel()});return}const n=wi.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&At.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Jc){const r=Jc[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<mv.length;n++){const a=mv[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=WT(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=pi(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Pb(n)||Rb(n))?n=parseFloat(n):!qT(n)&&Rs.test(r)&&(n=bw(t,r)),this.setBaseTarget(t,yr(n)?n.get():n)),yr(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const l=np(this.props,r,this.presenceContext?.custom);l&&(n=l[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!yr(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Vm),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){ip.render(this.render)}}class Pw extends XT{constructor(){super(...arguments),this.KeyframeResolver=kT}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class Ls{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Aw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function JT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function QT(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Xh(e){return e===void 0||e===1}function Jf({scale:e,scaleX:t,scaleY:r}){return!Xh(e)||!Xh(t)||!Xh(r)}function ro(e){return Jf(e)||Rw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Rw(e){return pv(e.x)||pv(e.y)}function pv(e){return e&&e!=="0%"}function Qc(e,t,r){const n=e-r,a=t*n;return r+a}function gv(e,t,r,n,a){return a!==void 0&&(e=Qc(e,a,n)),Qc(e,r,n)+t}function Qf(e,t=0,r=1,n,a){e.min=gv(e.min,t,r,n,a),e.max=gv(e.max,t,r,n,a)}function Iw(e,{x:t,y:r}){Qf(e.x,t.translate,t.scale,t.originPoint),Qf(e.y,r.translate,r.scale,r.originPoint)}const yv=.999999999999,vv=1.0000000000001;function ZT(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let l,c;for(let u=0;u<a;u++){l=r[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ii(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Iw(e,c)),n&&ro(l.latestValues)&&ii(e,l.latestValues))}t.x<vv&&t.x>yv&&(t.x=1),t.y<vv&&t.y>yv&&(t.y=1)}function oi(e,t){e.min=e.min+t,e.max=e.max+t}function xv(e,t,r,n,a=.5){const l=Ft(e.min,e.max,a);Qf(e,t,r,l,n)}function ii(e,t){xv(e.x,t.x,t.scaleX,t.scale,t.originX),xv(e.y,t.y,t.scaleY,t.scale,t.originY)}function Dw(e,t){return Aw(QT(e.getBoundingClientRect(),t))}function eP(e,t,r){const n=Dw(e,r),{scroll:a}=t;return a&&(oi(n.x,a.offset.x),oi(n.y,a.offset.y)),n}const tP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rP=bi.length;function nP(e,t,r){let n="",a=!0;for(let l=0;l<rP;l++){const c=bi[l],u=e[c];if(u===void 0)continue;let h=!0;if(typeof u=="number")h=u===(c.startsWith("scale")?1:0);else{const f=parseFloat(u);h=c.startsWith("scale")?f===1:f===0}if(!h||r){const f=Sw(u,op[c]);if(!h){a=!1;const p=tP[c]||c;n+=`${p}(${f}) `}r&&(t[c]=f)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function dp(e,t,r){const{style:n,vars:a,transformOrigin:l}=e;let c=!1,u=!1;for(const h in t){const f=t[h];if(wi.has(h)){c=!0;continue}else if(Wb(h)){a[h]=f;continue}else{const p=Sw(f,op[h]);h.startsWith("origin")?(u=!0,l[h]=p):n[h]=p}}if(t.transform||(c||r?n.transform=nP(t,e.transform,r):n.transform&&(n.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;n.transformOrigin=`${h} ${f} ${p}`}}function Ow(e,{style:t,vars:r},n,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,n);for(c in r)l.setProperty(c,r[c])}function bv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ua={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const r=bv(e,t.target.x),n=bv(e,t.target.y);return`${r}% ${n}%`}},sP={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Rs.parse(e);if(a.length>5)return n;const l=Rs.createTransformer(e),c=typeof a[0]!="number"?1:0,u=r.x.scale*t.x,h=r.y.scale*t.y;a[0+c]/=u,a[1+c]/=h;const f=Ft(u,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),l(a)}},Zf={borderRadius:{...ua,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ua,borderTopRightRadius:ua,borderBottomLeftRadius:ua,borderBottomRightRadius:ua,boxShadow:sP};function Mw(e,{layout:t,layoutId:r}){return wi.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Zf[e]||e==="opacity")}function hp(e,t,r){const n=e.style,a=t?.style,l={};if(!n)return l;for(const c in n)(yr(n[c])||a&&yr(a[c])||Mw(c,e)||r?.getValue(c)?.liveStyle!==void 0)&&(l[c]=n[c]);return l}function oP(e){return window.getComputedStyle(e)}class iP extends Pw{constructor(){super(...arguments),this.type="html",this.renderInstance=Ow}readValueFromInstance(t,r){if(wi.has(r))return this.projection?.isProjecting?Ff(r):jE(t,r);{const n=oP(t),a=(Wb(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Dw(t,r)}build(t,r,n){dp(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return hp(t,r,n)}}const aP={offset:"stroke-dashoffset",array:"stroke-dasharray"},lP={offset:"strokeDashoffset",array:"strokeDasharray"};function cP(e,t,r=1,n=0,a=!0){e.pathLength=1;const l=a?aP:lP;e[l.offset]=`${-n}`,e[l.array]=`${t} ${r}`}const uP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Lw(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},h,f,p){if(dp(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete g.transformBox);for(const b of uP)g[b]!==void 0&&(v[b]=g[b],delete g[b]);t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),a!==void 0&&cP(g,a,l,c,!1)}const Bw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Fw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dP(e,t,r,n){Ow(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Bw.has(a)?a:sp(a),t.attrs[a])}function Uw(e,t,r){const n=hp(e,t,r);for(const a in e)if(yr(e[a])||yr(t[a])){const l=bi.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[l]=e[a]}return n}class hP extends Pw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(wi.has(r)){const n=xw(r);return n&&n.default||0}return r=Bw.has(r)?r:sp(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Uw(t,r,n)}build(t,r,n){Lw(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){dP(t,r,n,a)}mount(t){this.isSVGTag=Fw(t.tagName),super.mount(t)}}const fP=up.length;function $w(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?$w(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<fP;r++){const n=up[r],a=e.props[n];(Ta(a)||a===!1)&&(t[n]=a)}return t}function zw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const mP=[...cp].reverse(),pP=cp.length;function gP(e){return t=>Promise.all(t.map(({animation:r,options:n})=>fT(e,r,n)))}function yP(e){let t=gP(e),r=wv(),n=!0;const a=h=>(f,p)=>{const g=ui(e,p,h==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:b,...S}=g;f={...f,...S,...b}}return f};function l(h){t=h(e)}function c(h){const{props:f}=e,p=$w(e.parent)||{},g=[],v=new Set;let b={},S=1/0;for(let k=0;k<pP;k++){const j=mP[k],E=r[j],_=f[j]!==void 0?f[j]:p[j],A=Ta(_),I=j===h?E.isActive:null;I===!1&&(S=k);let B=_===p[j]&&_!==f[j]&&A;if(B&&n&&e.manuallyAnimateOnMount&&(B=!1),E.protectedKeys={...b},!E.isActive&&I===null||!_&&!E.prevProp||Su(_)||typeof _=="boolean")continue;if(j==="exit"&&E.isActive&&I!==!0){E.prevResolvedValues&&(b={...b,...E.prevResolvedValues});continue}const M=vP(E.prevProp,_);let H=M||j===h&&E.isActive&&!B&&A||k>S&&A,V=!1;const X=Array.isArray(_)?_:[_];let Z=X.reduce(a(j),{});I===!1&&(Z={});const{prevResolvedValues:Q={}}=E,ue={...Q,...Z},fe=le=>{H=!0,v.has(le)&&(V=!0,v.delete(le)),E.needsAnimating[le]=!0;const G=e.getValue(le);G&&(G.liveStyle=!1)};for(const le in ue){const G=Z[le],U=Q[le];if(b.hasOwnProperty(le))continue;let R=!1;Hf(G)&&Hf(U)?R=!zw(G,U):R=G!==U,R?G!=null?fe(le):v.add(le):G!==void 0&&v.has(le)?fe(le):E.protectedKeys[le]=!0}E.prevProp=_,E.prevResolvedValues=Z,E.isActive&&(b={...b,...Z}),n&&e.blockInitialAnimation&&(H=!1);const be=B&&M;H&&(!be||V)&&g.push(...X.map(le=>{const G={type:j};if(typeof le=="string"&&n&&!be&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,R=ui(U,le);if(U.enteringChildren&&R){const{delayChildren:T}=R.transition||{};G.delay=uw(U.enteringChildren,e,T)}}return{animation:le,options:G}}))}if(v.size){const k={};if(typeof f.initial!="boolean"){const j=ui(e,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(k.transition=j.transition)}v.forEach(j=>{const E=e.getBaseTarget(j),_=e.getValue(j);_&&(_.liveStyle=!0),k[j]=E??null}),g.push({animation:k})}let N=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(N=!1),n=!1,N?t(g):Promise.resolve()}function u(h,f){if(r[h].isActive===f)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(h,f)),r[h].isActive=f;const p=c(h);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>r,reset:()=>{r=wv()}}}function vP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zw(t,e):!1}function Zs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wv(){return{animate:Zs(!0),whileInView:Zs(),whileHover:Zs(),whileTap:Zs(),whileDrag:Zs(),whileFocus:Zs(),exit:Zs()}}function Sv(e,t){e.min=t.min,e.max=t.max}function un(e,t){Sv(e.x,t.x),Sv(e.y,t.y)}function kv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Vw=1e-4,xP=1-Vw,bP=1+Vw,qw=.01,wP=0-qw,SP=0+qw;function kr(e){return e.max-e.min}function kP(e,t,r){return Math.abs(e-t)<=r}function Nv(e,t,r,n=.5){e.origin=n,e.originPoint=Ft(t.min,t.max,e.origin),e.scale=kr(r)/kr(t),e.translate=Ft(r.min,r.max,e.origin)-e.originPoint,(e.scale>=xP&&e.scale<=bP||isNaN(e.scale))&&(e.scale=1),(e.translate>=wP&&e.translate<=SP||isNaN(e.translate))&&(e.translate=0)}function wa(e,t,r,n){Nv(e.x,t.x,r.x,n?n.originX:void 0),Nv(e.y,t.y,r.y,n?n.originY:void 0)}function jv(e,t,r){e.min=r.min+t.min,e.max=e.min+kr(t)}function NP(e,t,r){jv(e.x,t.x,r.x),jv(e.y,t.y,r.y)}function _v(e,t,r){e.min=t.min-r.min,e.max=e.min+kr(t)}function Zc(e,t,r){_v(e.x,t.x,r.x),_v(e.y,t.y,r.y)}function Cv(e,t,r,n,a){return e-=t,e=Qc(e,1/r,n),a!==void 0&&(e=Qc(e,1/a,n)),e}function jP(e,t=0,r=1,n=.5,a,l=e,c=e){if(Pn.test(t)&&(t=parseFloat(t),t=Ft(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=Ft(l.min,l.max,n);e===l&&(u-=t),e.min=Cv(e.min,t,r,u,a),e.max=Cv(e.max,t,r,u,a)}function Ev(e,t,[r,n,a],l,c){jP(e,t[r],t[n],t[a],t.scale,l,c)}const _P=["x","scaleX","originX"],CP=["y","scaleY","originY"];function Tv(e,t,r,n){Ev(e.x,t,_P,r?r.x:void 0,n?n.x:void 0),Ev(e.y,t,CP,r?r.y:void 0,n?n.y:void 0)}function Pv(e){return e.translate===0&&e.scale===1}function Hw(e){return Pv(e.x)&&Pv(e.y)}function Av(e,t){return e.min===t.min&&e.max===t.max}function EP(e,t){return Av(e.x,t.x)&&Av(e.y,t.y)}function Rv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ww(e,t){return Rv(e.x,t.x)&&Rv(e.y,t.y)}function Iv(e){return kr(e.x)/kr(e.y)}function Dv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Cn(e){return[e("x"),e("y")]}function TP(e,t,r){let n="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=r?.z||0;if((a||l||c)&&(n=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:b,skewY:S}=r;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),b&&(n+=`skewX(${b}deg) `),S&&(n+=`skewY(${S}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(n+=`scale(${u}, ${h})`),n||"none"}const Kw=["TopLeft","TopRight","BottomLeft","BottomRight"],PP=Kw.length,Ov=e=>typeof e=="string"?parseFloat(e):e,Mv=e=>typeof e=="number"||Fe.test(e);function AP(e,t,r,n,a,l){a?(e.opacity=Ft(0,r.opacity??1,RP(n)),e.opacityExit=Ft(t.opacity??1,0,IP(n))):l&&(e.opacity=Ft(t.opacity??1,r.opacity??1,n));for(let c=0;c<PP;c++){const u=`border${Kw[c]}Radius`;let h=Lv(t,u),f=Lv(r,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Mv(h)===Mv(f)?(e[u]=Math.max(Ft(Ov(h),Ov(f),n),0),(Pn.test(f)||Pn.test(h))&&(e[u]+="%")):e[u]=f}(t.rotate||r.rotate)&&(e.rotate=Ft(t.rotate||0,r.rotate||0,n))}function Lv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RP=Gw(0,.5,Ub),IP=Gw(.5,.95,Jr);function Gw(e,t,r){return n=>n<e?0:n>t?1:r(_a(e,t,n))}function DP(e,t,r){const n=yr(e)?e:pi(e);return n.start(rp("",n,t,r)),n.animation}function Pa(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const OP=(e,t)=>e.depth-t.depth;class MP{constructor(){this.children=[],this.isDirty=!1}add(t){Um(this.children,t),this.isDirty=!0}remove(t){Kc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(OP),this.isDirty=!1,this.children.forEach(t)}}function LP(e,t){const r=Sr.now(),n=({timestamp:a})=>{const l=a-r;l>=t&&(As(n),e(l-t))};return At.setup(n,!0),()=>As(n)}function $c(e){return yr(e)?e.get():e}class BP{constructor(){this.members=[]}add(t){Um(this.members,t);for(let r=this.members.length-1;r>=0;r--){const n=this.members[r];if(n===t||n===this.lead||n===this.prevLead)continue;const a=n.instance;a&&a.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Kc(this.members,n)}t.scheduleRender()}remove(t){if(Kc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){n=l;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const h=n.instance;h&&h.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:u}=t.options;u===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Jh=["","X","Y","Z"],FP=1e3;let UP=0;function Qh(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Yw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=pw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",At,!(a||l))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Yw(n)}function Xw({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(c={},u=t?.()){this.id=UP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VP),this.nodes.forEach(KP),this.nodes.forEach(GP),this.nodes.forEach(qP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new MP)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vm),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=lp(c)&&!zT(c),this.instance=c;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;At.read(()=>{g=window.innerWidth}),e(c,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=LP(v,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(Uv)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||ZP,{onLayoutAnimationStart:N,onLayoutAnimationComplete:k}=f.getProps(),j=!this.targetLayout||!Ww(this.targetLayout,b),E=!g&&v;if(this.options.layoutRoot||this.resumeFrom||E||g&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...tp(S,"layout"),onPlay:N,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,E)}else g||Uv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),As(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WP),this.nodes.forEach($P),this.nodes.forEach(zP)):this.nodes.forEach(Fv),this.clearAllSnapshots();const u=Sr.now();hr.delta=In(0,1e3/60,u-hr.timestamp),hr.timestamp=u,hr.isProcessing=!0,Vh.update.process(hr),Vh.preRender.process(hr),Vh.render.process(hr),hr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ip.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HP),this.sharedNodes.forEach(XP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kr(this.snapshot.measuredBox.x)&&!kr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Hw(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||ro(this.latestValues)||p)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),e2(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return rr();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(t2))){const{scroll:f}=this.root;f&&(oi(u.x,f.offset.x),oi(u.y,f.offset.y))}return u}removeElementScroll(c){const u=rr();if(un(u,c),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&un(u,c),oi(u.x,p.offset.x),oi(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const h=rr();un(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ii(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ro(p.latestValues)&&ii(h,p.latestValues)}return ro(this.latestValues)&&ii(h,this.latestValues),h}removeTransform(c){const u=rr();un(u,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ro(f.latestValues))continue;Jf(f.latestValues)&&f.updateSnapshot();const p=rr(),g=f.measurePageBox();un(p,g),Tv(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ro(this.latestValues)&&Tv(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=hr.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rr(),this.targetWithTransforms=rr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),Iw(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Jf(this.parent.latestValues)||Rw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,u,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rr(),this.relativeTargetOrigin=rr(),Zc(this.relativeTargetOrigin,u,h),un(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===hr.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;un(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;ZT(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=rr());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kv(this.prevProjectionDelta.x,this.projectionDelta.x),kv(this.prevProjectionDelta.y,this.projectionDelta.y)),wa(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!Dv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=si(),this.projectionDelta=si(),this.projectionDeltaWithTransform=si()}setAnimationOrigin(c,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},g=si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=rr(),b=h?h.source:void 0,S=this.layout?this.layout.source:void 0,N=b!==S,k=this.getStack(),j=!k||k.members.length<=1,E=!!(N&&!j&&this.options.crossfade===!0&&!this.path.some(QP));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const I=A/1e3;$v(g.x,c.x,I),$v(g.y,c.y,I),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JP(this.relativeTarget,this.relativeTargetOrigin,v,I),_&&EP(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=rr()),un(_,this.relativeTarget)),N&&(this.animationValues=p,AP(p,f,this.latestValues,I,E,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(As(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{zc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pi(0)),this.currentAnimation=DP(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=c;if(!(!u||!h||!f)){if(this!==c&&this.layout&&f&&Jw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||rr();const g=kr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+g;const v=kr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}un(u,h),ii(u,p),wa(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new BP),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Qh("z",c,f,this.animationValues);for(let p=0;p<Jh.length;p++)Qh(`rotate${Jh[p]}`,c,f,this.animationValues),Qh(`skew${Jh[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=$c(u?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=$c(u?.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=TP(this.projectionDeltaWithTransform,this.treeScale,p);h&&(g=h(p,g)),c.transform=g;const{x:v,y:b}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Zf){if(p[S]===void 0)continue;const{correct:N,applyTo:k,isCSSVariable:j}=Zf[S],E=g==="none"?p[S]:N(p[S],f);if(k){const _=k.length;for(let A=0;A<_;A++)c[k[A]]=E}else j?this.options.visualElement.renderState.vars[S]=E:c[S]=E}this.options.layoutId&&(c.pointerEvents=f===this?$c(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Bv),this.root.sharedNodes.clear()}}}function $P(e){e.updateLayout()}function zP(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Cn(p=>{const g=l?t.measuredBox[p]:t.layoutBox[p],v=kr(g);g.min=r[p].min,g.max=g.min+v}):Jw(a,t.layoutBox,r)&&Cn(p=>{const g=l?t.measuredBox[p]:t.layoutBox[p],v=kr(r[p]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const c=si();wa(c,r,t.layoutBox);const u=si();l?wa(u,e.applyTransform(n,!0),t.measuredBox):wa(u,r,t.layoutBox);const h=!Hw(c);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const b=rr();Zc(b,t.layoutBox,g.layoutBox);const S=rr();Zc(S,r,v.layoutBox),Ww(b,S)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=b,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function VP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HP(e){e.clearSnapshot()}function Bv(e){e.clearMeasurements()}function Fv(e){e.isLayoutDirty=!1}function WP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Uv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KP(e){e.resolveTargetDelta()}function GP(e){e.calcProjection()}function YP(e){e.resetSkewAndRotation()}function XP(e){e.removeLeadSnapshot()}function $v(e,t,r){e.translate=Ft(t.translate,0,r),e.scale=Ft(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function zv(e,t,r,n){e.min=Ft(t.min,r.min,n),e.max=Ft(t.max,r.max,n)}function JP(e,t,r,n){zv(e.x,t.x,r.x,n),zv(e.y,t.y,r.y,n)}function QP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZP={duration:.45,ease:[.4,0,.1,1]},Vv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qv=Vv("applewebkit/")&&!Vv("chrome/")?Math.round:Jr;function Hv(e){e.min=qv(e.min),e.max=qv(e.max)}function e2(e){Hv(e.x),Hv(e.y)}function Jw(e,t,r){return e==="position"||e==="preserve-aspect"&&!kP(Iv(t),Iv(r),.2)}function t2(e){return e!==e.root&&e.scroll?.wasRoot}const r2=Xw({attachResizeListener:(e,t)=>Pa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Zh={current:void 0},Qw=Xw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zh.current){const e=new r2({});e.mount(window),e.setOptions({layoutScroll:!0}),Zh.current=e}return Zh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fp=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Wv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function n2(...e){return t=>{let r=!1;const n=e.map(a=>{const l=Wv(a,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():Wv(e[a],null)}}}}function s2(...e){return y.useCallback(n2(...e),e)}class o2 extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=r.offsetParent,a=Yf(n)&&n.offsetWidth||0,l=Yf(n)&&n.offsetHeight||0,c=this.props.sizeRef.current;c.height=r.offsetHeight||0,c.width=r.offsetWidth||0,c.top=r.offsetTop,c.left=r.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function i2({children:e,isPresent:t,anchorX:r,anchorY:n,root:a,pop:l}){const c=y.useId(),u=y.useRef(null),h=y.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=y.useContext(fp),p=e.props?.ref??e?.ref,g=s2(u,p);return y.useInsertionEffect(()=>{const{width:v,height:b,top:S,left:N,right:k,bottom:j}=h.current;if(t||l===!1||!u.current||!v||!b)return;const E=r==="left"?`left: ${N}`:`right: ${k}`,_=n==="bottom"?`bottom: ${j}`:`top: ${S}`;u.current.dataset.motionPopId=c;const A=document.createElement("style");f&&(A.nonce=f);const I=a??document.head;return I.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${b}px !important;
            ${E}px !important;
            ${_}px !important;
          }
        `),()=>{I.contains(A)&&I.removeChild(A)}},[t]),o.jsx(o2,{isPresent:t,childRef:u,sizeRef:h,pop:l,children:l===!1?e:y.cloneElement(e,{ref:g})})}const a2=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:l,mode:c,anchorX:u,anchorY:h,root:f})=>{const p=Fm(l2),g=y.useId();let v=!0,b=y.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:r,custom:a,onExitComplete:S=>{p.set(S,!0);for(const N of p.values())if(!N)return;n&&n()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[r,p,n]);return l&&v&&(b={...b}),y.useMemo(()=>{p.forEach((S,N)=>p.set(N,!1))},[r]),y.useEffect(()=>{!r&&!p.size&&n&&n()},[r]),e=o.jsx(i2,{pop:c==="popLayout",isPresent:r,anchorX:u,anchorY:h,root:f,children:e}),o.jsx(wu.Provider,{value:b,children:e})};function l2(){return new Map}function Zw(e=!0){const t=y.useContext(wu);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,l=y.useId();y.useEffect(()=>{if(e)return a(l)},[e]);const c=y.useCallback(()=>e&&n&&n(l),[l,n,e]);return!r&&n?[!1,c]:[!0]}const xc=e=>e.key||"";function Kv(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const jt=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",anchorY:h="top",root:f})=>{const[p,g]=Zw(c),v=y.useMemo(()=>Kv(e),[e]),b=c&&!p?[]:v.map(xc),S=y.useRef(!0),N=y.useRef(v),k=Fm(()=>new Map),j=y.useRef(new Set),[E,_]=y.useState(v),[A,I]=y.useState(v);Tb(()=>{S.current=!1,N.current=v;for(let H=0;H<A.length;H++){const V=xc(A[H]);b.includes(V)?(k.delete(V),j.current.delete(V)):k.get(V)!==!0&&k.set(V,!1)}},[A,b.length,b.join("-")]);const B=[];if(v!==E){let H=[...v];for(let V=0;V<A.length;V++){const X=A[V],Z=xc(X);b.includes(Z)||(H.splice(V,0,X),B.push(X))}return l==="wait"&&B.length&&(H=B),I(Kv(H)),_(v),null}const{forceRender:M}=y.useContext(Bm);return o.jsx(o.Fragment,{children:A.map(H=>{const V=xc(H),X=c&&!p?!1:v===A||b.includes(V),Z=()=>{if(j.current.has(V))return;if(j.current.add(V),k.has(V))k.set(V,!0);else return;let Q=!0;k.forEach(ue=>{ue||(Q=!1)}),Q&&(M?.(),I(N.current),c&&g?.(),n&&n())};return o.jsx(a2,{isPresent:X,initial:!S.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:X?void 0:Z,anchorX:u,anchorY:h,children:H},V)})})},eS=y.createContext({strict:!1}),Gv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Yv=!1;function c2(){if(Yv)return;const e={};for(const t in Gv)e[t]={isEnabled:r=>Gv[t].some(n=>!!r[n])};Tw(e),Yv=!0}function tS(){return c2(),YT()}function u2(e){const t=tS();for(const r in e)t[r]={...t[r],...e[r]};Tw(t)}const d2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function eu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||d2.has(e)}let rS=e=>!eu(e);function h2(e){typeof e=="function"&&(rS=t=>t.startsWith("on")?!eu(t):e(t))}try{h2(require("@emotion/is-prop-valid").default)}catch{}function f2(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(rS(a)||r===!0&&eu(a)||!t&&!eu(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Nu=y.createContext({});function m2(e,t){if(ku(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ta(r)?r:void 0,animate:Ta(n)?n:void 0}}return e.inherit!==!1?t:{}}function p2(e){const{initial:t,animate:r}=m2(e,y.useContext(Nu));return y.useMemo(()=>({initial:t,animate:r}),[Xv(t),Xv(r)])}function Xv(e){return Array.isArray(e)?e.join(" "):e}const mp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nS(e,t,r){for(const n in t)!yr(t[n])&&!Mw(n,r)&&(e[n]=t[n])}function g2({transformTemplate:e},t){return y.useMemo(()=>{const r=mp();return dp(r,t,e),Object.assign({},r.vars,r.style)},[t])}function y2(e,t){const r=e.style||{},n={};return nS(n,r,e),Object.assign(n,g2(e,t)),n}function v2(e,t){const r={},n=y2(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const sS=()=>({...mp(),attrs:{}});function x2(e,t,r,n){const a=y.useMemo(()=>{const l=sS();return Lw(l,t,Fw(n),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};nS(l,e.style,e),a.style={...l,...a.style}}return a}const b2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pp(e){return typeof e!="string"||e.includes("-")?!1:!!(b2.indexOf(e)>-1||/[A-Z]/u.test(e))}function w2(e,t,r,{latestValues:n},a,l=!1,c){const h=(c??pp(e)?x2:v2)(t,n,a,e),f=f2(t,typeof e=="string",l),p=e!==y.Fragment?{...f,...h,ref:r}:{},{children:g}=t,v=y.useMemo(()=>yr(g)?g.get():g,[g]);return y.createElement(e,{...p,children:v})}function S2({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:k2(r,n,a,e),renderState:t()}}function k2(e,t,r,n){const a={},l=n(e,{});for(const v in l)a[v]=$c(l[v]);let{initial:c,animate:u}=e;const h=ku(e),f=Cw(e);t&&f&&!h&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!Su(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const S=np(e,v[b]);if(S){const{transitionEnd:N,transition:k,...j}=S;for(const E in j){let _=j[E];if(Array.isArray(_)){const A=p?_.length-1:0;_=_[A]}_!==null&&(a[E]=_)}for(const E in N)a[E]=N[E]}}}return a}const oS=e=>(t,r)=>{const n=y.useContext(Nu),a=y.useContext(wu),l=()=>S2(e,t,n,a);return r?l():Fm(l)},N2=oS({scrapeMotionValuesFromProps:hp,createRenderState:mp}),j2=oS({scrapeMotionValuesFromProps:Uw,createRenderState:sS}),_2=Symbol.for("motionComponentSymbol");function C2(e,t,r){const n=y.useRef(r);y.useInsertionEffect(()=>{n.current=r});const a=y.useRef(null);return y.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=n.current;if(typeof c=="function")if(l){const u=c(l);typeof u=="function"&&(a.current=u)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const iS=y.createContext({});function Qo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function E2(e,t,r,n,a,l){const{visualElement:c}=y.useContext(Nu),u=y.useContext(eS),h=y.useContext(wu),f=y.useContext(fp),p=f.reducedMotion,g=f.skipAnimations,v=y.useRef(null),b=y.useRef(!1);n=n||u.renderer,!v.current&&n&&(v.current=n(e,{visualState:t,parent:c,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,skipAnimations:g,isSVG:l}),b.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const S=v.current,N=y.useContext(iS);S&&!S.projection&&a&&(S.type==="html"||S.type==="svg")&&T2(v.current,r,a,N);const k=y.useRef(!1);y.useInsertionEffect(()=>{S&&k.current&&S.update(r,h)});const j=r[mw],E=y.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return Tb(()=>{b.current=!0,S&&(k.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),E.current&&S.animationState&&S.animationState.animateChanges())}),y.useEffect(()=>{S&&(!E.current&&S.animationState&&S.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),E.current=!1),S.enteringChildren=void 0)}),S}function T2(e,t,r,n){const{layoutId:a,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:aS(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||u&&Qo(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:h,layoutRoot:f})}function aS(e){if(e)return e.options.allowProjection!==!1?e.projection:aS(e.parent)}function ef(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&u2(n);const l=r?r==="svg":pp(e),c=l?j2:N2;function u(f,p){let g;const v={...y.useContext(fp),...f,layoutId:P2(f)},{isStatic:b}=v,S=p2(f),N=c(f,b);if(!b&&Eb){A2();const k=R2(v);g=k.MeasureLayout,S.visualElement=E2(e,N,v,a,k.ProjectionNode,l)}return o.jsxs(Nu.Provider,{value:S,children:[g&&S.visualElement?o.jsx(g,{visualElement:S.visualElement,...v}):null,w2(e,f,C2(N,S.visualElement,p),N,b,t,l)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const h=y.forwardRef(u);return h[_2]=e,h}function P2({layoutId:e}){const t=y.useContext(Bm).id;return t&&e!==void 0?t+"-"+e:e}function A2(e,t){y.useContext(eS).strict}function R2(e){const t=tS(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r?.isEnabled(e)||n?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function I2(e,t){if(typeof Proxy>"u")return ef;const r=new Map,n=(l,c)=>ef(l,c,e,t),a=(l,c)=>n(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?n:(r.has(c)||r.set(c,ef(c,void 0,e,t)),r.get(c))})}const D2=(e,t)=>t.isSVG??pp(e)?new hP(t):new iP(t,{allowProjection:e!==y.Fragment});class O2 extends Ls{constructor(t){super(t),t.animationState||(t.animationState=yP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Su(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let M2=0;class L2 extends Ls{constructor(){super(...arguments),this.id=M2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const B2={animation:{Feature:O2},exit:{Feature:L2}};function el(e){return{point:{x:e.pageX,y:e.pageY}}}const F2=e=>t=>ap(t)&&e(t,el(t));function Sa(e,t,r,n){return Pa(e,t,F2(r),n)}const lS=({current:e})=>e?e.ownerDocument.defaultView:null,Jv=(e,t)=>Math.abs(e-t);function U2(e,t){const r=Jv(e.x,t.x),n=Jv(e.y,t.y);return Math.sqrt(r**2+n**2)}const Qv=new Set(["auto","scroll"]);class cS{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=rf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,N=U2(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!N)return;const{point:k}=b,{timestamp:j}=hr;this.history.push({...k,timestamp:j});const{onStart:E,onMove:_}=this.handlers;S||(E&&E(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=tf(S,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:N,onSessionEnd:k,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=rf(b.type==="pointercancel"?this.lastMoveEventInfo:tf(S,this.transformPagePoint),this.history);this.startEvent&&N&&N(b,E),k&&k(b,E)},!ap(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=c,this.contextWindow=a||window;const h=el(t),f=tf(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=hr;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=r;v&&v(t,rf(f,this.history)),this.removeListeners=Ja(Sa(this.contextWindow,"pointermove",this.handlePointerMove),Sa(this.contextWindow,"pointerup",this.handlePointerUp),Sa(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(Qv.has(n.overflowX)||Qv.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-r.x,y:a.y-r.y};l.x===0&&l.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),At.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),As(this.updatePoint)}}function tf(e,t){return t?{point:t(e.point)}:e}function Zv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rf({point:e},t){return{point:e,delta:Zv(e,uS(t)),offset:Zv(e,$2(t)),velocity:z2(t,.1)}}function $2(e){return e[0]}function uS(e){return e[e.length-1]}function z2(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=uS(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>gn(t)));)r--;if(!n)return{x:0,y:0};n===e[0]&&e.length>2&&a.timestamp-n.timestamp>gn(t)*2&&(n=e[1]);const l=Xr(a.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-n.x)/l,y:(a.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function V2(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ft(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ft(r,e,n.max):Math.min(e,r)),e}function ex(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function q2(e,{top:t,left:r,bottom:n,right:a}){return{x:ex(e.x,r,a),y:ex(e.y,t,n)}}function tx(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function H2(e,t){return{x:tx(e.x,t.x),y:tx(e.y,t.y)}}function W2(e,t){let r=.5;const n=kr(e),a=kr(t);return a>n?r=_a(t.min,t.max-n,e.min):n>a&&(r=_a(e.min,e.max-a,t.min)),In(0,1,r)}function K2(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const em=.35;function G2(e=em){return e===!1?e=0:e===!0&&(e=em),{x:rx(e,"left","right"),y:rx(e,"top","bottom")}}function rx(e,t,r){return{min:nx(e,t),max:nx(e,r)}}function nx(e,t){return typeof e=="number"?e:e[t]||0}const Y2=new WeakMap;class X2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=g=>{r&&this.snapToCursor(el(g).point),this.stopAnimation()},c=(g,v)=>{const{drag:b,dragPropagation:S,onDragStart:N}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jT(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(j=>{let E=this.getAxisMotionValue(j).get()||0;if(Pn.test(E)){const{projection:_}=this.visualElement;if(_&&_.layout){const A=_.layout.layoutBox[j];A&&(E=kr(A)*(parseFloat(E)/100))}}this.originPoint[j]=E}),N&&At.update(()=>N(g,v),!1,!0),Wf(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:N,onDrag:k}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=v;if(S&&this.currentDirection===null){this.currentDirection=Q2(j),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),k&&At.update(()=>k(g,v),!1,!0)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:g}=this.getProps();(g||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new cS(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:lS(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!n)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&At.postRender(()=>u(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!bc(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=V2(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Qo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=q2(n.layoutBox,t):this.constraints=!1,this.elastic=G2(r),a!==this.constraints&&!Qo(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&Cn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=K2(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Qo(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=eP(n,a.root,this.visualElement.getTransformPagePoint());let c=H2(a.layout.layoutBox,l);if(r){const u=r(JT(c));this.hasMutatedConstraints=!!u,u&&(c=Aw(u))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Cn(p=>{if(!bc(p,r,this.currentDirection))return;let g=h&&h[p]||{};c&&(g={min:0,max:0});const v=a?200:1e6,b=a?40:1e7,S={type:"inertia",velocity:n?t[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Wf(this.visualElement,t),n.start(rp(t,n,0,r,this.visualElement,!1))}stopAnimation(){Cn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Cn(r=>{const{drag:n}=this.getProps();if(!bc(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[r],h=l.get()||0;l.set(t[r]-Ft(c,u,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Qo(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Cn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();a[c]=W2({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),Cn(c=>{if(!bc(c,t,null))return;const u=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];u.set(Ft(h,f,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Y2.set(this.visualElement,this);const t=this.visualElement.current,r=Sa(t,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps(),v=f.target,b=v!==t&&AT(v);p&&g&&!b&&this.start(f)});let n;const a=()=>{const{dragConstraints:f}=this.getProps();Qo(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),n||(n=J2(t,f.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),At.read(a);const u=Pa(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Cn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),r(),c(),h&&h(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=em,dragMomentum:u=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function sx(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function J2(e,t,r){const n=dv(e,sx(r)),a=dv(t,sx(r));return()=>{n(),a()}}function bc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Q2(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Z2 extends Ls{constructor(t){super(t),this.removeGroupControls=Jr,this.removeListeners=Jr,this.controls=new X2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jr}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const nf=e=>(t,r)=>{e&&At.update(()=>e(t,r),!1,!0)};class eA extends Ls{constructor(){super(...arguments),this.removePointerDownListener=Jr}onPointerDown(t){this.session=new cS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:nf(t),onStart:nf(r),onMove:nf(n),onEnd:(l,c)=>{delete this.session,a&&At.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Sa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sf=!1;class tA extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:l}=t;l&&(r.group&&r.group.add(l),n&&n.register&&a&&n.register(l),sf&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:l}=this.props,{projection:c}=n;return c&&(c.isPresent=l,t.layoutDependency!==r&&c.setOptions({...c.options,layoutDependency:r}),sf=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||At.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ip.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;sf=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function dS(e){const[t,r]=Zw(),n=y.useContext(Bm);return o.jsx(tA,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(iS),isPresent:t,safeToRemove:r})}const rA={pan:{Feature:eA},drag:{Feature:Z2,ProjectionNode:Qw,MeasureLayout:dS}};function ox(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,l=n[a];l&&At.postRender(()=>l(t,el(t)))}class nA extends Ls{mount(){const{current:t}=this.node;t&&(this.unmount=CT(t,(r,n)=>(ox(this.node,n,"Start"),a=>ox(this.node,a,"End"))))}unmount(){}}class sA extends Ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ja(Pa(this.node.current,"focus",()=>this.onFocus()),Pa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ix(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),l=n[a];l&&At.postRender(()=>l(t,el(t)))}class oA extends Ls{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:r,propagate:n}=this.node.props;this.unmount=IT(t,(a,l)=>(ix(this.node,l,"Start"),(c,{success:u})=>ix(this.node,c,u?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:n?.tap===!1})}unmount(){}}const tm=new WeakMap,of=new WeakMap,iA=e=>{const t=tm.get(e.target);t&&t(e)},aA=e=>{e.forEach(iA)};function lA({root:e,...t}){const r=e||document;of.has(r)||of.set(r,{});const n=of.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(aA,{root:e,...t})),n[a]}function cA(e,t,r){const n=lA(t);return tm.set(e,r),n.observe(e),()=>{tm.delete(e),n.unobserve(e)}}const uA={some:0,all:1};class dA extends Ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:l}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:uA[a]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(h)};return cA(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(hA(t,r))&&this.startObserver()}unmount(){}}function hA({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const fA={inView:{Feature:dA},tap:{Feature:oA},focus:{Feature:sA},hover:{Feature:nA}},mA={layout:{ProjectionNode:Qw,MeasureLayout:dS}},pA={...B2,...fA,...rA,...mA},ee=I2(pA,D2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),ax=e=>{const t=yA(e);return t.charAt(0).toUpperCase()+t.slice(1)},hS=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...u},h)=>y.createElement("svg",{ref:h,...vA,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:hS("lucide",a),...u},[...c.map(([f,p])=>y.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(e,t)=>{const r=y.forwardRef(({className:n,...a},l)=>y.createElement(xA,{ref:l,iconNode:t,className:hS(`lucide-${gA(ax(e))}`,`lucide-${e}`,n),...a}));return r.displayName=ax(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fS=We("arrow-left",bA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]],gp=We("baby",wA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Aa=We("calendar",SA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tu=We("camera",kA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vr=We("check",NA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yo=We("chevron-down",jA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Is=We("chevron-left",_A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ds=We("chevron-right",CA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yp=We("chevron-up",EA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tl=We("circle-alert",TA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ai=We("circle-check-big",PA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],RA=We("circle-check",AA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],af=We("circle-x",IA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OA=We("circle",DA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],An=We("clock",MA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],BA=We("copy",LA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Gn=We("credit-card",FA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$A=We("database",UA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rl=We("dollar-sign",zA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],qA=We("ellipsis",VA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lx=We("external-link",HA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rm=We("eye-off",WA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nm=We("eye",KA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],YA=We("file-text",GA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],JA=We("funnel",XA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ru=We("heart",QA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],lf=We("house",ZA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],nu=We("languages",eR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],rR=We("link-2",tR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sR=We("loader-circle",nR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ra=We("lock",oR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],aR=We("log-in",iR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],cf=We("log-out",lR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],uR=We("mail",cR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vp=We("map-pin",dR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mS=We("pen",hR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Yn=We("phone",fR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uo=We("plus",mR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pS=We("refresh-cw",pR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],yR=We("repeat",gR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sm=We("save",vR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],xp=We("scissors",xR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],om=We("search",bR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],im=We("send",wR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],cx=We("share-2",SR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bp=We("shield",kR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],su=We("sparkles",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gS=We("square-pen",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ux=We("star",_R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ju=We("trash-2",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],yS=We("trending-up",ER);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dx=We("triangle-alert",TR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],wp=We("upload",PR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ho=We("user",AR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],IR=We("users",RR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],OR=We("wallet",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ut=We("x",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vS=We("zap",LR);function hx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ts(...e){return t=>{let r=!1;const n=e.map(a=>{const l=hx(a,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():hx(e[a],null)}}}}function it(...e){return y.useCallback(ts(...e),e)}var BR=Symbol.for("react.lazy"),ou=Lm[" use ".trim().toString()];function FR(e){return typeof e=="object"&&e!==null&&"then"in e}function xS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===BR&&"_payload"in e&&FR(e._payload)}function _u(e){const t=UR(e),r=y.forwardRef((n,a)=>{let{children:l,...c}=n;xS(l)&&typeof ou=="function"&&(l=ou(l._payload));const u=y.Children.toArray(l),h=u.find(zR);if(h){const f=h.props.children,p=u.map(g=>g===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return o.jsx(t,{...c,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,p):null})}return o.jsx(t,{...c,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}var bS=_u("Slot");function UR(e){const t=y.forwardRef((r,n)=>{let{children:a,...l}=r;if(xS(a)&&typeof ou=="function"&&(a=ou(a._payload)),y.isValidElement(a)){const c=qR(a),u=VR(l,a.props);return a.type!==y.Fragment&&(u.ref=n?ts(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $R=Symbol("radix.slottable");function zR(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$R}function VR(e,t){const r={...t};for(const n in t){const a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...u)=>{const h=l(...u);return a(...u),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function qR(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function wS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=wS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function SS(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=wS(e))&&(n&&(n+=" "),n+=t);return n}const fx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mx=SS,kS=(e,t)=>r=>{var n;if(t?.variants==null)return mx(e,r?.class,r?.className);const{variants:a,defaultVariants:l}=t,c=Object.keys(a).map(f=>{const p=r?.[f],g=l?.[f];if(p===null)return null;const v=fx(p)||fx(g);return a[f][v]}),u=r&&Object.entries(r).reduce((f,p)=>{let[g,v]=p;return v===void 0||(f[g]=v),f},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:g,className:v,...b}=p;return Object.entries(b).every(S=>{let[N,k]=S;return Array.isArray(k)?k.includes({...l,...u}[N]):{...l,...u}[N]===k})?[...f,g,v]:f},[]);return mx(e,c,h,r?.class,r?.className)},Sp="-",HR=e=>{const t=KR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const u=c.split(Sp);return u[0]===""&&u.length!==1&&u.shift(),NS(u,t)||WR(c)},getConflictingClassGroupIds:(c,u)=>{const h=r[c]||[];return u&&n[c]?[...h,...n[c]]:h}}},NS=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?NS(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(Sp);return t.validators.find(({validator:c})=>c(l))?.classGroupId},px=/^\[(.+)\]$/,WR=e=>{if(px.test(e)){const t=px.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},KR=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YR(Object.entries(e.classGroups),r).forEach(([l,c])=>{am(c,n,l,t)}),n},am=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:gx(t,a);l.classGroupId=r;return}if(typeof a=="function"){if(GR(a)){am(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([l,c])=>{am(c,gx(t,l),r,n)})})},gx=(e,t)=>{let r=e;return t.split(Sp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},GR=e=>e.isThemeGetter,YR=(e,t)=>t?e.map(([r,n])=>{const a=n.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[t+c,u])):l);return[r,a]}):e,XR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(l,c)=>{r.set(l,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return a(l,c),c},set(l,c){r.has(l)?r.set(l,c):a(l,c)}}},jS="!",JR=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],l=t.length,c=u=>{const h=[];let f=0,p=0,g;for(let k=0;k<u.length;k++){let j=u[k];if(f===0){if(j===a&&(n||u.slice(k,k+l)===t)){h.push(u.slice(p,k)),p=k+l;continue}if(j==="/"){g=k;continue}}j==="["?f++:j==="]"&&f--}const v=h.length===0?u:u.substring(p),b=v.startsWith(jS),S=b?v.substring(1):v,N=g&&g>p?g-p:void 0;return{modifiers:h,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:N}};return r?u=>r({className:u,parseClassName:c}):c},QR=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZR=e=>({cache:XR(e.cacheSize),parseClassName:JR(e),...HR(e)}),eI=/\s+/,tI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,l=[],c=e.trim().split(eI);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:b}=r(f);let S=!!b,N=n(S?v.substring(0,b):v);if(!N){if(!S){u=f+(u.length>0?" "+u:u);continue}if(N=n(v),!N){u=f+(u.length>0?" "+u:u);continue}S=!1}const k=QR(p).join(":"),j=g?k+jS:k,E=j+N;if(l.includes(E))continue;l.push(E);const _=a(N,S);for(let A=0;A<_.length;++A){const I=_[A];l.push(j+I)}u=f+(u.length>0?" "+u:u)}return u};function rI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_S(t))&&(n&&(n+=" "),n+=r);return n}const _S=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_S(e[n]))&&(r&&(r+=" "),r+=t);return r};function nI(e,...t){let r,n,a,l=c;function c(h){const f=t.reduce((p,g)=>g(p),e());return r=ZR(f),n=r.cache.get,a=r.cache.set,l=u,u(h)}function u(h){const f=n(h);if(f)return f;const p=tI(h,r);return a(h,p),p}return function(){return l(rI.apply(null,arguments))}}const Dt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},CS=/^\[(?:([a-z-]+):)?(.+)\]$/i,sI=/^\d+\/\d+$/,oI=new Set(["px","full","screen"]),iI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wn=e=>di(e)||oI.has(e)||sI.test(e),Ss=e=>Si(e,"length",vI),di=e=>!!e&&!Number.isNaN(Number(e)),uf=e=>Si(e,"number",di),da=e=>!!e&&Number.isInteger(Number(e)),dI=e=>e.endsWith("%")&&di(e.slice(0,-1)),ut=e=>CS.test(e),ks=e=>iI.test(e),hI=new Set(["length","size","percentage"]),fI=e=>Si(e,hI,ES),mI=e=>Si(e,"position",ES),pI=new Set(["image","url"]),gI=e=>Si(e,pI,bI),yI=e=>Si(e,"",xI),ha=()=>!0,Si=(e,t,r)=>{const n=CS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vI=e=>aI.test(e)&&!lI.test(e),ES=()=>!1,xI=e=>cI.test(e),bI=e=>uI.test(e),wI=()=>{const e=Dt("colors"),t=Dt("spacing"),r=Dt("blur"),n=Dt("brightness"),a=Dt("borderColor"),l=Dt("borderRadius"),c=Dt("borderSpacing"),u=Dt("borderWidth"),h=Dt("contrast"),f=Dt("grayscale"),p=Dt("hueRotate"),g=Dt("invert"),v=Dt("gap"),b=Dt("gradientColorStops"),S=Dt("gradientColorStopPositions"),N=Dt("inset"),k=Dt("margin"),j=Dt("opacity"),E=Dt("padding"),_=Dt("saturate"),A=Dt("scale"),I=Dt("sepia"),B=Dt("skew"),M=Dt("space"),H=Dt("translate"),V=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",ut,t],Q=()=>[ut,t],ue=()=>["",Wn,Ss],fe=()=>["auto",di,ut],be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ut],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[di,ut];return{cacheSize:500,separator:":",theme:{colors:[ha],spacing:[Wn,Ss],blur:["none","",ks,ut],brightness:T(),borderColor:[e],borderRadius:["none","","full",ks,ut],borderSpacing:Q(),borderWidth:ue(),contrast:T(),grayscale:U(),hueRotate:T(),invert:U(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[dI,Ss],inset:Z(),margin:Z(),opacity:T(),padding:Q(),saturate:T(),scale:T(),sepia:U(),skew:T(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...be(),ut]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",da,ut]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",da,ut]}],"grid-cols":[{"grid-cols":[ha]}],"col-start-end":[{col:["auto",{span:["full",da,ut]},ut]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[ha]}],"row-start-end":[{row:["auto",{span:[da,ut]},ut]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,t]}],"min-w":[{"min-w":[ut,t,"min","max","fit"]}],"max-w":[{"max-w":[ut,t,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uf]}],"font-family":[{font:[ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",di,uf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wn,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wn,Ss]}],"underline-offset":[{"underline-offset":["auto",Wn,ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...be(),mI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ie()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Wn,ut]}],"outline-w":[{outline:[Wn,Ss]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Wn,Ss]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ks,yI]}],"shadow-color":[{shadow:[ha]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",ks,ut]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[_]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[da,ut]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wn,Ss,uf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SI=nI(wI);function at(...e){return SI(SS(e))}const TS=kS("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"btn-3d text-white border-0 hover:text-white",destructive:"bg-destructive text-white hover:bg-destructive/90 rounded-2xl shadow-lg",outline:"border-2 border-primary/20 bg-white text-foreground hover:bg-accent hover:border-primary/30 rounded-2xl shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-2xl shadow-md",ghost:"hover:bg-accent/50 hover:text-accent-foreground rounded-2xl",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-6 py-2.5 has-[>svg]:px-4 rounded-2xl",sm:"h-9 px-4 gap-1.5 has-[>svg]:px-3 rounded-xl",lg:"h-12 px-8 has-[>svg]:px-6 rounded-2xl text-base",icon:"size-11 rounded-2xl"}},defaultVariants:{variant:"default",size:"default"}});function pe({className:e,variant:t,size:r,asChild:n=!1,...a}){const l=n?bS:"button";return o.jsx(l,{"data-slot":"button",className:at(TS({variant:t,size:r,className:e})),...a})}function gt({className:e,type:t,...r}){return o.jsx("input",{type:t,"data-slot":"input",className:at("input-3d file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-12 w-full min-w-0 px-4 py-3 text-base bg-input-background transition-all outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",e),...r})}var nl=_b();const PS=Mm(nl);var kI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],NI=kI.reduce((e,t)=>{const r=_u(`Primitive.${t}`),n=y.forwardRef((a,l)=>{const{asChild:c,...u}=a,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...u,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),jI="Label",AS=y.forwardRef((e,t)=>o.jsx(NI.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));AS.displayName=jI;var _I=AS;function Ye({className:e,...t}){return o.jsx(_I,{"data-slot":"label",className:at("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function St({className:e,...t}){return o.jsx("div",{"data-slot":"card",className:at("card-3d bg-card text-card-foreground flex flex-col gap-6",e),...t})}function zr({className:e,...t}){return o.jsx("div",{"data-slot":"card-header",className:at("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Dn({className:e,...t}){return o.jsx("h4",{"data-slot":"card-title",className:at("leading-none",e),...t})}function kp({className:e,...t}){return o.jsx("p",{"data-slot":"card-description",className:at("text-muted-foreground",e),...t})}function kt({className:e,...t}){return o.jsx("div",{"data-slot":"card-content",className:at("px-6 [&:last-child]:pb-6",e),...t})}function CI(e,t){const r=y.createContext(t),n=l=>{const{children:c,...u}=l,h=y.useMemo(()=>u,Object.values(u));return o.jsx(r.Provider,{value:h,children:c})};n.displayName=e+"Provider";function a(l){const c=y.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[n,a]}function Vr(e,t=[]){let r=[];function n(l,c){const u=y.createContext(c),h=r.length;r=[...r,c];const f=g=>{const{scope:v,children:b,...S}=g,N=v?.[e]?.[h]||u,k=y.useMemo(()=>S,Object.values(S));return o.jsx(N.Provider,{value:k,children:b})};f.displayName=l+"Provider";function p(g,v){const b=v?.[e]?.[h]||u,S=y.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[f,p]}const a=()=>{const l=r.map(c=>y.createContext(c));return function(u){const h=u?.[e]||l;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[n,EI(a,...t)]}function EI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=n.reduce((u,{useScope:h,scopeName:f})=>{const g=h(l)[`__scope${f}`];return{...u,...g}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var Qt=globalThis?.document?y.useLayoutEffect:()=>{},TI=Lm[" useInsertionEffect ".trim().toString()]||Qt;function Qn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,l,c]=PI({defaultProp:t,onChange:r}),u=e!==void 0,h=u?e:a;{const p=y.useRef(e!==void 0);y.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const f=y.useCallback(p=>{if(u){const g=AI(p)?p(e):p;g!==e&&c.current?.(g)}else l(p)},[u,e,l,c]);return[h,f]}function PI({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),l=y.useRef(t);return TI(()=>{l.current=t},[t]),y.useEffect(()=>{a.current!==r&&(l.current?.(r),a.current=r)},[r,a]),[r,n,l]}function AI(e){return typeof e=="function"}function sl(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ol(e){const[t,r]=y.useState(void 0);return Qt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,u;if("borderBoxSize"in l){const h=l.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function RI(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Ir=e=>{const{present:t,children:r}=e,n=II(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),l=it(n.ref,DI(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:l}):null};Ir.displayName="Presence";function II(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),l=y.useRef("none"),c=e?"mounted":"unmounted",[u,h]=RI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const f=wc(n.current);l.current=u==="mounted"?f:"none"},[u]),Qt(()=>{const f=n.current,p=a.current;if(p!==e){const v=l.current,b=wc(f);e?h("MOUNT"):b==="none"||f?.display==="none"?h("UNMOUNT"):h(p&&v!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),Qt(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,g=b=>{const N=wc(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&N&&(h("ANIMATION_END"),!a.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},v=b=>{b.target===t&&(l.current=wc(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function wc(e){return e?.animationName||"none"}function DI(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function OI(e){const t=MI(e),r=y.forwardRef((n,a)=>{const{children:l,...c}=n,u=y.Children.toArray(l),h=u.find(BI);if(h){const f=h.props.children,p=u.map(g=>g===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return o.jsx(t,{...c,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,p):null})}return o.jsx(t,{...c,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}function MI(e){const t=y.forwardRef((r,n)=>{const{children:a,...l}=r;if(y.isValidElement(a)){const c=UI(a),u=FI(l,a.props);return a.type!==y.Fragment&&(u.ref=n?ts(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LI=Symbol("radix.slottable");function BI(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LI}function FI(e,t){const r={...t};for(const n in t){const a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...u)=>{const h=l(...u);return a(...u),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function UI(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $I=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=$I.reduce((e,t)=>{const r=OI(`Primitive.${t}`),n=y.forwardRef((a,l)=>{const{asChild:c,...u}=a,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...u,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function RS(e,t){e&&nl.flushSync(()=>e.dispatchEvent(t))}var Cu="Checkbox",[zI]=Vr(Cu),[VI,Np]=zI(Cu);function qI(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:l,form:c,name:u,onCheckedChange:h,required:f,value:p="on",internal_do_not_use_render:g}=e,[v,b]=Qn({prop:r,defaultProp:a??!1,onChange:h,caller:Cu}),[S,N]=y.useState(null),[k,j]=y.useState(null),E=y.useRef(!1),_=S?!!c||!!S.closest("form"):!0,A={checked:v,disabled:l,setChecked:b,control:S,setControl:N,name:u,form:c,value:p,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:Ps(a)?!1:a,isFormControl:_,bubbleInput:k,setBubbleInput:j};return o.jsx(VI,{scope:t,...A,children:HI(g)?g(A):n})}var IS="CheckboxTrigger",DS=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:l,value:c,disabled:u,checked:h,required:f,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:S}=Np(IS,e),N=it(a,p),k=y.useRef(h);return y.useEffect(()=>{const j=l?.form;if(j){const E=()=>g(k.current);return j.addEventListener("reset",E),()=>j.removeEventListener("reset",E)}},[l,g]),o.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":Ps(h)?"mixed":h,"aria-required":f,"data-state":US(h),"data-disabled":u?"":void 0,disabled:u,value:c,...n,ref:N,onKeyDown:Pe(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Pe(r,j=>{g(E=>Ps(E)?!0:!E),S&&b&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})})});DS.displayName=IS;var OS=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:l,required:c,disabled:u,value:h,onCheckedChange:f,form:p,...g}=e;return o.jsx(qI,{__scopeCheckbox:r,checked:a,defaultChecked:l,disabled:u,required:c,onCheckedChange:f,name:n,form:p,value:h,internal_do_not_use_render:({isFormControl:v})=>o.jsxs(o.Fragment,{children:[o.jsx(DS,{...g,ref:t,__scopeCheckbox:r}),v&&o.jsx(FS,{__scopeCheckbox:r})]})})});OS.displayName=Cu;var MS="CheckboxIndicator",LS=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,l=Np(MS,r);return o.jsx(Ir,{present:n||Ps(l.checked)||l.checked===!0,children:o.jsx(Xe.span,{"data-state":US(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});LS.displayName=MS;var BS="CheckboxBubbleInput",FS=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:c,required:u,disabled:h,name:f,value:p,form:g,bubbleInput:v,setBubbleInput:b}=Np(BS,e),S=it(r,b),N=sl(l),k=ol(n);y.useEffect(()=>{const E=v;if(!E)return;const _=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(_,"checked").set,B=!a.current;if(N!==l&&I){const M=new Event("click",{bubbles:B});E.indeterminate=Ps(l),I.call(E,Ps(l)?!1:l),E.dispatchEvent(M)}},[v,N,l,a]);const j=y.useRef(Ps(l)?!1:l);return o.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??j.current,required:u,disabled:h,name:f,value:p,form:g,...t,tabIndex:-1,ref:S,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});FS.displayName=BS;function HI(e){return typeof e=="function"}function Ps(e){return e==="indeterminate"}function US(e){return Ps(e)?"indeterminate":e?"checked":"unchecked"}function $S({className:e,...t}){return o.jsx(OS,{"data-slot":"checkbox",className:at("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(LS,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(vr,{className:"size-3.5"})})})}function WI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const KI=e=>{switch(e){case"success":return XI;case"info":return QI;case"warning":return JI;case"error":return ZI;default:return null}},GI=Array(12).fill(0),YI=({visible:e,className:t})=>ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ke.createElement("div",{className:"sonner-spinner"},GI.map((r,n)=>ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),XI=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JI=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QI=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZI=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eD=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tD=()=>{const[e,t]=ke.useState(document.hidden);return ke.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let lm=1;class rD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,l=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:lm++,c=this.toasts.find(h=>h.id===l),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...t,id:l,title:n}),{...h,...t,id:l,dismissible:u,title:n}):h):this.addToast({title:n,...a,dismissible:u,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let l=n!==void 0,c;const u=a.then(async f=>{if(c=["resolve",f],ke.isValidElement(f))l=!1,this.create({id:n,type:"default",message:f});else if(sD(f)&&!f.ok){l=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,S=typeof g=="object"&&!ke.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:v,...S})}else if(f instanceof Error){l=!1;const g=typeof r.error=="function"?await r.error(f):r.error,v=typeof r.description=="function"?await r.description(f):r.description,S=typeof g=="object"&&!ke.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:v,...S})}else if(r.success!==void 0){l=!1;const g=typeof r.success=="function"?await r.success(f):r.success,v=typeof r.description=="function"?await r.description(f):r.description,S=typeof g=="object"&&!ke.isValidElement(g)?g:{message:g};this.create({id:n,type:"success",description:v,...S})}}).catch(async f=>{if(c=["reject",f],r.error!==void 0){l=!1;const p=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,b=typeof p=="object"&&!ke.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...b})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((f,p)=>u.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(t,r)=>{const n=r?.id||lm++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rr=new rD,nD=(e,t)=>{const r=t?.id||lm++;return Rr.addToast({title:e,...t,id:r}),r},sD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",oD=nD,iD=()=>Rr.toasts,aD=()=>Rr.getActiveToasts(),K=Object.assign(oD,{success:Rr.success,info:Rr.info,warning:Rr.warning,error:Rr.error,custom:Rr.custom,message:Rr.message,promise:Rr.promise,dismiss:Rr.dismiss,loading:Rr.loading},{getHistory:iD,getToasts:aD});WI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sc(e){return e.label!==void 0}const lD=3,cD="24px",uD="16px",yx=4e3,dD=356,hD=14,fD=45,mD=200;function _n(...e){return e.filter(Boolean).join(" ")}function pD(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const gD=e=>{var t,r,n,a,l,c,u,h,f;const{invert:p,toast:g,unstyled:v,interacting:b,setHeights:S,visibleToasts:N,heights:k,index:j,toasts:E,expanded:_,removeToast:A,defaultRichColors:I,closeButton:B,style:M,cancelButtonStyle:H,actionButtonStyle:V,className:X="",descriptionClassName:Z="",duration:Q,position:ue,gap:fe,expandByDefault:be,classNames:ie,icons:le,closeButtonAriaLabel:G="Close toast"}=e,[U,R]=ke.useState(null),[T,P]=ke.useState(null),[L,D]=ke.useState(!1),[q,F]=ke.useState(!1),[$,re]=ke.useState(!1),[Se,de]=ke.useState(!1),[W,J]=ke.useState(!1),[Ce,Oe]=ke.useState(0),[Re,ot]=ke.useState(0),ft=ke.useRef(g.duration||Q||yx),Nt=ke.useRef(null),lt=ke.useRef(null),ve=j===0,Ae=j+1<=N,Ie=g.type,Te=g.dismissible!==!1,ce=g.className||"",xe=g.descriptionClassName||"",je=ke.useMemo(()=>k.findIndex($e=>$e.toastId===g.id)||0,[k,g.id]),rt=ke.useMemo(()=>{var $e;return($e=g.closeButton)!=null?$e:B},[g.closeButton,B]),et=ke.useMemo(()=>g.duration||Q||yx,[g.duration,Q]),oe=ke.useRef(0),ne=ke.useRef(0),he=ke.useRef(0),me=ke.useRef(null),[_e,Le]=ue.split("-"),He=ke.useMemo(()=>k.reduce(($e,bt,Et)=>Et>=je?$e:$e+bt.height,0),[k,je]),Ee=tD(),Ve=g.invert||p,Ze=Ie==="loading";ne.current=ke.useMemo(()=>je*fe+He,[je,He]),ke.useEffect(()=>{ft.current=et},[et]),ke.useEffect(()=>{D(!0)},[]),ke.useEffect(()=>{const $e=lt.current;if($e){const bt=$e.getBoundingClientRect().height;return ot(bt),S(Et=>[{toastId:g.id,height:bt,position:g.position},...Et]),()=>S(Et=>Et.filter(nr=>nr.toastId!==g.id))}},[S,g.id]),ke.useLayoutEffect(()=>{if(!L)return;const $e=lt.current,bt=$e.style.height;$e.style.height="auto";const Et=$e.getBoundingClientRect().height;$e.style.height=bt,ot(Et),S(nr=>nr.find(Mt=>Mt.toastId===g.id)?nr.map(Mt=>Mt.toastId===g.id?{...Mt,height:Et}:Mt):[{toastId:g.id,height:Et,position:g.position},...nr])},[L,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const ct=ke.useCallback(()=>{F(!0),Oe(ne.current),S($e=>$e.filter(bt=>bt.toastId!==g.id)),setTimeout(()=>{A(g)},mD)},[g,A,S,ne]);ke.useEffect(()=>{if(g.promise&&Ie==="loading"||g.duration===1/0||g.type==="loading")return;let $e;return _||b||Ee?(()=>{if(he.current<oe.current){const nr=new Date().getTime()-oe.current;ft.current=ft.current-nr}he.current=new Date().getTime()})():(()=>{ft.current!==1/0&&(oe.current=new Date().getTime(),$e=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),ct()},ft.current))})(),()=>clearTimeout($e)},[_,b,g,Ie,Ee,ct]),ke.useEffect(()=>{g.delete&&(ct(),g.onDismiss==null||g.onDismiss.call(g,g))},[ct,g.delete]);function vt(){var $e;if(le?.loading){var bt;return ke.createElement("div",{className:_n(ie?.loader,g==null||(bt=g.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":Ie==="loading"},le.loading)}return ke.createElement(YI,{className:_n(ie?.loader,g==null||($e=g.classNames)==null?void 0:$e.loader),visible:Ie==="loading"})}const Ge=g.icon||le?.[Ie]||KI(Ie);var Ct,xt;return ke.createElement("li",{tabIndex:0,ref:lt,className:_n(X,ce,ie?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,ie?.default,ie?.[Ie],g==null||(r=g.classNames)==null?void 0:r[Ie]),"data-sonner-toast":"","data-rich-colors":(Ct=g.richColors)!=null?Ct:I,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":L,"data-promise":!!g.promise,"data-swiped":W,"data-removed":q,"data-visible":Ae,"data-y-position":_e,"data-x-position":Le,"data-index":j,"data-front":ve,"data-swiping":$,"data-dismissible":Te,"data-type":Ie,"data-invert":Ve,"data-swipe-out":Se,"data-swipe-direction":T,"data-expanded":!!(_||be&&L),"data-testid":g.testId,style:{"--index":j,"--toasts-before":j,"--z-index":E.length-j,"--offset":`${q?Ce:ne.current}px`,"--initial-height":be?"auto":`${Re}px`,...M,...g.style},onDragEnd:()=>{re(!1),R(null),me.current=null},onPointerDown:$e=>{$e.button!==2&&(Ze||!Te||(Nt.current=new Date,Oe(ne.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(re(!0),me.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,bt,Et;if(Se||!Te)return;me.current=null;const nr=Number((($e=lt.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),en=Number(((bt=lt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mt=new Date().getTime()-((Et=Nt.current)==null?void 0:Et.getTime()),qt=U==="x"?nr:en,tn=Math.abs(qt)/Mt;if(Math.abs(qt)>=fD||tn>.11){Oe(ne.current),g.onDismiss==null||g.onDismiss.call(g,g),P(U==="x"?nr>0?"right":"left":en>0?"down":"up"),ct(),de(!0);return}else{var Kt,xr;(Kt=lt.current)==null||Kt.style.setProperty("--swipe-amount-x","0px"),(xr=lt.current)==null||xr.style.setProperty("--swipe-amount-y","0px")}J(!1),re(!1),R(null)},onPointerMove:$e=>{var bt,Et,nr;if(!me.current||!Te||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;const Mt=$e.clientY-me.current.y,qt=$e.clientX-me.current.x;var tn;const Kt=(tn=e.swipeDirections)!=null?tn:pD(ue);!U&&(Math.abs(qt)>1||Math.abs(Mt)>1)&&R(Math.abs(qt)>Math.abs(Mt)?"x":"y");let xr={x:0,y:0};const bn=jr=>1/(1.5+Math.abs(jr)/20);if(U==="y"){if(Kt.includes("top")||Kt.includes("bottom"))if(Kt.includes("top")&&Mt<0||Kt.includes("bottom")&&Mt>0)xr.y=Mt;else{const jr=Mt*bn(Mt);xr.y=Math.abs(jr)<Math.abs(Mt)?jr:Mt}}else if(U==="x"&&(Kt.includes("left")||Kt.includes("right")))if(Kt.includes("left")&&qt<0||Kt.includes("right")&&qt>0)xr.x=qt;else{const jr=qt*bn(qt);xr.x=Math.abs(jr)<Math.abs(qt)?jr:qt}(Math.abs(xr.x)>0||Math.abs(xr.y)>0)&&J(!0),(Et=lt.current)==null||Et.style.setProperty("--swipe-amount-x",`${xr.x}px`),(nr=lt.current)==null||nr.style.setProperty("--swipe-amount-y",`${xr.y}px`)}},rt&&!g.jsx&&Ie!=="loading"?ke.createElement("button",{"aria-label":G,"data-disabled":Ze,"data-close-button":!0,onClick:Ze||!Te?()=>{}:()=>{ct(),g.onDismiss==null||g.onDismiss.call(g,g)},className:_n(ie?.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(xt=le?.close)!=null?xt:eD):null,(Ie||g.icon||g.promise)&&g.icon!==null&&(le?.[Ie]!==null||g.icon)?ke.createElement("div",{"data-icon":"",className:_n(ie?.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||vt():null,g.type!=="loading"?Ge:null):null,ke.createElement("div",{"data-content":"",className:_n(ie?.content,g==null||(l=g.classNames)==null?void 0:l.content)},ke.createElement("div",{"data-title":"",className:_n(ie?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ke.createElement("div",{"data-description":"",className:_n(Z,xe,ie?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ke.isValidElement(g.cancel)?g.cancel:g.cancel&&Sc(g.cancel)?ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||H,onClick:$e=>{Sc(g.cancel)&&Te&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,$e),ct())},className:_n(ie?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ke.isValidElement(g.action)?g.action:g.action&&Sc(g.action)?ke.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||V,onClick:$e=>{Sc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,$e),!$e.defaultPrevented&&ct())},className:_n(ie?.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function vx(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function yD(e,t){const r={};return[e,t].forEach((n,a)=>{const l=a===1,c=l?"--mobile-offset":"--offset",u=l?uD:cD;function h(f){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${c}-${f}`]=u:r[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):h(u)}),r}const vD=ke.forwardRef(function(t,r){const{id:n,invert:a,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:h,className:f,offset:p,mobileOffset:g,theme:v="light",richColors:b,duration:S,style:N,visibleToasts:k=lD,toastOptions:j,dir:E=vx(),gap:_=hD,icons:A,containerAriaLabel:I="Notifications"}=t,[B,M]=ke.useState([]),H=ke.useMemo(()=>n?B.filter(L=>L.toasterId===n):B.filter(L=>!L.toasterId),[B,n]),V=ke.useMemo(()=>Array.from(new Set([l].concat(H.filter(L=>L.position).map(L=>L.position)))),[H,l]),[X,Z]=ke.useState([]),[Q,ue]=ke.useState(!1),[fe,be]=ke.useState(!1),[ie,le]=ke.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=ke.useRef(null),U=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=ke.useRef(null),T=ke.useRef(!1),P=ke.useCallback(L=>{M(D=>{var q;return(q=D.find(F=>F.id===L.id))!=null&&q.delete||Rr.dismiss(L.id),D.filter(({id:F})=>F!==L.id)})},[]);return ke.useEffect(()=>Rr.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{M(D=>D.map(q=>q.id===L.id?{...q,delete:!0}:q))});return}setTimeout(()=>{PS.flushSync(()=>{M(D=>{const q=D.findIndex(F=>F.id===L.id);return q!==-1?[...D.slice(0,q),{...D[q],...L},...D.slice(q+1)]:[L,...D]})})})}),[B]),ke.useEffect(()=>{if(v!=="system"){le(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:D})=>{le(D?"dark":"light")})}catch{L.addListener(({matches:q})=>{try{le(q?"dark":"light")}catch(F){console.error(F)}})}},[v]),ke.useEffect(()=>{B.length<=1&&ue(!1)},[B]),ke.useEffect(()=>{const L=D=>{var q;if(c.every(re=>D[re]||D.code===re)){var $;ue(!0),($=G.current)==null||$.focus()}D.code==="Escape"&&(document.activeElement===G.current||(q=G.current)!=null&&q.contains(document.activeElement))&&ue(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[c]),ke.useEffect(()=>{if(G.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,T.current=!1)}},[G.current]),ke.createElement("section",{ref:r,"aria-label":`${I} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((L,D)=>{var q;const[F,$]=L.split("-");return H.length?ke.createElement("ol",{key:L,dir:E==="auto"?vx():E,tabIndex:-1,ref:G,className:f,"data-sonner-toaster":!0,"data-sonner-theme":ie,"data-y-position":F,"data-x-position":$,style:{"--front-toast-height":`${((q=X[0])==null?void 0:q.height)||0}px`,"--width":`${dD}px`,"--gap":`${_}px`,...N,...yD(p,g)},onBlur:re=>{T.current&&!re.currentTarget.contains(re.relatedTarget)&&(T.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||T.current||(T.current=!0,R.current=re.relatedTarget)},onMouseEnter:()=>ue(!0),onMouseMove:()=>ue(!0),onMouseLeave:()=>{fe||ue(!1)},onDragEnd:()=>ue(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||be(!0)},onPointerUp:()=>be(!1)},H.filter(re=>!re.position&&D===0||re.position===L).map((re,Se)=>{var de,W;return ke.createElement(gD,{key:re.id,icons:A,index:Se,toast:re,defaultRichColors:b,duration:(de=j?.duration)!=null?de:S,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:a,visibleToasts:k,closeButton:(W=j?.closeButton)!=null?W:h,interacting:fe,position:L,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:P,toasts:H.filter(J=>J.position==re.position),heights:X.filter(J=>J.position==re.position),setHeights:Z,expandByDefault:u,gap:_,expanded:Q,swipeDirections:t.swipeDirections})})):null}))}),dt="gxethvdtqpqtfibpznub",mt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd4ZXRodmR0cXBxdGZpYnB6bnViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyMzExMzUsImV4cCI6MjA4MTgwNzEzNX0.4iPnwMUwCzPR-0FdnjyEIn6FsmDJxIYbX_5BcAfiSZY";function xD({onClose:e,onSuccess:t}){const{t:r}=yt(),[n,a]=y.useState("phone"),[l,c]=y.useState("+998 "),[u,h]=y.useState(""),[f,p]=y.useState(""),[g,v]=y.useState(""),[b,S]=y.useState(!1),N=_=>{let A=_.target.value;A.startsWith("+998")||(A="+998 ");const I=A.replace(/[^\d+\s]/g,"");if(I.length>4){const B=I.slice(4).replace(/\s/g,"");let M="+998 ";B.length>0&&(M+=B.slice(0,2)),B.length>2&&(M+=" "+B.slice(2,5)),B.length>5&&(M+=" "+B.slice(5,7)),B.length>7&&(M+=" "+B.slice(7,9)),c(M)}else c("+998 ")},k=_=>{const A=_.replace(/\s/g,"");return A.startsWith("+998")&&A.length===13},j=async _=>{if(_.preventDefault(),!k(l)){K.error("Invalid phone number format");return}S(!0);try{const A=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/auth/send-otp`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`},body:JSON.stringify({phone:l.replace(/\s/g,"")})}),I=await A.json();if(!A.ok)throw new Error(I.error||"Failed to send code");K.success(`${r("auth.smsSentWithCode")} ${l}`),a("verify")}catch(A){console.error("Send OTP error:",A),K.error(r("auth.failedToSendCode"),{description:A.message||l})}finally{S(!1)}},E=async _=>{if(_.preventDefault(),!u.trim()){K.error("Please enter the verification code");return}if(f.length<6){K.error(r("auth.passwordMinLength"));return}if(f!==g){K.error(r("auth.passwordsDontMatch"));return}S(!0);try{const A=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`},body:JSON.stringify({phone:l.replace(/\s/g,""),otp:u,newPassword:f})}),I=await A.json();if(!A.ok)throw new Error(I.error||"Failed to reset password");K.success(r("auth.passwordUpdatedSuccessfully")),setTimeout(()=>{t(l),e()},1500)}catch(A){console.error("Reset password error:",A),K.error(A.message||"Failed to reset password")}finally{S(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:o.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md",children:o.jsxs(St,{className:"shadow-2xl border-0",children:[o.jsxs(zr,{className:"relative",children:[o.jsx(pe,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:o.jsx(Ut,{className:"w-4 h-4"})}),o.jsx(Dn,{className:"text-center pr-8",children:r("auth.resetPassword")})]}),o.jsx(kt,{children:o.jsx(jt,{mode:"wait",children:n==="phone"?o.jsxs(ee.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{htmlFor:"reset-phone",children:r("auth.phoneNumber")}),o.jsxs("div",{className:"relative",children:[o.jsx(Yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"reset-phone",type:"tel",placeholder:"+998 90 123 45 67",value:l,onChange:N,className:"pl-10",required:!0})]}),o.jsx("p",{className:"text-sm text-gray-500",children:r("auth.enterCodeSentToPhone")})]}),o.jsx(pe,{type:"submit",className:"w-full",disabled:b,children:b?o.jsx(ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):r("auth.sendCode")})]},"phone-step"):o.jsxs(ee.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onSubmit:E,className:"space-y-4",children:[o.jsxs(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>a("phone"),className:"mb-2",children:[o.jsx(fS,{className:"w-4 h-4 mr-2"}),r("auth.backToLogin")]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{htmlFor:"verification-code",children:r("auth.enterCodeSentToPhone")}),o.jsx(gt,{id:"verification-code",type:"text",placeholder:"123456",value:u,onChange:_=>h(_.target.value.replace(/\D/g,"").slice(0,6)),className:"text-center text-2xl tracking-widest",maxLength:6,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{htmlFor:"new-password",children:r("auth.newPassword")}),o.jsxs("div",{className:"relative",children:[o.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"new-password",type:"password",placeholder:r("auth.enterNewPassword"),value:f,onChange:_=>p(_.target.value),className:"pl-10",minLength:6,required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{htmlFor:"confirm-password",children:r("auth.confirmPassword")}),o.jsxs("div",{className:"relative",children:[o.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"confirm-password",type:"password",placeholder:r("auth.confirmPasswordPlaceholder"),value:g,onChange:_=>v(_.target.value),className:"pl-10",minLength:6,required:!0})]})]}),o.jsx(pe,{type:"submit",className:"w-full",disabled:b,children:b?o.jsx(ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):r("auth.verifyAndReset")})]},"verify-step")})})]})})})}function bD({onLogin:e,onNavigateToSignUp:t}){const{t:r}=yt(),[n,a]=y.useState("+998 "),[l,c]=y.useState(""),[u,h]=y.useState(!1),[f,p]=y.useState(!1),[g,v]=y.useState(null),[b,S]=y.useState(!1),[N,k]=y.useState(!1),[j,E]=y.useState(!1),_=B=>{let M=B.target.value;M.startsWith("+998")||(M="+998 ");const H=M.replace(/[^\d+\s]/g,"");if(v(null),S(!1),H.length>4){const V=H.slice(4).replace(/\s/g,"");let X="+998 ";V.length>0&&(X+=V.slice(0,2)),V.length>2&&(X+=" "+V.slice(2,5)),V.length>5&&(X+=" "+V.slice(5,7)),V.length>7&&(X+=" "+V.slice(7,9)),a(X)}else a("+998 ")},A=B=>{const M=B.replace(/\s/g,"");return M.startsWith("+998")&&M.length===13},I=async B=>{if(B.preventDefault(),!!A(n)){p(!0),v(null),S(!1);try{const M=await e(n,l);!M.success&&M.error==="account_not_found"&&(v(r("auth.accountNotFound")),S(!0),setTimeout(()=>{const H=document.getElementById("phone");H&&H.focus()},100),console.log("Analytics: auth_login_failed_notfound",{phone:"anonymized_phone",timestamp:new Date().toISOString()}))}finally{p(!1)}}};return o.jsxs("div",{className:"flex-1 w-full bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-[rgb(252,253,255)]",children:o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-[rgb(44,44,44)] mb-2 text-[36px] font-normal not-italic font-bold font-[Dela_Gothic_One]",children:r("auth.appName")}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-[16px]",children:r("auth.welcomeBack")})]}),o.jsxs(St,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-[20px]",children:[o.jsx(zr,{children:o.jsx(Dn,{className:"text-center text-[20px]",children:r("auth.loginTitle")})}),o.jsx(kt,{children:o.jsxs("form",{onSubmit:I,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{htmlFor:"phone",children:r("auth.phoneNumber")}),o.jsxs("div",{className:"relative",children:[o.jsx(Yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"phone",type:"tel",placeholder:"+998 90 123 45 67",value:n,onChange:_,className:`pl-10 ${g?"border-red-500 focus-visible:ring-red-500":""}`,required:!0})]}),g&&o.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-2",children:[o.jsxs("p",{className:"text-sm text-red-500 font-medium mb-3 flex items-center gap-2",role:"alert",children:[o.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-red-500"}),g]}),b&&o.jsx("div",{className:"flex gap-3 -mx-6 px-2 sm:mx-0 sm:px-0",children:o.jsx(pe,{type:"button",variant:"default",size:"sm",onClick:t,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white h-auto whitespace-normal py-2",children:r("auth.register")})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{htmlFor:"password",children:r("auth.password")}),o.jsxs("div",{className:"relative",children:[o.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"password",type:j?"text":"password",placeholder:r("auth.passwordPlaceholder"),value:l,onChange:B=>c(B.target.value),className:`pl-10 pr-10 ${g?"border-red-500 focus-visible:ring-red-500":""}`,required:!0}),o.jsx("button",{type:"button",onClick:()=>E(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":j?"Hide password":"Show password",children:j?o.jsx(rm,{className:"w-4 h-4"}):o.jsx(nm,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[o.jsxs("label",{htmlFor:"remember",className:"flex items-center gap-2.5 cursor-pointer group",children:[o.jsx($S,{id:"remember",checked:u,onCheckedChange:B=>h(B),className:"h-4 w-4 sm:h-5 sm:w-5 rounded border-gray-300 data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors select-none",children:r("auth.rememberMe")})]}),o.jsx(pe,{type:"button",variant:"link",className:"p-0 h-auto text-sm text-[rgb(20,117,253)] hover:text-emerald-700 underline-offset-4 hover:underline font-medium justify-start sm:justify-end",onClick:()=>k(!0),children:r("auth.forgotPassword")})]}),o.jsx(pe,{type:"submit",className:"w-full transition-all duration-300 hover:shadow-lg rounded-[8px] text-[15px] bg-[rgb(16,37,58)]",disabled:f,children:f?o.jsx(ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):r("auth.loginButton")})]})})]}),o.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-6",children:[r("auth.dontHaveAccount")," ",o.jsx(pe,{variant:"link",className:"p-0 h-auto bg-[rgba(1,87,160,0)] text-[rgb(20,117,253)]",onClick:t,children:r("auth.signUpButton")})]})]})}),N&&o.jsx(xD,{onClose:()=>k(!1),onSuccess:B=>{a(B),c("")}})]})}function Ia(e,[t,r]){return Math.min(r,Math.max(t,e))}function xx(e){const t=wD(e),r=y.forwardRef((n,a)=>{const{children:l,...c}=n,u=y.Children.toArray(l),h=u.find(kD);if(h){const f=h.props.children,p=u.map(g=>g===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return o.jsx(t,{...c,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,p):null})}return o.jsx(t,{...c,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}function wD(e){const t=y.forwardRef((r,n)=>{const{children:a,...l}=r;if(y.isValidElement(a)){const c=jD(a),u=ND(l,a.props);return a.type!==y.Fragment&&(u.ref=n?ts(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SD=Symbol("radix.slottable");function kD(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SD}function ND(e,t){const r={...t};for(const n in t){const a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...u)=>{const h=l(...u);return a(...u),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function jD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Eu(e){const t=e+"CollectionProvider",[r,n]=Vr(t),[a,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=N=>{const{scope:k,children:j}=N,E=ke.useRef(null),_=ke.useRef(new Map).current;return o.jsx(a,{scope:k,itemMap:_,collectionRef:E,children:j})};c.displayName=t;const u=e+"CollectionSlot",h=xx(u),f=ke.forwardRef((N,k)=>{const{scope:j,children:E}=N,_=l(u,j),A=it(k,_.collectionRef);return o.jsx(h,{ref:A,children:E})});f.displayName=u;const p=e+"CollectionItemSlot",g="data-radix-collection-item",v=xx(p),b=ke.forwardRef((N,k)=>{const{scope:j,children:E,..._}=N,A=ke.useRef(null),I=it(k,A),B=l(p,j);return ke.useEffect(()=>(B.itemMap.set(A,{ref:A,..._}),()=>void B.itemMap.delete(A))),o.jsx(v,{[g]:"",ref:I,children:E})});b.displayName=p;function S(N){const k=l(e+"CollectionConsumer",N);return ke.useCallback(()=>{const E=k.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((B,M)=>_.indexOf(B.ref.current)-_.indexOf(M.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:f,ItemSlot:b},S,n]}var _D=y.createContext(void 0);function ki(e){const t=y.useContext(_D);return e||t||"ltr"}function ar(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>t.current?.(...r),[])}function CD(e,t=globalThis?.document){const r=ar(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ED="DismissableLayer",cm="dismissableLayer.update",TD="dismissableLayer.pointerDownOutside",PD="dismissableLayer.focusOutside",bx,zS=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tu=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...h}=e,f=y.useContext(zS),[p,g]=y.useState(null),v=p?.ownerDocument??globalThis?.document,[,b]=y.useState({}),S=it(t,M=>g(M)),N=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=N.indexOf(k),E=p?N.indexOf(p):-1,_=f.layersWithOutsidePointerEventsDisabled.size>0,A=E>=j,I=ID(M=>{const H=M.target,V=[...f.branches].some(X=>X.contains(H));!A||V||(a?.(M),c?.(M),M.defaultPrevented||u?.())},v),B=DD(M=>{const H=M.target;[...f.branches].some(X=>X.contains(H))||(l?.(M),c?.(M),M.defaultPrevented||u?.())},v);return CD(M=>{E===f.layers.size-1&&(n?.(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},v),y.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(bx=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),wx(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=bx)}},[p,v,r,f]),y.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),wx())},[p,f]),y.useEffect(()=>{const M=()=>b({});return document.addEventListener(cm,M),()=>document.removeEventListener(cm,M)},[]),o.jsx(Xe.div,{...h,ref:S,style:{pointerEvents:_?A?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,I.onPointerDownCapture)})});Tu.displayName=ED;var AD="DismissableLayerBranch",RD=y.forwardRef((e,t)=>{const r=y.useContext(zS),n=y.useRef(null),a=it(t,n);return y.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),o.jsx(Xe.div,{...e,ref:a})});RD.displayName=AD;function ID(e,t=globalThis?.document){const r=ar(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let h=function(){VS(TD,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function DD(e,t=globalThis?.document){const r=ar(e),n=y.useRef(!1);return y.useEffect(()=>{const a=l=>{l.target&&!n.current&&VS(PD,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wx(){const e=new CustomEvent(cm);document.dispatchEvent(e)}function VS(e,t,r,{discrete:n}){const a=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?RS(a,l):a.dispatchEvent(l)}var df=0;function jp(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sx()),document.body.insertAdjacentElement("beforeend",e[1]??Sx()),df++,()=>{df===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),df--}},[])}function Sx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hf="focusScope.autoFocusOnMount",ff="focusScope.autoFocusOnUnmount",kx={bubbles:!1,cancelable:!0},OD="FocusScope",Pu=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=e,[u,h]=y.useState(null),f=ar(a),p=ar(l),g=y.useRef(null),v=it(t,N=>h(N)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let N=function(_){if(b.paused||!u)return;const A=_.target;u.contains(A)?g.current=A:js(g.current,{select:!0})},k=function(_){if(b.paused||!u)return;const A=_.relatedTarget;A!==null&&(u.contains(A)||js(g.current,{select:!0}))},j=function(_){if(document.activeElement===document.body)for(const I of _)I.removedNodes.length>0&&js(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",k);const E=new MutationObserver(j);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",k),E.disconnect()}}},[n,u,b.paused]),y.useEffect(()=>{if(u){jx.add(b);const N=document.activeElement;if(!u.contains(N)){const j=new CustomEvent(hf,kx);u.addEventListener(hf,f),u.dispatchEvent(j),j.defaultPrevented||(MD($D(qS(u)),{select:!0}),document.activeElement===N&&js(u))}return()=>{u.removeEventListener(hf,f),setTimeout(()=>{const j=new CustomEvent(ff,kx);u.addEventListener(ff,p),u.dispatchEvent(j),j.defaultPrevented||js(N??document.body,{select:!0}),u.removeEventListener(ff,p),jx.remove(b)},0)}}},[u,f,p,b]);const S=y.useCallback(N=>{if(!r&&!n||b.paused)return;const k=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,j=document.activeElement;if(k&&j){const E=N.currentTarget,[_,A]=LD(E);_&&A?!N.shiftKey&&j===A?(N.preventDefault(),r&&js(_,{select:!0})):N.shiftKey&&j===_&&(N.preventDefault(),r&&js(A,{select:!0})):j===E&&N.preventDefault()}},[r,n,b.paused]);return o.jsx(Xe.div,{tabIndex:-1,...c,ref:v,onKeyDown:S})});Pu.displayName=OD;function MD(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(js(n,{select:t}),document.activeElement!==r)return}function LD(e){const t=qS(e),r=Nx(t,e),n=Nx(t.reverse(),e);return[r,n]}function qS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Nx(e,t){for(const r of e)if(!BD(r,{upTo:t}))return r}function BD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FD(e){return e instanceof HTMLInputElement&&"select"in e}function js(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FD(e)&&t&&e.select()}}var jx=UD();function UD(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=_x(e,t),e.unshift(t)},remove(t){e=_x(e,t),e[0]?.resume()}}}function _x(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function $D(e){return e.filter(t=>t.tagName!=="A")}var zD=Lm[" useId ".trim().toString()]||(()=>{}),VD=0;function Xn(e){const[t,r]=y.useState(zD());return Qt(()=>{r(n=>n??String(VD++))},[e]),e||(t?`radix-${t}`:"")}const qD=["top","right","bottom","left"],Os=Math.min,Fr=Math.max,iu=Math.round,kc=Math.floor,Rn=e=>({x:e,y:e}),HD={left:"right",right:"left",bottom:"top",top:"bottom"},WD={start:"end",end:"start"};function um(e,t,r){return Fr(e,Os(t,r))}function Zn(e,t){return typeof e=="function"?e(t):e}function es(e){return e.split("-")[0]}function Ni(e){return e.split("-")[1]}function _p(e){return e==="x"?"y":"x"}function Cp(e){return e==="y"?"height":"width"}const KD=new Set(["top","bottom"]);function Tn(e){return KD.has(es(e))?"y":"x"}function Ep(e){return _p(Tn(e))}function GD(e,t,r){r===void 0&&(r=!1);const n=Ni(e),a=Ep(e),l=Cp(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=au(c)),[c,au(c)]}function YD(e){const t=au(e);return[dm(e),t,dm(t)]}function dm(e){return e.replace(/start|end/g,t=>WD[t])}const Cx=["left","right"],Ex=["right","left"],XD=["top","bottom"],JD=["bottom","top"];function QD(e,t,r){switch(e){case"top":case"bottom":return r?t?Ex:Cx:t?Cx:Ex;case"left":case"right":return t?XD:JD;default:return[]}}function ZD(e,t,r,n){const a=Ni(e);let l=QD(es(e),r==="start",n);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(dm)))),l}function au(e){return e.replace(/left|right|bottom|top/g,t=>HD[t])}function eO(e){return{top:0,right:0,bottom:0,left:0,...e}}function HS(e){return typeof e!="number"?eO(e):{top:e,right:e,bottom:e,left:e}}function lu(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Tx(e,t,r){let{reference:n,floating:a}=e;const l=Tn(t),c=Ep(t),u=Cp(c),h=es(t),f=l==="y",p=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,v=n[u]/2-a[u]/2;let b;switch(h){case"top":b={x:p,y:n.y-a.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-a.width,y:g};break;default:b={x:n.x,y:n.y}}switch(Ni(t)){case"start":b[c]-=v*(r&&f?-1:1);break;case"end":b[c]+=v*(r&&f?-1:1);break}return b}async function tO(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:l,rects:c,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:b=0}=Zn(t,e),S=HS(b),k=u[v?g==="floating"?"reference":"floating":g],j=lu(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(k)))==null||r?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:h})),E=g==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),A=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},I=lu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:_,strategy:h}):E);return{top:(j.top-I.top+S.top)/A.y,bottom:(I.bottom-j.bottom+S.bottom)/A.y,left:(j.left-I.left+S.left)/A.x,right:(I.right-j.right+S.right)/A.x}}const rO=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=Tx(f,n,h),v=n,b={},S=0;for(let k=0;k<u.length;k++){var N;const{name:j,fn:E}=u[k],{x:_,y:A,data:I,reset:B}=await E({x:p,y:g,initialPlacement:n,placement:v,strategy:a,middlewareData:b,rects:f,platform:{...c,detectOverflow:(N=c.detectOverflow)!=null?N:tO},elements:{reference:e,floating:t}});p=_??p,g=A??g,b={...b,[j]:{...b[j],...I}},B&&S<=50&&(S++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(f=B.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):B.rects),{x:p,y:g}=Tx(f,v,h)),k=-1)}return{x:p,y:g,placement:v,strategy:a,middlewareData:b}},nO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:l,platform:c,elements:u,middlewareData:h}=t,{element:f,padding:p=0}=Zn(e,t)||{};if(f==null)return{};const g=HS(p),v={x:r,y:n},b=Ep(a),S=Cp(b),N=await c.getDimensions(f),k=b==="y",j=k?"top":"left",E=k?"bottom":"right",_=k?"clientHeight":"clientWidth",A=l.reference[S]+l.reference[b]-v[b]-l.floating[S],I=v[b]-l.reference[b],B=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let M=B?B[_]:0;(!M||!await(c.isElement==null?void 0:c.isElement(B)))&&(M=u.floating[_]||l.floating[S]);const H=A/2-I/2,V=M/2-N[S]/2-1,X=Os(g[j],V),Z=Os(g[E],V),Q=X,ue=M-N[S]-Z,fe=M/2-N[S]/2+H,be=um(Q,fe,ue),ie=!h.arrow&&Ni(a)!=null&&fe!==be&&l.reference[S]/2-(fe<Q?X:Z)-N[S]/2<0,le=ie?fe<Q?fe-Q:fe-ue:0;return{[b]:v[b]+le,data:{[b]:be,centerOffset:fe-be-le,...ie&&{alignmentOffset:le}},reset:ie}}}),sO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:h,elements:f}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:N=!0,...k}=Zn(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const j=es(a),E=Tn(u),_=es(u)===u,A=await(h.isRTL==null?void 0:h.isRTL(f.floating)),I=v||(_||!N?[au(u)]:YD(u)),B=S!=="none";!v&&B&&I.push(...ZD(u,N,S,A));const M=[u,...I],H=await h.detectOverflow(t,k),V=[];let X=((n=l.flip)==null?void 0:n.overflows)||[];if(p&&V.push(H[j]),g){const fe=GD(a,c,A);V.push(H[fe[0]],H[fe[1]])}if(X=[...X,{placement:a,overflows:V}],!V.every(fe=>fe<=0)){var Z,Q;const fe=(((Z=l.flip)==null?void 0:Z.index)||0)+1,be=M[fe];if(be&&(!(g==="alignment"?E!==Tn(be):!1)||X.every(G=>Tn(G.placement)===E?G.overflows[0]>0:!0)))return{data:{index:fe,overflows:X},reset:{placement:be}};let ie=(Q=X.filter(le=>le.overflows[0]<=0).sort((le,G)=>le.overflows[1]-G.overflows[1])[0])==null?void 0:Q.placement;if(!ie)switch(b){case"bestFit":{var ue;const le=(ue=X.filter(G=>{if(B){const U=Tn(G.placement);return U===E||U==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(U=>U>0).reduce((U,R)=>U+R,0)]).sort((G,U)=>G[1]-U[1])[0])==null?void 0:ue[0];le&&(ie=le);break}case"initialPlacement":ie=u;break}if(a!==ie)return{reset:{placement:ie}}}return{}}}};function Px(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ax(e){return qD.some(t=>e[t]>=0)}const oO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:a="referenceHidden",...l}=Zn(e,t);switch(a){case"referenceHidden":{const c=await n.detectOverflow(t,{...l,elementContext:"reference"}),u=Px(c,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Ax(u)}}}case"escaped":{const c=await n.detectOverflow(t,{...l,altBoundary:!0}),u=Px(c,r.floating);return{data:{escapedOffsets:u,escaped:Ax(u)}}}default:return{}}}}},WS=new Set(["left","top"]);async function iO(e,t){const{placement:r,platform:n,elements:a}=e,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=es(r),u=Ni(r),h=Tn(r)==="y",f=WS.has(c)?-1:1,p=l&&h?-1:1,g=Zn(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),h?{x:b*p,y:v*f}:{x:v*f,y:b*p}}const aO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:l,placement:c,middlewareData:u}=t,h=await iO(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:c}}}}},lO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a,platform:l}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:j=>{let{x:E,y:_}=j;return{x:E,y:_}}},...f}=Zn(e,t),p={x:r,y:n},g=await l.detectOverflow(t,f),v=Tn(es(a)),b=_p(v);let S=p[b],N=p[v];if(c){const j=b==="y"?"top":"left",E=b==="y"?"bottom":"right",_=S+g[j],A=S-g[E];S=um(_,S,A)}if(u){const j=v==="y"?"top":"left",E=v==="y"?"bottom":"right",_=N+g[j],A=N-g[E];N=um(_,N,A)}const k=h.fn({...t,[b]:S,[v]:N});return{...k,data:{x:k.x-r,y:k.y-n,enabled:{[b]:c,[v]:u}}}}}},cO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=Zn(e,t),p={x:r,y:n},g=Tn(a),v=_p(g);let b=p[v],S=p[g];const N=Zn(u,t),k=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(h){const _=v==="y"?"height":"width",A=l.reference[v]-l.floating[_]+k.mainAxis,I=l.reference[v]+l.reference[_]-k.mainAxis;b<A?b=A:b>I&&(b=I)}if(f){var j,E;const _=v==="y"?"width":"height",A=WS.has(es(a)),I=l.reference[g]-l.floating[_]+(A&&((j=c.offset)==null?void 0:j[g])||0)+(A?0:k.crossAxis),B=l.reference[g]+l.reference[_]+(A?0:((E=c.offset)==null?void 0:E[g])||0)-(A?k.crossAxis:0);S<I?S=I:S>B&&(S=B)}return{[v]:b,[g]:S}}}},uO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:l,platform:c,elements:u}=t,{apply:h=()=>{},...f}=Zn(e,t),p=await c.detectOverflow(t,f),g=es(a),v=Ni(a),b=Tn(a)==="y",{width:S,height:N}=l.floating;let k,j;g==="top"||g==="bottom"?(k=g,j=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(j=g,k=v==="end"?"top":"bottom");const E=N-p.top-p.bottom,_=S-p.left-p.right,A=Os(N-p[k],E),I=Os(S-p[j],_),B=!t.middlewareData.shift;let M=A,H=I;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(H=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=E),B&&!v){const X=Fr(p.left,0),Z=Fr(p.right,0),Q=Fr(p.top,0),ue=Fr(p.bottom,0);b?H=S-2*(X!==0||Z!==0?X+Z:Fr(p.left,p.right)):M=N-2*(Q!==0||ue!==0?Q+ue:Fr(p.top,p.bottom))}await h({...t,availableWidth:H,availableHeight:M});const V=await c.getDimensions(u.floating);return S!==V.width||N!==V.height?{reset:{rects:!0}}:{}}}};function Au(){return typeof window<"u"}function ji(e){return KS(e)?(e.nodeName||"").toLowerCase():"#document"}function $r(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mn(e){var t;return(t=(KS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function KS(e){return Au()?e instanceof Node||e instanceof $r(e).Node:!1}function yn(e){return Au()?e instanceof Element||e instanceof $r(e).Element:!1}function On(e){return Au()?e instanceof HTMLElement||e instanceof $r(e).HTMLElement:!1}function Rx(e){return!Au()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $r(e).ShadowRoot}const dO=new Set(["inline","contents"]);function il(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!dO.has(a)}const hO=new Set(["table","td","th"]);function fO(e){return hO.has(ji(e))}const mO=[":popover-open",":modal"];function Ru(e){return mO.some(t=>{try{return e.matches(t)}catch{return!1}})}const pO=["transform","translate","scale","rotate","perspective"],gO=["transform","translate","scale","rotate","perspective","filter"],yO=["paint","layout","strict","content"];function Tp(e){const t=Pp(),r=yn(e)?vn(e):e;return pO.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||gO.some(n=>(r.willChange||"").includes(n))||yO.some(n=>(r.contain||"").includes(n))}function vO(e){let t=Ms(e);for(;On(t)&&!gi(t);){if(Tp(t))return t;if(Ru(t))return null;t=Ms(t)}return null}function Pp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xO=new Set(["html","body","#document"]);function gi(e){return xO.has(ji(e))}function vn(e){return $r(e).getComputedStyle(e)}function Iu(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ms(e){if(ji(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rx(e)&&e.host||Mn(e);return Rx(t)?t.host:t}function GS(e){const t=Ms(e);return gi(t)?e.ownerDocument?e.ownerDocument.body:e.body:On(t)&&il(t)?t:GS(t)}function Da(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=GS(e),l=a===((n=e.ownerDocument)==null?void 0:n.body),c=$r(a);if(l){const u=hm(c);return t.concat(c,c.visualViewport||[],il(a)?a:[],u&&r?Da(u):[])}return t.concat(a,Da(a,[],r))}function hm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function YS(e){const t=vn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=On(e),l=a?e.offsetWidth:r,c=a?e.offsetHeight:n,u=iu(r)!==l||iu(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function Ap(e){return yn(e)?e:e.contextElement}function hi(e){const t=Ap(e);if(!On(t))return Rn(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:l}=YS(t);let c=(l?iu(r.width):r.width)/n,u=(l?iu(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const bO=Rn(0);function XS(e){const t=$r(e);return!Pp()||!t.visualViewport?bO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wO(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==$r(e)?!1:t}function fo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),l=Ap(e);let c=Rn(1);t&&(n?yn(n)&&(c=hi(n)):c=hi(e));const u=wO(l,r,n)?XS(l):Rn(0);let h=(a.left+u.x)/c.x,f=(a.top+u.y)/c.y,p=a.width/c.x,g=a.height/c.y;if(l){const v=$r(l),b=n&&yn(n)?$r(n):n;let S=v,N=hm(S);for(;N&&n&&b!==S;){const k=hi(N),j=N.getBoundingClientRect(),E=vn(N),_=j.left+(N.clientLeft+parseFloat(E.paddingLeft))*k.x,A=j.top+(N.clientTop+parseFloat(E.paddingTop))*k.y;h*=k.x,f*=k.y,p*=k.x,g*=k.y,h+=_,f+=A,S=$r(N),N=hm(S)}}return lu({width:p,height:g,x:h,y:f})}function Du(e,t){const r=Iu(e).scrollLeft;return t?t.left+r:fo(Mn(e)).left+r}function JS(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Du(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function SO(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const l=a==="fixed",c=Mn(n),u=t?Ru(t.floating):!1;if(n===c||u&&l)return r;let h={scrollLeft:0,scrollTop:0},f=Rn(1);const p=Rn(0),g=On(n);if((g||!g&&!l)&&((ji(n)!=="body"||il(c))&&(h=Iu(n)),On(n))){const b=fo(n);f=hi(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const v=c&&!g&&!l?JS(c,h):Rn(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-h.scrollLeft*f.x+p.x+v.x,y:r.y*f.y-h.scrollTop*f.y+p.y+v.y}}function kO(e){return Array.from(e.getClientRects())}function NO(e){const t=Mn(e),r=Iu(e),n=e.ownerDocument.body,a=Fr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Fr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Du(e);const u=-r.scrollTop;return vn(n).direction==="rtl"&&(c+=Fr(t.clientWidth,n.clientWidth)-a),{width:a,height:l,x:c,y:u}}const Ix=25;function jO(e,t){const r=$r(e),n=Mn(e),a=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,h=0;if(a){l=a.width,c=a.height;const p=Pp();(!p||p&&t==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}const f=Du(n);if(f<=0){const p=n.ownerDocument,g=p.body,v=getComputedStyle(g),b=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(n.clientWidth-g.clientWidth-b);S<=Ix&&(l-=S)}else f<=Ix&&(l+=f);return{width:l,height:c,x:u,y:h}}const _O=new Set(["absolute","fixed"]);function CO(e,t){const r=fo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,l=On(e)?hi(e):Rn(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,h=a*l.x,f=n*l.y;return{width:c,height:u,x:h,y:f}}function Dx(e,t,r){let n;if(t==="viewport")n=jO(e,r);else if(t==="document")n=NO(Mn(e));else if(yn(t))n=CO(t,r);else{const a=XS(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return lu(n)}function QS(e,t){const r=Ms(e);return r===t||!yn(r)||gi(r)?!1:vn(r).position==="fixed"||QS(r,t)}function EO(e,t){const r=t.get(e);if(r)return r;let n=Da(e,[],!1).filter(u=>yn(u)&&ji(u)!=="body"),a=null;const l=vn(e).position==="fixed";let c=l?Ms(e):e;for(;yn(c)&&!gi(c);){const u=vn(c),h=Tp(c);!h&&u.position==="fixed"&&(a=null),(l?!h&&!a:!h&&u.position==="static"&&!!a&&_O.has(a.position)||il(c)&&!h&&QS(e,c))?n=n.filter(p=>p!==c):a=u,c=Ms(c)}return t.set(e,n),n}function TO(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?Ru(t)?[]:EO(t,this._c):[].concat(r),n],u=c[0],h=c.reduce((f,p)=>{const g=Dx(t,p,a);return f.top=Fr(g.top,f.top),f.right=Os(g.right,f.right),f.bottom=Os(g.bottom,f.bottom),f.left=Fr(g.left,f.left),f},Dx(t,u,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function PO(e){const{width:t,height:r}=YS(e);return{width:t,height:r}}function AO(e,t,r){const n=On(t),a=Mn(t),l=r==="fixed",c=fo(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const h=Rn(0);function f(){h.x=Du(a)}if(n||!n&&!l)if((ji(t)!=="body"||il(a))&&(u=Iu(t)),n){const b=fo(t,!0,l,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else a&&f();l&&!n&&a&&f();const p=a&&!n&&!l?JS(a,u):Rn(0),g=c.left+u.scrollLeft-h.x-p.x,v=c.top+u.scrollTop-h.y-p.y;return{x:g,y:v,width:c.width,height:c.height}}function mf(e){return vn(e).position==="static"}function Ox(e,t){if(!On(e)||vn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Mn(e)===r&&(r=r.ownerDocument.body),r}function ZS(e,t){const r=$r(e);if(Ru(e))return r;if(!On(e)){let a=Ms(e);for(;a&&!gi(a);){if(yn(a)&&!mf(a))return a;a=Ms(a)}return r}let n=Ox(e,t);for(;n&&fO(n)&&mf(n);)n=Ox(n,t);return n&&gi(n)&&mf(n)&&!Tp(n)?r:n||vO(e)||r}const RO=async function(e){const t=this.getOffsetParent||ZS,r=this.getDimensions,n=await r(e.floating);return{reference:AO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function IO(e){return vn(e).direction==="rtl"}const DO={convertOffsetParentRelativeRectToViewportRelativeRect:SO,getDocumentElement:Mn,getClippingRect:TO,getOffsetParent:ZS,getElementRects:RO,getClientRects:kO,getDimensions:PO,getScale:hi,isElement:yn,isRTL:IO};function ek(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OO(e,t){let r=null,n;const a=Mn(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const f=e.getBoundingClientRect(),{left:p,top:g,width:v,height:b}=f;if(u||t(),!v||!b)return;const S=kc(g),N=kc(a.clientWidth-(p+v)),k=kc(a.clientHeight-(g+b)),j=kc(p),_={rootMargin:-S+"px "+-N+"px "+-k+"px "+-j+"px",threshold:Fr(0,Os(1,h))||1};let A=!0;function I(B){const M=B[0].intersectionRatio;if(M!==h){if(!A)return c();M?c(!1,M):n=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!ek(f,e.getBoundingClientRect())&&c(),A=!1}try{r=new IntersectionObserver(I,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(I,_)}r.observe(e)}return c(!0),l}function MO(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=Ap(e),p=a||l?[...f?Da(f):[],...Da(t)]:[];p.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),l&&j.addEventListener("resize",r)});const g=f&&u?OO(f,r):null;let v=-1,b=null;c&&(b=new ResizeObserver(j=>{let[E]=j;E&&E.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(t)})),r()}),f&&!h&&b.observe(f),b.observe(t));let S,N=h?fo(e):null;h&&k();function k(){const j=fo(e);N&&!ek(N,j)&&r(),N=j,S=requestAnimationFrame(k)}return r(),()=>{var j;p.forEach(E=>{a&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),g?.(),(j=b)==null||j.disconnect(),b=null,h&&cancelAnimationFrame(S)}}const LO=aO,BO=lO,FO=sO,UO=uO,$O=oO,Mx=nO,zO=cO,VO=(e,t,r)=>{const n=new Map,a={platform:DO,...r},l={...a.platform,_c:n};return rO(e,t,{...a,platform:l})};var qO=typeof document<"u",HO=function(){},Vc=qO?y.useLayoutEffect:HO;function cu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!cu(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&e.$$typeof)&&!cu(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function tk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lx(e,t){const r=tk(e);return Math.round(t*r)/r}function pf(e){const t=y.useRef(e);return Vc(()=>{t.current=e}),t}function WO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[p,g]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=y.useState(n);cu(v,n)||b(n);const[S,N]=y.useState(null),[k,j]=y.useState(null),E=y.useCallback(G=>{G!==B.current&&(B.current=G,N(G))},[]),_=y.useCallback(G=>{G!==M.current&&(M.current=G,j(G))},[]),A=l||S,I=c||k,B=y.useRef(null),M=y.useRef(null),H=y.useRef(p),V=h!=null,X=pf(h),Z=pf(a),Q=pf(f),ue=y.useCallback(()=>{if(!B.current||!M.current)return;const G={placement:t,strategy:r,middleware:v};Z.current&&(G.platform=Z.current),VO(B.current,M.current,G).then(U=>{const R={...U,isPositioned:Q.current!==!1};fe.current&&!cu(H.current,R)&&(H.current=R,nl.flushSync(()=>{g(R)}))})},[v,t,r,Z,Q]);Vc(()=>{f===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[f]);const fe=y.useRef(!1);Vc(()=>(fe.current=!0,()=>{fe.current=!1}),[]),Vc(()=>{if(A&&(B.current=A),I&&(M.current=I),A&&I){if(X.current)return X.current(A,I,ue);ue()}},[A,I,ue,X,V]);const be=y.useMemo(()=>({reference:B,floating:M,setReference:E,setFloating:_}),[E,_]),ie=y.useMemo(()=>({reference:A,floating:I}),[A,I]),le=y.useMemo(()=>{const G={position:r,left:0,top:0};if(!ie.floating)return G;const U=Lx(ie.floating,p.x),R=Lx(ie.floating,p.y);return u?{...G,transform:"translate("+U+"px, "+R+"px)",...tk(ie.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:R}},[r,u,ie.floating,p.x,p.y]);return y.useMemo(()=>({...p,update:ue,refs:be,elements:ie,floatingStyles:le}),[p,ue,be,ie,le])}const KO=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Mx({element:n.current,padding:a}).fn(r):{}:n?Mx({element:n,padding:a}).fn(r):{}}}},GO=(e,t)=>({...LO(e),options:[e,t]}),YO=(e,t)=>({...BO(e),options:[e,t]}),XO=(e,t)=>({...zO(e),options:[e,t]}),JO=(e,t)=>({...FO(e),options:[e,t]}),QO=(e,t)=>({...UO(e),options:[e,t]}),ZO=(e,t)=>({...$O(e),options:[e,t]}),eM=(e,t)=>({...KO(e),options:[e,t]});var tM="Arrow",rk=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...l}=e;return o.jsx(Xe.svg,{...l,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});rk.displayName=tM;var rM=rk,Rp="Popper",[nk,Ou]=Vr(Rp),[nM,sk]=nk(Rp),ok=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return o.jsx(nM,{scope:t,anchor:n,onAnchorChange:a,children:r})};ok.displayName=Rp;var ik="PopperAnchor",ak=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,l=sk(ik,r),c=y.useRef(null),u=it(t,c),h=y.useRef(null);return y.useEffect(()=>{const f=h.current;h.current=n?.current||c.current,f!==h.current&&l.onAnchorChange(h.current)}),n?null:o.jsx(Xe.div,{...a,ref:u})});ak.displayName=ik;var Ip="PopperContent",[sM,oM]=nk(Ip),lk=y.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:S,...N}=e,k=sk(Ip,r),[j,E]=y.useState(null),_=it(t,$=>E($)),[A,I]=y.useState(null),B=ol(A),M=B?.width??0,H=B?.height??0,V=n+(l!=="center"?"-"+l:""),X=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Z=Array.isArray(f)?f:[f],Q=Z.length>0,ue={padding:X,boundary:Z.filter(aM),altBoundary:Q},{refs:fe,floatingStyles:be,placement:ie,isPositioned:le,middlewareData:G}=WO({strategy:"fixed",placement:V,whileElementsMounted:(...$)=>MO(...$,{animationFrame:b==="always"}),elements:{reference:k.anchor},middleware:[GO({mainAxis:a+H,alignmentAxis:c}),h&&YO({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?XO():void 0,...ue}),h&&JO({...ue}),QO({...ue,apply:({elements:$,rects:re,availableWidth:Se,availableHeight:de})=>{const{width:W,height:J}=re.reference,Ce=$.floating.style;Ce.setProperty("--radix-popper-available-width",`${Se}px`),Ce.setProperty("--radix-popper-available-height",`${de}px`),Ce.setProperty("--radix-popper-anchor-width",`${W}px`),Ce.setProperty("--radix-popper-anchor-height",`${J}px`)}}),A&&eM({element:A,padding:u}),lM({arrowWidth:M,arrowHeight:H}),v&&ZO({strategy:"referenceHidden",...ue})]}),[U,R]=dk(ie),T=ar(S);Qt(()=>{le&&T?.()},[le,T]);const P=G.arrow?.x,L=G.arrow?.y,D=G.arrow?.centerOffset!==0,[q,F]=y.useState();return Qt(()=>{j&&F(window.getComputedStyle(j).zIndex)},[j]),o.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:le?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(sM,{scope:r,placedSide:U,onArrowChange:I,arrowX:P,arrowY:L,shouldHideArrow:D,children:o.jsx(Xe.div,{"data-side":U,"data-align":R,...N,ref:_,style:{...N.style,animation:le?void 0:"none"}})})})});lk.displayName=Ip;var ck="PopperArrow",iM={top:"bottom",right:"left",bottom:"top",left:"right"},uk=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,l=oM(ck,n),c=iM[l.placedSide];return o.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:o.jsx(rM,{...a,ref:r,style:{...a.style,display:"block"}})})});uk.displayName=ck;function aM(e){return e!==null}var lM=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,c=a.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,p]=dk(r),g={start:"0%",center:"50%",end:"100%"}[p],v=(a.arrow?.x??0)+u/2,b=(a.arrow?.y??0)+h/2;let S="",N="";return f==="bottom"?(S=c?g:`${v}px`,N=`${-h}px`):f==="top"?(S=c?g:`${v}px`,N=`${n.floating.height+h}px`):f==="right"?(S=`${-h}px`,N=c?g:`${b}px`):f==="left"&&(S=`${n.floating.width+h}px`,N=c?g:`${b}px`),{data:{x:S,y:N}}}});function dk(e){const[t,r="center"]=e.split("-");return[t,r]}var hk=ok,fk=ak,mk=lk,pk=uk,cM="Portal",Mu=y.forwardRef((e,t)=>{const{container:r,...n}=e,[a,l]=y.useState(!1);Qt(()=>l(!0),[]);const c=r||a&&globalThis?.document?.body;return c?PS.createPortal(o.jsx(Xe.div,{...n,ref:t}),c):null});Mu.displayName=cM;function uM(e){const t=dM(e),r=y.forwardRef((n,a)=>{const{children:l,...c}=n,u=y.Children.toArray(l),h=u.find(fM);if(h){const f=h.props.children,p=u.map(g=>g===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return o.jsx(t,{...c,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,p):null})}return o.jsx(t,{...c,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}function dM(e){const t=y.forwardRef((r,n)=>{const{children:a,...l}=r;if(y.isValidElement(a)){const c=pM(a),u=mM(l,a.props);return a.type!==y.Fragment&&(u.ref=n?ts(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hM=Symbol("radix.slottable");function fM(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hM}function mM(e,t){const r={...t};for(const n in t){const a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...u)=>{const h=l(...u);return a(...u),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function pM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gM="VisuallyHidden",yM=y.forwardRef((e,t)=>o.jsx(Xe.span,{...e,ref:t,style:{...gk,...e.style}}));yM.displayName=gM;var vM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vo=new WeakMap,Nc=new WeakMap,jc={},gf=0,yk=function(e){return e&&(e.host||yk(e.parentNode))},xM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=yk(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bM=function(e,t,r,n){var a=xM(t,Array.isArray(e)?e:[e]);jc[r]||(jc[r]=new WeakMap);var l=jc[r],c=[],u=new Set,h=new Set(a),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};a.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var b=v.getAttribute(n),S=b!==null&&b!=="false",N=(Vo.get(v)||0)+1,k=(l.get(v)||0)+1;Vo.set(v,N),l.set(v,k),c.push(v),N===1&&S&&Nc.set(v,!0),k===1&&v.setAttribute(r,"true"),S||v.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return p(t),u.clear(),gf++,function(){c.forEach(function(g){var v=Vo.get(g)-1,b=l.get(g)-1;Vo.set(g,v),l.set(g,b),v||(Nc.has(g)||g.removeAttribute(n),Nc.delete(g)),b||g.removeAttribute(r)}),gf--,gf||(Vo=new WeakMap,Vo=new WeakMap,Nc=new WeakMap,jc={})}},Dp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=vM(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),bM(n,a,r,"aria-hidden")):function(){return null}},En=function(){return En=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},En.apply(this,arguments)};function _i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wM(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{f(n.next(p))}catch(g){c(g)}}function h(p){try{f(n.throw(p))}catch(g){c(g)}}function f(p){p.done?l(p.value):a(p.value).then(u,h)}f((n=n.apply(e,t||[])).next())})}function SM(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var qc="right-scroll-bar-position",Hc="width-before-scroll-bar",kM="with-scroll-bars-hidden",NM="--removed-body-scroll-bar-size";function yf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jM(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var _M=typeof window<"u"?y.useLayoutEffect:y.useEffect,Bx=new WeakMap;function CM(e,t){var r=jM(null,function(n){return e.forEach(function(a){return yf(a,n)})});return _M(function(){var n=Bx.get(r);if(n){var a=new Set(n),l=new Set(e),c=r.current;a.forEach(function(u){l.has(u)||yf(u,null)}),l.forEach(function(u){a.has(u)||yf(u,c)})}Bx.set(r,e)},[e]),r}function EM(e){return e}function TM(e,t){t===void 0&&(t=EM);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(l),c=r}var h=function(){var p=c;c=[],p.forEach(l)},f=function(){return Promise.resolve().then(h)};f(),r={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),r}}}};return a}function PM(e){e===void 0&&(e={});var t=TM(null);return t.options=En({async:!0,ssr:!1},e),t}var vk=function(e){var t=e.sideCar,r=_i(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,En({},r))};vk.isSideCarExport=!0;function AM(e,t){return e.useMedium(t),vk}var xk=PM(),vf=function(){},Lu=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:vf,onWheelCapture:vf,onTouchMoveCapture:vf}),a=n[0],l=n[1],c=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,v=e.sideCar,b=e.noRelative,S=e.noIsolation,N=e.inert,k=e.allowPinchZoom,j=e.as,E=j===void 0?"div":j,_=e.gapMode,A=_i(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=v,B=CM([r,t]),M=En(En({},A),a);return y.createElement(y.Fragment,null,p&&y.createElement(I,{sideCar:xk,removeScrollBar:f,shards:g,noRelative:b,noIsolation:S,inert:N,setCallbacks:l,allowPinchZoom:!!k,lockRef:r,gapMode:_}),c?y.cloneElement(y.Children.only(u),En(En({},M),{ref:B})):y.createElement(E,En({},M,{className:h,ref:B}),u))});Lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lu.classNames={fullWidth:Hc,zeroRight:qc};var RM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=RM();return t&&e.setAttribute("nonce",t),e}function DM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IM())&&(DM(t,r),OM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LM=function(){var e=MM();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},bk=function(){var e=LM(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},BM={left:0,top:0,right:0,gap:0},xf=function(e){return parseInt(e||"",10)||0},FM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[xf(r),xf(n),xf(a)]},UM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return BM;var t=FM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},$M=bk(),fi="data-scroll-locked",zM=function(e,t,r,n){var a=e.left,l=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(fi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qc,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Hc,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(qc," .").concat(qc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fi,`] {
    `).concat(NM,": ").concat(u,`px;
  }
`)},Fx=function(){var e=parseInt(document.body.getAttribute(fi)||"0",10);return isFinite(e)?e:0},VM=function(){y.useEffect(function(){return document.body.setAttribute(fi,(Fx()+1).toString()),function(){var e=Fx()-1;e<=0?document.body.removeAttribute(fi):document.body.setAttribute(fi,e.toString())}},[])},qM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;VM();var l=y.useMemo(function(){return UM(a)},[a]);return y.createElement($M,{styles:zM(l,!t,a,r?"":"!important")})},fm=!1;if(typeof window<"u")try{var _c=Object.defineProperty({},"passive",{get:function(){return fm=!0,!0}});window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{fm=!1}var qo=fm?{passive:!1}:!1,HM=function(e){return e.tagName==="TEXTAREA"},wk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!HM(e)&&r[t]==="visible")},WM=function(e){return wk(e,"overflowY")},KM=function(e){return wk(e,"overflowX")},Ux=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Sk(e,n);if(a){var l=kk(e,n),c=l[1],u=l[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Sk=function(e,t){return e==="v"?WM(t):KM(t)},kk=function(e,t){return e==="v"?GM(t):YM(t)},XM=function(e,t){return e==="h"&&t==="rtl"?-1:1},JM=function(e,t,r,n,a){var l=XM(e,window.getComputedStyle(t).direction),c=l*n,u=r.target,h=t.contains(u),f=!1,p=c>0,g=0,v=0;do{if(!u)break;var b=kk(e,u),S=b[0],N=b[1],k=b[2],j=N-k-l*S;(S||j)&&Sk(e,u)&&(g+=j,v+=S);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(f=!0),f},Cc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$x=function(e){return[e.deltaX,e.deltaY]},zx=function(e){return e&&"current"in e?e.current:e},QM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},e5=0,Ho=[];function t5(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(e5++)[0],l=y.useState(bk)[0],c=y.useRef(e);y.useEffect(function(){c.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var N=SM([e.lockRef.current],(e.shards||[]).map(zx),!0).filter(Boolean);return N.forEach(function(k){return k.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),N.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(N,k){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!c.current.allowPinchZoom;var j=Cc(N),E=r.current,_="deltaX"in N?N.deltaX:E[0]-j[0],A="deltaY"in N?N.deltaY:E[1]-j[1],I,B=N.target,M=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in N&&M==="h"&&B.type==="range")return!1;var H=window.getSelection(),V=H&&H.anchorNode,X=V?V===B||V.contains(B):!1;if(X)return!1;var Z=Ux(M,B);if(!Z)return!0;if(Z?I=M:(I=M==="v"?"h":"v",Z=Ux(M,B)),!Z)return!1;if(!n.current&&"changedTouches"in N&&(_||A)&&(n.current=I),!I)return!0;var Q=n.current||I;return JM(Q,k,N,Q==="h"?_:A)},[]),h=y.useCallback(function(N){var k=N;if(!(!Ho.length||Ho[Ho.length-1]!==l)){var j="deltaY"in k?$x(k):Cc(k),E=t.current.filter(function(I){return I.name===k.type&&(I.target===k.target||k.target===I.shadowParent)&&QM(I.delta,j)})[0];if(E&&E.should){k.cancelable&&k.preventDefault();return}if(!E){var _=(c.current.shards||[]).map(zx).filter(Boolean).filter(function(I){return I.contains(k.target)}),A=_.length>0?u(k,_[0]):!c.current.noIsolation;A&&k.cancelable&&k.preventDefault()}}},[]),f=y.useCallback(function(N,k,j,E){var _={name:N,delta:k,target:j,should:E,shadowParent:r5(j)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(A){return A!==_})},1)},[]),p=y.useCallback(function(N){r.current=Cc(N),n.current=void 0},[]),g=y.useCallback(function(N){f(N.type,$x(N),N.target,u(N,e.lockRef.current))},[]),v=y.useCallback(function(N){f(N.type,Cc(N),N.target,u(N,e.lockRef.current))},[]);y.useEffect(function(){return Ho.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,qo),document.addEventListener("touchmove",h,qo),document.addEventListener("touchstart",p,qo),function(){Ho=Ho.filter(function(N){return N!==l}),document.removeEventListener("wheel",h,qo),document.removeEventListener("touchmove",h,qo),document.removeEventListener("touchstart",p,qo)}},[]);var b=e.removeScrollBar,S=e.inert;return y.createElement(y.Fragment,null,S?y.createElement(l,{styles:ZM(a)}):null,b?y.createElement(qM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function r5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const n5=AM(xk,t5);var Bu=y.forwardRef(function(e,t){return y.createElement(Lu,En({},e,{ref:t,sideCar:n5}))});Bu.classNames=Lu.classNames;var s5=[" ","Enter","ArrowUp","ArrowDown"],o5=[" ","Enter"],mo="Select",[Fu,Uu,i5]=Eu(mo),[Ci]=Vr(mo,[i5,Ou]),$u=Ou(),[a5,Bs]=Ci(mo),[l5,c5]=Ci(mo),Nk=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:l,value:c,defaultValue:u,onValueChange:h,dir:f,name:p,autoComplete:g,disabled:v,required:b,form:S}=e,N=$u(t),[k,j]=y.useState(null),[E,_]=y.useState(null),[A,I]=y.useState(!1),B=ki(f),[M,H]=Qn({prop:n,defaultProp:a??!1,onChange:l,caller:mo}),[V,X]=Qn({prop:c,defaultProp:u,onChange:h,caller:mo}),Z=y.useRef(null),Q=k?S||!!k.closest("form"):!0,[ue,fe]=y.useState(new Set),be=Array.from(ue).map(ie=>ie.props.value).join(";");return o.jsx(hk,{...N,children:o.jsxs(a5,{required:b,scope:t,trigger:k,onTriggerChange:j,valueNode:E,onValueNodeChange:_,valueNodeHasChildren:A,onValueNodeHasChildrenChange:I,contentId:Xn(),value:V,onValueChange:X,open:M,onOpenChange:H,dir:B,triggerPointerDownPosRef:Z,disabled:v,children:[o.jsx(Fu.Provider,{scope:t,children:o.jsx(l5,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(ie=>{fe(le=>new Set(le).add(ie))},[]),onNativeOptionRemove:y.useCallback(ie=>{fe(le=>{const G=new Set(le);return G.delete(ie),G})},[]),children:r})}),Q?o.jsxs(Wk,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:g,value:V,onChange:ie=>X(ie.target.value),disabled:v,form:S,children:[V===void 0?o.jsx("option",{value:""}):null,Array.from(ue)]},be):null]})})};Nk.displayName=mo;var jk="SelectTrigger",_k=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,l=$u(r),c=Bs(jk,r),u=c.disabled||n,h=it(t,c.onTriggerChange),f=Uu(r),p=y.useRef("touch"),[g,v,b]=Gk(N=>{const k=f().filter(_=>!_.disabled),j=k.find(_=>_.value===c.value),E=Yk(k,N,j);E!==void 0&&c.onValueChange(E.value)}),S=N=>{u||(c.onOpenChange(!0),b()),N&&(c.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return o.jsx(fk,{asChild:!0,...l,children:o.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Kk(c.value)?"":void 0,...a,ref:h,onClick:Pe(a.onClick,N=>{N.currentTarget.focus(),p.current!=="mouse"&&S(N)}),onPointerDown:Pe(a.onPointerDown,N=>{p.current=N.pointerType;const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(S(N),N.preventDefault())}),onKeyDown:Pe(a.onKeyDown,N=>{const k=g.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&v(N.key),!(k&&N.key===" ")&&s5.includes(N.key)&&(S(),N.preventDefault())})})})});_k.displayName=jk;var Ck="SelectValue",Ek=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:l,placeholder:c="",...u}=e,h=Bs(Ck,r),{onValueNodeHasChildrenChange:f}=h,p=l!==void 0,g=it(t,h.onValueNodeChange);return Qt(()=>{f(p)},[f,p]),o.jsx(Xe.span,{...u,ref:g,style:{pointerEvents:"none"},children:Kk(h.value)?o.jsx(o.Fragment,{children:c}):l})});Ek.displayName=Ck;var u5="SelectIcon",Tk=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(Xe.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Tk.displayName=u5;var d5="SelectPortal",Pk=e=>o.jsx(Mu,{asChild:!0,...e});Pk.displayName=d5;var po="SelectContent",Ak=y.forwardRef((e,t)=>{const r=Bs(po,e.__scopeSelect),[n,a]=y.useState();if(Qt(()=>{a(new DocumentFragment)},[]),!r.open){const l=n;return l?nl.createPortal(o.jsx(Rk,{scope:e.__scopeSelect,children:o.jsx(Fu.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),l):null}return o.jsx(Ik,{...e,ref:t})});Ak.displayName=po;var fn=10,[Rk,Fs]=Ci(po),h5="SelectContentImpl",f5=uM("SelectContent.RemoveScroll"),Ik=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:h,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:b,sticky:S,hideWhenDetached:N,avoidCollisions:k,...j}=e,E=Bs(po,r),[_,A]=y.useState(null),[I,B]=y.useState(null),M=it(t,$=>A($)),[H,V]=y.useState(null),[X,Z]=y.useState(null),Q=Uu(r),[ue,fe]=y.useState(!1),be=y.useRef(!1);y.useEffect(()=>{if(_)return Dp(_)},[_]),jp();const ie=y.useCallback($=>{const[re,...Se]=Q().map(J=>J.ref.current),[de]=Se.slice(-1),W=document.activeElement;for(const J of $)if(J===W||(J?.scrollIntoView({block:"nearest"}),J===re&&I&&(I.scrollTop=0),J===de&&I&&(I.scrollTop=I.scrollHeight),J?.focus(),document.activeElement!==W))return},[Q,I]),le=y.useCallback(()=>ie([H,_]),[ie,H,_]);y.useEffect(()=>{ue&&le()},[ue,le]);const{onOpenChange:G,triggerPointerDownPosRef:U}=E;y.useEffect(()=>{if(_){let $={x:0,y:0};const re=de=>{$={x:Math.abs(Math.round(de.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(de.pageY)-(U.current?.y??0))}},Se=de=>{$.x<=10&&$.y<=10?de.preventDefault():_.contains(de.target)||G(!1),document.removeEventListener("pointermove",re),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",Se,{capture:!0})}}},[_,G,U]),y.useEffect(()=>{const $=()=>G(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[G]);const[R,T]=Gk($=>{const re=Q().filter(W=>!W.disabled),Se=re.find(W=>W.ref.current===document.activeElement),de=Yk(re,$,Se);de&&setTimeout(()=>de.ref.current.focus())}),P=y.useCallback(($,re,Se)=>{const de=!be.current&&!Se;(E.value!==void 0&&E.value===re||de)&&(V($),de&&(be.current=!0))},[E.value]),L=y.useCallback(()=>_?.focus(),[_]),D=y.useCallback(($,re,Se)=>{const de=!be.current&&!Se;(E.value!==void 0&&E.value===re||de)&&Z($)},[E.value]),q=n==="popper"?mm:Dk,F=q===mm?{side:u,sideOffset:h,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:b,sticky:S,hideWhenDetached:N,avoidCollisions:k}:{};return o.jsx(Rk,{scope:r,content:_,viewport:I,onViewportChange:B,itemRefCallback:P,selectedItem:H,onItemLeave:L,itemTextRefCallback:D,focusSelectedItem:le,selectedItemText:X,position:n,isPositioned:ue,searchRef:R,children:o.jsx(Bu,{as:f5,allowPinchZoom:!0,children:o.jsx(Pu,{asChild:!0,trapped:E.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Pe(a,$=>{E.trigger?.focus({preventScroll:!0}),$.preventDefault()}),children:o.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:o.jsx(q,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:$=>$.preventDefault(),...j,...F,onPlaced:()=>fe(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Pe(j.onKeyDown,$=>{const re=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!re&&$.key.length===1&&T($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let de=Q().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes($.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const W=$.target,J=de.indexOf(W);de=de.slice(J+1)}setTimeout(()=>ie(de)),$.preventDefault()}})})})})})})});Ik.displayName=h5;var m5="SelectItemAlignedPosition",Dk=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,l=Bs(po,r),c=Fs(po,r),[u,h]=y.useState(null),[f,p]=y.useState(null),g=it(t,M=>p(M)),v=Uu(r),b=y.useRef(!1),S=y.useRef(!0),{viewport:N,selectedItem:k,selectedItemText:j,focusSelectedItem:E}=c,_=y.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&f&&N&&k&&j){const M=l.trigger.getBoundingClientRect(),H=f.getBoundingClientRect(),V=l.valueNode.getBoundingClientRect(),X=j.getBoundingClientRect();if(l.dir!=="rtl"){const W=X.left-H.left,J=V.left-W,Ce=M.left-J,Oe=M.width+Ce,Re=Math.max(Oe,H.width),ot=window.innerWidth-fn,ft=Ia(J,[fn,Math.max(fn,ot-Re)]);u.style.minWidth=Oe+"px",u.style.left=ft+"px"}else{const W=H.right-X.right,J=window.innerWidth-V.right-W,Ce=window.innerWidth-M.right-J,Oe=M.width+Ce,Re=Math.max(Oe,H.width),ot=window.innerWidth-fn,ft=Ia(J,[fn,Math.max(fn,ot-Re)]);u.style.minWidth=Oe+"px",u.style.right=ft+"px"}const Z=v(),Q=window.innerHeight-fn*2,ue=N.scrollHeight,fe=window.getComputedStyle(f),be=parseInt(fe.borderTopWidth,10),ie=parseInt(fe.paddingTop,10),le=parseInt(fe.borderBottomWidth,10),G=parseInt(fe.paddingBottom,10),U=be+ie+ue+G+le,R=Math.min(k.offsetHeight*5,U),T=window.getComputedStyle(N),P=parseInt(T.paddingTop,10),L=parseInt(T.paddingBottom,10),D=M.top+M.height/2-fn,q=Q-D,F=k.offsetHeight/2,$=k.offsetTop+F,re=be+ie+$,Se=U-re;if(re<=D){const W=Z.length>0&&k===Z[Z.length-1].ref.current;u.style.bottom="0px";const J=f.clientHeight-N.offsetTop-N.offsetHeight,Ce=Math.max(q,F+(W?L:0)+J+le),Oe=re+Ce;u.style.height=Oe+"px"}else{const W=Z.length>0&&k===Z[0].ref.current;u.style.top="0px";const Ce=Math.max(D,be+N.offsetTop+(W?P:0)+F)+Se;u.style.height=Ce+"px",N.scrollTop=re-D+N.offsetTop}u.style.margin=`${fn}px 0`,u.style.minHeight=R+"px",u.style.maxHeight=Q+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[v,l.trigger,l.valueNode,u,f,N,k,j,l.dir,n]);Qt(()=>_(),[_]);const[A,I]=y.useState();Qt(()=>{f&&I(window.getComputedStyle(f).zIndex)},[f]);const B=y.useCallback(M=>{M&&S.current===!0&&(_(),E?.(),S.current=!1)},[_,E]);return o.jsx(g5,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:B,children:o.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:o.jsx(Xe.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Dk.displayName=m5;var p5="SelectPopperPosition",mm=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=fn,...l}=e,c=$u(r);return o.jsx(mk,{...c,...l,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mm.displayName=p5;var[g5,Op]=Ci(po,{}),pm="SelectViewport",Ok=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,l=Fs(pm,r),c=Op(pm,r),u=it(t,l.onViewportChange),h=y.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Fu.Slot,{scope:r,children:o.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pe(a.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v?.current&&g){const b=Math.abs(h.current-p.scrollTop);if(b>0){const S=window.innerHeight-fn*2,N=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),j=Math.max(N,k);if(j<S){const E=j+b,_=Math.min(S,E),A=E-_;g.style.height=_+"px",g.style.bottom==="0px"&&(p.scrollTop=A>0?A:0,g.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});Ok.displayName=pm;var Mk="SelectGroup",[y5,v5]=Ci(Mk),x5=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Xn();return o.jsx(y5,{scope:r,id:a,children:o.jsx(Xe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});x5.displayName=Mk;var Lk="SelectLabel",b5=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=v5(Lk,r);return o.jsx(Xe.div,{id:a.id,...n,ref:t})});b5.displayName=Lk;var uu="SelectItem",[w5,Bk]=Ci(uu),Fk=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:l,...c}=e,u=Bs(uu,r),h=Fs(uu,r),f=u.value===n,[p,g]=y.useState(l??""),[v,b]=y.useState(!1),S=it(t,E=>h.itemRefCallback?.(E,n,a)),N=Xn(),k=y.useRef("touch"),j=()=>{a||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(w5,{scope:r,value:n,disabled:a,textId:N,isSelected:f,onItemTextChange:y.useCallback(E=>{g(_=>_||(E?.textContent??"").trim())},[]),children:o.jsx(Fu.ItemSlot,{scope:r,value:n,disabled:a,textValue:p,children:o.jsx(Xe.div,{role:"option","aria-labelledby":N,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:S,onFocus:Pe(c.onFocus,()=>b(!0)),onBlur:Pe(c.onBlur,()=>b(!1)),onClick:Pe(c.onClick,()=>{k.current!=="mouse"&&j()}),onPointerUp:Pe(c.onPointerUp,()=>{k.current==="mouse"&&j()}),onPointerDown:Pe(c.onPointerDown,E=>{k.current=E.pointerType}),onPointerMove:Pe(c.onPointerMove,E=>{k.current=E.pointerType,a?h.onItemLeave?.():k.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Pe(c.onKeyDown,E=>{h.searchRef?.current!==""&&E.key===" "||(o5.includes(E.key)&&j(),E.key===" "&&E.preventDefault())})})})})});Fk.displayName=uu;var ga="SelectItemText",Uk=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...l}=e,c=Bs(ga,r),u=Fs(ga,r),h=Bk(ga,r),f=c5(ga,r),[p,g]=y.useState(null),v=it(t,j=>g(j),h.onItemTextChange,j=>u.itemTextRefCallback?.(j,h.value,h.disabled)),b=p?.textContent,S=y.useMemo(()=>o.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:N,onNativeOptionRemove:k}=f;return Qt(()=>(N(S),()=>k(S)),[N,k,S]),o.jsxs(o.Fragment,{children:[o.jsx(Xe.span,{id:h.textId,...l,ref:v}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?nl.createPortal(l.children,c.valueNode):null]})});Uk.displayName=ga;var $k="SelectItemIndicator",zk=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Bk($k,r).isSelected?o.jsx(Xe.span,{"aria-hidden":!0,...n,ref:t}):null});zk.displayName=$k;var gm="SelectScrollUpButton",Vk=y.forwardRef((e,t)=>{const r=Fs(gm,e.__scopeSelect),n=Op(gm,e.__scopeSelect),[a,l]=y.useState(!1),c=it(t,n.onScrollButtonChange);return Qt(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=h.scrollTop>0;l(f)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?o.jsx(Hk,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});Vk.displayName=gm;var ym="SelectScrollDownButton",qk=y.forwardRef((e,t)=>{const r=Fs(ym,e.__scopeSelect),n=Op(ym,e.__scopeSelect),[a,l]=y.useState(!1),c=it(t,n.onScrollButtonChange);return Qt(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<f;l(p)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?o.jsx(Hk,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});qk.displayName=ym;var Hk=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,l=Fs("SelectScrollButton",r),c=y.useRef(null),u=Uu(r),h=y.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return y.useEffect(()=>()=>h(),[h]),Qt(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),o.jsx(Xe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Pe(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Pe(a.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Pe(a.onPointerLeave,()=>{h()})})}),S5="SelectSeparator",k5=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Xe.div,{"aria-hidden":!0,...n,ref:t})});k5.displayName=S5;var vm="SelectArrow",N5=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=$u(r),l=Bs(vm,r),c=Fs(vm,r);return l.open&&c.position==="popper"?o.jsx(pk,{...a,...n,ref:t}):null});N5.displayName=vm;var j5="SelectBubbleInput",Wk=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),l=it(n,a),c=sl(t);return y.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==t&&p){const g=new Event("change",{bubbles:!0});p.call(u,t),u.dispatchEvent(g)}},[c,t]),o.jsx(Xe.select,{...r,style:{...gk,...r.style},ref:l,defaultValue:t})});Wk.displayName=j5;function Kk(e){return e===""||e===void 0}function Gk(e){const t=ar(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(c=>{const u=r.current+c;t(u),(function h(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>h(""),1e3))})(u)},[t]),l=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,l]}function Yk(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=_5(e,Math.max(l,0));a.length===1&&(c=c.filter(f=>f!==r));const h=c.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==r?h:void 0}function _5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var C5=Nk,E5=_k,T5=Ek,P5=Tk,A5=Pk,R5=Ak,I5=Ok,D5=Fk,O5=Uk,M5=zk,L5=Vk,B5=qk;function F5({...e}){return o.jsx(C5,{"data-slot":"select",...e})}function U5({...e}){return o.jsx(T5,{"data-slot":"select-value",...e})}function $5({className:e,size:t="default",children:r,...n}){return o.jsxs(E5,{"data-slot":"select-trigger","data-size":t,className:at("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,o.jsx(P5,{asChild:!0,children:o.jsx(yo,{className:"size-4 opacity-50"})})]})}function z5({className:e,children:t,position:r="popper",...n}){return o.jsx(A5,{children:o.jsxs(R5,{"data-slot":"select-content",className:at("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(q5,{}),o.jsx(I5,{className:at("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(H5,{})]})})}function V5({className:e,children:t,...r}){return o.jsxs(D5,{"data-slot":"select-item",className:at("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(M5,{children:o.jsx(vr,{className:"size-4"})})}),o.jsx(O5,{children:t})]})}function q5({className:e,...t}){return o.jsx(L5,{"data-slot":"select-scroll-up-button",className:at("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(yp,{className:"size-4"})})}function H5({className:e,...t}){return o.jsx(B5,{"data-slot":"select-scroll-down-button",className:at("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(yo,{className:"size-4"})})}function W5(e,t=[]){let r=[];function n(l,c){const u=y.createContext(c);u.displayName=l+"Context";const h=r.length;r=[...r,c];const f=g=>{const{scope:v,children:b,...S}=g,N=v?.[e]?.[h]||u,k=y.useMemo(()=>S,Object.values(S));return o.jsx(N.Provider,{value:k,children:b})};f.displayName=l+"Provider";function p(g,v){const b=v?.[e]?.[h]||u,S=y.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[f,p]}const a=()=>{const l=r.map(c=>y.createContext(c));return function(u){const h=u?.[e]||l;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[n,K5(a,...t)]}function K5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=n.reduce((u,{useScope:h,scopeName:f})=>{const g=h(l)[`__scope${f}`];return{...u,...g}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var G5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mp=G5.reduce((e,t)=>{const r=_u(`Primitive.${t}`),n=y.forwardRef((a,l)=>{const{asChild:c,...u}=a,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...u,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bf={exports:{}},wf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function Y5(){if(Vx)return wf;Vx=1;var e=bu();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,v){var b=v(),S=n({inst:{value:b,getSnapshot:v}}),N=S[0].inst,k=S[1];return l(function(){N.value=b,N.getSnapshot=v,h(N)&&k({inst:N})},[g,b,v]),a(function(){return h(N)&&k({inst:N}),g(function(){h(N)&&k({inst:N})})},[g]),c(b),b}function h(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!r(g,b)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return wf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,wf}var qx;function X5(){return qx||(qx=1,bf.exports=Y5()),bf.exports}var J5=X5();function Q5(){return J5.useSyncExternalStore(Z5,()=>!0,()=>!1)}function Z5(){return()=>{}}var Lp="Avatar",[eL]=W5(Lp),[tL,Xk]=eL(Lp),Jk=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,l]=y.useState("idle");return o.jsx(tL,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:o.jsx(Mp.span,{...n,ref:t})})});Jk.displayName=Lp;var Qk="AvatarImage",Zk=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...l}=e,c=Xk(Qk,r),u=rL(n,l),h=ar(f=>{a(f),c.onImageLoadingStatusChange(f)});return Qt(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?o.jsx(Mp.img,{...l,ref:t,src:n}):null});Zk.displayName=Qk;var e1="AvatarFallback",t1=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,l=Xk(e1,r),[c,u]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&l.imageLoadingStatus!=="loaded"?o.jsx(Mp.span,{...a,ref:t}):null});t1.displayName=e1;function Hx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rL(e,{referrerPolicy:t,crossOrigin:r}){const n=Q5(),a=y.useRef(null),l=n?(a.current||(a.current=new window.Image),a.current):null,[c,u]=y.useState(()=>Hx(l,e));return Qt(()=>{u(Hx(l,e))},[l,e]),Qt(()=>{const h=g=>()=>{u(g)};if(!l)return;const f=h("loaded"),p=h("error");return l.addEventListener("load",f),l.addEventListener("error",p),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",f),l.removeEventListener("error",p)}},[l,r,t]),c}var nL=Jk,sL=Zk,oL=t1;function Oa({className:e,...t}){return o.jsx(nL,{"data-slot":"avatar",className:at("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function zu({className:e,...t}){return o.jsx(sL,{"data-slot":"avatar-image",className:at("aspect-square size-full object-cover",e),...t})}function Ma({className:e,...t}){return o.jsx(oL,{"data-slot":"avatar-fallback",className:at("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const iL=kS("inline-flex items-center justify-center rounded-xl px-3 py-1.5 text-xs font-semibold w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1.5 [&>svg]:pointer-events-none transition-all overflow-hidden",{variants:{variant:{default:"badge-soft",secondary:"bg-secondary/80 text-secondary-foreground border border-secondary [a&]:hover:bg-secondary rounded-xl shadow-sm",destructive:"bg-red-50 text-red-600 border border-red-200 [a&]:hover:bg-red-100 rounded-xl shadow-sm",outline:"text-foreground border-2 border-primary/20 bg-white [a&]:hover:bg-accent [a&]:hover:border-primary/30 rounded-xl shadow-sm"}},defaultVariants:{variant:"default"}});function Jt({className:e,variant:t,asChild:r=!1,...n}){const a=r?bS:"span";return o.jsx(a,{"data-slot":"badge",className:at(iL({variant:t}),e),...n})}function aL(e){const t=lL(e),r=y.forwardRef((n,a)=>{const{children:l,...c}=n,u=y.Children.toArray(l),h=u.find(uL);if(h){const f=h.props.children,p=u.map(g=>g===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return o.jsx(t,{...c,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,p):null})}return o.jsx(t,{...c,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}function lL(e){const t=y.forwardRef((r,n)=>{const{children:a,...l}=r;if(y.isValidElement(a)){const c=hL(a),u=dL(l,a.props);return a.type!==y.Fragment&&(u.ref=n?ts(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cL=Symbol("radix.slottable");function uL(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cL}function dL(e,t){const r={...t};for(const n in t){const a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...u)=>{const h=l(...u);return a(...u),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function hL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Vu="Dialog",[r1]=Vr(Vu),[fL,xn]=r1(Vu),n1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:l,modal:c=!0}=e,u=y.useRef(null),h=y.useRef(null),[f,p]=Qn({prop:n,defaultProp:a??!1,onChange:l,caller:Vu});return o.jsx(fL,{scope:t,triggerRef:u,contentRef:h,contentId:Xn(),titleId:Xn(),descriptionId:Xn(),open:f,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(g=>!g),[p]),modal:c,children:r})};n1.displayName=Vu;var s1="DialogTrigger",mL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xn(s1,r),l=it(t,a.triggerRef);return o.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Up(a.open),...n,ref:l,onClick:Pe(e.onClick,a.onOpenToggle)})});mL.displayName=s1;var Bp="DialogPortal",[pL,o1]=r1(Bp,{forceMount:void 0}),i1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,l=xn(Bp,t);return o.jsx(pL,{scope:t,forceMount:r,children:y.Children.map(n,c=>o.jsx(Ir,{present:r||l.open,children:o.jsx(Mu,{asChild:!0,container:a,children:c})}))})};i1.displayName=Bp;var du="DialogOverlay",a1=y.forwardRef((e,t)=>{const r=o1(du,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,l=xn(du,e.__scopeDialog);return l.modal?o.jsx(Ir,{present:n||l.open,children:o.jsx(yL,{...a,ref:t})}):null});a1.displayName=du;var gL=aL("DialogOverlay.RemoveScroll"),yL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xn(du,r);return o.jsx(Bu,{as:gL,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Xe.div,{"data-state":Up(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),go="DialogContent",l1=y.forwardRef((e,t)=>{const r=o1(go,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,l=xn(go,e.__scopeDialog);return o.jsx(Ir,{present:n||l.open,children:l.modal?o.jsx(vL,{...a,ref:t}):o.jsx(xL,{...a,ref:t})})});l1.displayName=go;var vL=y.forwardRef((e,t)=>{const r=xn(go,e.__scopeDialog),n=y.useRef(null),a=it(t,r.contentRef,n);return y.useEffect(()=>{const l=n.current;if(l)return Dp(l)},[]),o.jsx(c1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,l=>l.preventDefault())})}),xL=y.forwardRef((e,t)=>{const r=xn(go,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return o.jsx(c1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),c1=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=e,u=xn(go,r),h=y.useRef(null),f=it(t,h);return jp(),o.jsxs(o.Fragment,{children:[o.jsx(Pu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l,children:o.jsx(Tu,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Up(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(bL,{titleId:u.titleId}),o.jsx(SL,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Fp="DialogTitle",u1=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xn(Fp,r);return o.jsx(Xe.h2,{id:a.titleId,...n,ref:t})});u1.displayName=Fp;var d1="DialogDescription",h1=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xn(d1,r);return o.jsx(Xe.p,{id:a.descriptionId,...n,ref:t})});h1.displayName=d1;var f1="DialogClose",m1=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xn(f1,r);return o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});m1.displayName=f1;function Up(e){return e?"open":"closed"}var p1="DialogTitleWarning",[VU,g1]=CI(p1,{contentName:go,titleName:Fp,docsSlug:"dialog"}),bL=({titleId:e})=>{const t=g1(p1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wL="DialogDescriptionWarning",SL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${g1(wL).contentName}}.`;return y.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kL=n1,NL=i1,jL=a1,_L=l1,CL=u1,EL=h1,y1=m1;function La({...e}){return o.jsx(kL,{"data-slot":"dialog",...e})}function TL({...e}){return o.jsx(NL,{"data-slot":"dialog-portal",...e})}const PL=y.forwardRef(({...e},t)=>o.jsx(y1,{ref:t,"data-slot":"dialog-close",...e}));PL.displayName="DialogClose";const v1=y.forwardRef(({className:e,...t},r)=>o.jsx(jL,{ref:r,"data-slot":"dialog-overlay",className:at("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",e),...t}));v1.displayName="DialogOverlay";const yi=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(TL,{"data-slot":"dialog-portal",children:[o.jsx(v1,{}),o.jsxs(_L,{ref:n,"data-slot":"dialog-content",className:at("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,o.jsxs(y1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Ut,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yi.displayName="DialogContent";function Ba({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:at("flex flex-col gap-2 text-center sm:text-left",e),...t})}function xm({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-footer",className:at("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Fa({className:e,...t}){return o.jsx(CL,{"data-slot":"dialog-title",className:at("text-lg leading-none font-semibold",e),...t})}function Ua({className:e,...t}){return o.jsx(EL,{"data-slot":"dialog-description",className:at("text-muted-foreground text-sm",e),...t})}var Sf="rovingFocusGroup.onEntryFocus",AL={bubbles:!1,cancelable:!0},al="RovingFocusGroup",[bm,x1,RL]=Eu(al),[IL,qu]=Vr(al,[RL]),[DL,OL]=IL(al),b1=y.forwardRef((e,t)=>o.jsx(bm.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(bm.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ML,{...e,ref:t})})}));b1.displayName=al;var ML=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=e,v=y.useRef(null),b=it(t,v),S=ki(l),[N,k]=Qn({prop:c,defaultProp:u??null,onChange:h,caller:al}),[j,E]=y.useState(!1),_=ar(f),A=x1(r),I=y.useRef(!1),[B,M]=y.useState(0);return y.useEffect(()=>{const H=v.current;if(H)return H.addEventListener(Sf,_),()=>H.removeEventListener(Sf,_)},[_]),o.jsx(DL,{scope:r,orientation:n,dir:S,loop:a,currentTabStopId:N,onItemFocus:y.useCallback(H=>k(H),[k]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>M(H=>H+1),[]),onFocusableItemRemove:y.useCallback(()=>M(H=>H-1),[]),children:o.jsx(Xe.div,{tabIndex:j||B===0?-1:0,"data-orientation":n,...g,ref:b,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{I.current=!0}),onFocus:Pe(e.onFocus,H=>{const V=!I.current;if(H.target===H.currentTarget&&V&&!j){const X=new CustomEvent(Sf,AL);if(H.currentTarget.dispatchEvent(X),!X.defaultPrevented){const Z=A().filter(ie=>ie.focusable),Q=Z.find(ie=>ie.active),ue=Z.find(ie=>ie.id===N),be=[Q,ue,...Z].filter(Boolean).map(ie=>ie.ref.current);k1(be,p)}}I.current=!1}),onBlur:Pe(e.onBlur,()=>E(!1))})})}),w1="RovingFocusGroupItem",S1=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:l,children:c,...u}=e,h=Xn(),f=l||h,p=OL(w1,r),g=p.currentTabStopId===f,v=x1(r),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:N}=p;return y.useEffect(()=>{if(n)return b(),()=>S()},[n,b,S]),o.jsx(bm.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:o.jsx(Xe.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Pe(e.onMouseDown,k=>{n?p.onItemFocus(f):k.preventDefault()}),onFocus:Pe(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Pe(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){p.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const j=FL(k,p.orientation,p.dir);if(j!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let _=v().filter(A=>A.focusable).map(A=>A.ref.current);if(j==="last")_.reverse();else if(j==="prev"||j==="next"){j==="prev"&&_.reverse();const A=_.indexOf(k.currentTarget);_=p.loop?UL(_,A+1):_.slice(A+1)}setTimeout(()=>k1(_))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:N!=null}):c})})});S1.displayName=w1;var LL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function FL(e,t,r){const n=BL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LL[n]}function k1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function UL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var N1=b1,j1=S1;function $L(e){const t=zL(e),r=y.forwardRef((n,a)=>{const{children:l,...c}=n,u=y.Children.toArray(l),h=u.find(qL);if(h){const f=h.props.children,p=u.map(g=>g===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return o.jsx(t,{...c,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,p):null})}return o.jsx(t,{...c,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}function zL(e){const t=y.forwardRef((r,n)=>{const{children:a,...l}=r;if(y.isValidElement(a)){const c=WL(a),u=HL(l,a.props);return a.type!==y.Fragment&&(u.ref=n?ts(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VL=Symbol("radix.slottable");function qL(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VL}function HL(e,t){const r={...t};for(const n in t){const a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...u)=>{const h=l(...u);return a(...u),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function WL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wm=["Enter"," "],KL=["ArrowDown","PageUp","Home"],_1=["ArrowUp","PageDown","End"],GL=[...KL,..._1],YL={ltr:[...wm,"ArrowRight"],rtl:[...wm,"ArrowLeft"]},XL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ll="Menu",[$a,JL,QL]=Eu(ll),[vo,C1]=Vr(ll,[QL,Ou,qu]),Hu=Ou(),E1=qu(),[ZL,xo]=vo(ll),[e4,cl]=vo(ll),T1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:l,modal:c=!0}=e,u=Hu(t),[h,f]=y.useState(null),p=y.useRef(!1),g=ar(l),v=ki(a);return y.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),o.jsx(hk,{...u,children:o.jsx(ZL,{scope:t,open:r,onOpenChange:g,content:h,onContentChange:f,children:o.jsx(e4,{scope:t,onClose:y.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:c,children:n})})})};T1.displayName=ll;var t4="MenuAnchor",$p=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Hu(r);return o.jsx(fk,{...a,...n,ref:t})});$p.displayName=t4;var zp="MenuPortal",[r4,P1]=vo(zp,{forceMount:void 0}),A1=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,l=xo(zp,t);return o.jsx(r4,{scope:t,forceMount:r,children:o.jsx(Ir,{present:r||l.open,children:o.jsx(Mu,{asChild:!0,container:a,children:n})})})};A1.displayName=zp;var Qr="MenuContent",[n4,Vp]=vo(Qr),R1=y.forwardRef((e,t)=>{const r=P1(Qr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,l=xo(Qr,e.__scopeMenu),c=cl(Qr,e.__scopeMenu);return o.jsx($a.Provider,{scope:e.__scopeMenu,children:o.jsx(Ir,{present:n||l.open,children:o.jsx($a.Slot,{scope:e.__scopeMenu,children:c.modal?o.jsx(s4,{...a,ref:t}):o.jsx(o4,{...a,ref:t})})})})}),s4=y.forwardRef((e,t)=>{const r=xo(Qr,e.__scopeMenu),n=y.useRef(null),a=it(t,n);return y.useEffect(()=>{const l=n.current;if(l)return Dp(l)},[]),o.jsx(qp,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),o4=y.forwardRef((e,t)=>{const r=xo(Qr,e.__scopeMenu);return o.jsx(qp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),i4=$L("MenuContent.ScrollLock"),qp=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:b,disableOutsideScroll:S,...N}=e,k=xo(Qr,r),j=cl(Qr,r),E=Hu(r),_=E1(r),A=JL(r),[I,B]=y.useState(null),M=y.useRef(null),H=it(t,M,k.onContentChange),V=y.useRef(0),X=y.useRef(""),Z=y.useRef(0),Q=y.useRef(null),ue=y.useRef("right"),fe=y.useRef(0),be=S?Bu:y.Fragment,ie=S?{as:i4,allowPinchZoom:!0}:void 0,le=U=>{const R=X.current+U,T=A().filter($=>!$.disabled),P=document.activeElement,L=T.find($=>$.ref.current===P)?.textValue,D=T.map($=>$.textValue),q=v4(D,R,L),F=T.find($=>$.textValue===q)?.ref.current;(function $(re){X.current=re,window.clearTimeout(V.current),re!==""&&(V.current=window.setTimeout(()=>$(""),1e3))})(R),F&&setTimeout(()=>F.focus())};y.useEffect(()=>()=>window.clearTimeout(V.current),[]),jp();const G=y.useCallback(U=>ue.current===Q.current?.side&&b4(U,Q.current?.area),[]);return o.jsx(n4,{scope:r,searchRef:X,onItemEnter:y.useCallback(U=>{G(U)&&U.preventDefault()},[G]),onItemLeave:y.useCallback(U=>{G(U)||(M.current?.focus(),B(null))},[G]),onTriggerLeave:y.useCallback(U=>{G(U)&&U.preventDefault()},[G]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:y.useCallback(U=>{Q.current=U},[]),children:o.jsx(be,{...ie,children:o.jsx(Pu,{asChild:!0,trapped:a,onMountAutoFocus:Pe(l,U=>{U.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:o.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:b,children:o.jsx(N1,{asChild:!0,..._,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:I,onCurrentTabStopIdChange:B,onEntryFocus:Pe(h,U=>{j.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(mk,{role:"menu","aria-orientation":"vertical","data-state":G1(k.open),"data-radix-menu-content":"",dir:j.dir,...E,...N,ref:H,style:{outline:"none",...N.style},onKeyDown:Pe(N.onKeyDown,U=>{const T=U.target.closest("[data-radix-menu-content]")===U.currentTarget,P=U.ctrlKey||U.altKey||U.metaKey,L=U.key.length===1;T&&(U.key==="Tab"&&U.preventDefault(),!P&&L&&le(U.key));const D=M.current;if(U.target!==D||!GL.includes(U.key))return;U.preventDefault();const F=A().filter($=>!$.disabled).map($=>$.ref.current);_1.includes(U.key)&&F.reverse(),g4(F)}),onBlur:Pe(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(V.current),X.current="")}),onPointerMove:Pe(e.onPointerMove,za(U=>{const R=U.target,T=fe.current!==U.clientX;if(U.currentTarget.contains(R)&&T){const P=U.clientX>fe.current?"right":"left";ue.current=P,fe.current=U.clientX}}))})})})})})})});R1.displayName=Qr;var a4="MenuGroup",Hp=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{role:"group",...n,ref:t})});Hp.displayName=a4;var l4="MenuLabel",I1=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{...n,ref:t})});I1.displayName=l4;var hu="MenuItem",Wx="menu.itemSelect",Wu=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,l=y.useRef(null),c=cl(hu,e.__scopeMenu),u=Vp(hu,e.__scopeMenu),h=it(t,l),f=y.useRef(!1),p=()=>{const g=l.current;if(!r&&g){const v=new CustomEvent(Wx,{bubbles:!0,cancelable:!0});g.addEventListener(Wx,b=>n?.(b),{once:!0}),RS(g,v),v.defaultPrevented?f.current=!1:c.onClose()}};return o.jsx(D1,{...a,ref:h,disabled:r,onClick:Pe(e.onClick,p),onPointerDown:g=>{e.onPointerDown?.(g),f.current=!0},onPointerUp:Pe(e.onPointerUp,g=>{f.current||g.currentTarget?.click()}),onKeyDown:Pe(e.onKeyDown,g=>{const v=u.searchRef.current!=="";r||v&&g.key===" "||wm.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Wu.displayName=hu;var D1=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...l}=e,c=Vp(hu,r),u=E1(r),h=y.useRef(null),f=it(t,h),[p,g]=y.useState(!1),[v,b]=y.useState("");return y.useEffect(()=>{const S=h.current;S&&b((S.textContent??"").trim())},[l.children]),o.jsx($a.ItemSlot,{scope:r,disabled:n,textValue:a??v,children:o.jsx(j1,{asChild:!0,...u,focusable:!n,children:o.jsx(Xe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:f,onPointerMove:Pe(e.onPointerMove,za(S=>{n?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,za(S=>c.onItemLeave(S))),onFocus:Pe(e.onFocus,()=>g(!0)),onBlur:Pe(e.onBlur,()=>g(!1))})})})}),c4="MenuCheckboxItem",O1=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(U1,{scope:e.__scopeMenu,checked:r,children:o.jsx(Wu,{role:"menuitemcheckbox","aria-checked":fu(r)?"mixed":r,...a,ref:t,"data-state":Kp(r),onSelect:Pe(a.onSelect,()=>n?.(fu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});O1.displayName=c4;var M1="MenuRadioGroup",[u4,d4]=vo(M1,{value:void 0,onValueChange:()=>{}}),L1=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,l=ar(n);return o.jsx(u4,{scope:e.__scopeMenu,value:r,onValueChange:l,children:o.jsx(Hp,{...a,ref:t})})});L1.displayName=M1;var B1="MenuRadioItem",F1=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=d4(B1,e.__scopeMenu),l=r===a.value;return o.jsx(U1,{scope:e.__scopeMenu,checked:l,children:o.jsx(Wu,{role:"menuitemradio","aria-checked":l,...n,ref:t,"data-state":Kp(l),onSelect:Pe(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});F1.displayName=B1;var Wp="MenuItemIndicator",[U1,h4]=vo(Wp,{checked:!1}),$1=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,l=h4(Wp,r);return o.jsx(Ir,{present:n||fu(l.checked)||l.checked===!0,children:o.jsx(Xe.span,{...a,ref:t,"data-state":Kp(l.checked)})})});$1.displayName=Wp;var f4="MenuSeparator",z1=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});z1.displayName=f4;var m4="MenuArrow",V1=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Hu(r);return o.jsx(pk,{...a,...n,ref:t})});V1.displayName=m4;var p4="MenuSub",[qU,q1]=vo(p4),ya="MenuSubTrigger",H1=y.forwardRef((e,t)=>{const r=xo(ya,e.__scopeMenu),n=cl(ya,e.__scopeMenu),a=q1(ya,e.__scopeMenu),l=Vp(ya,e.__scopeMenu),c=y.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=l,f={__scopeMenu:e.__scopeMenu},p=y.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return y.useEffect(()=>p,[p]),y.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),o.jsx($p,{asChild:!0,...f,children:o.jsx(D1,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":G1(r.open),...e,ref:ts(t,a.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,za(g=>{l.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Pe(e.onPointerLeave,za(g=>{p();const v=r.content?.getBoundingClientRect();if(v){const b=r.content?.dataset.side,S=b==="right",N=S?-5:5,k=v[S?"left":"right"],j=v[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+N,y:g.clientY},{x:k,y:v.top},{x:j,y:v.top},{x:j,y:v.bottom},{x:k,y:v.bottom}],side:b}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,g=>{const v=l.searchRef.current!=="";e.disabled||v&&g.key===" "||YL[n.dir].includes(g.key)&&(r.onOpenChange(!0),r.content?.focus(),g.preventDefault())})})})});H1.displayName=ya;var W1="MenuSubContent",K1=y.forwardRef((e,t)=>{const r=P1(Qr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,l=xo(Qr,e.__scopeMenu),c=cl(Qr,e.__scopeMenu),u=q1(W1,e.__scopeMenu),h=y.useRef(null),f=it(t,h);return o.jsx($a.Provider,{scope:e.__scopeMenu,children:o.jsx(Ir,{present:n||l.open,children:o.jsx($a.Slot,{scope:e.__scopeMenu,children:o.jsx(qp,{id:u.contentId,"aria-labelledby":u.triggerId,...a,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{c.isUsingKeyboardRef.current&&h.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,p=>{p.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:Pe(e.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),v=XL[c.dir].includes(p.key);g&&v&&(l.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});K1.displayName=W1;function G1(e){return e?"open":"closed"}function fu(e){return e==="indeterminate"}function Kp(e){return fu(e)?"indeterminate":e?"checked":"unchecked"}function g4(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function y4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function v4(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=y4(e,Math.max(l,0));a.length===1&&(c=c.filter(f=>f!==r));const h=c.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return h!==r?h:void 0}function x4(e,t){const{x:r,y:n}=e;let a=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],h=t[c],f=u.x,p=u.y,g=h.x,v=h.y;p>n!=v>n&&r<(g-f)*(n-p)/(v-p)+f&&(a=!a)}return a}function b4(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return x4(r,t)}function za(e){return t=>t.pointerType==="mouse"?e(t):void 0}var w4=T1,S4=$p,k4=A1,N4=R1,j4=Hp,_4=I1,C4=Wu,E4=O1,T4=L1,P4=F1,A4=$1,R4=z1,I4=V1,D4=H1,O4=K1,Ku="DropdownMenu",[M4]=Vr(Ku,[C1]),Nr=C1(),[L4,Y1]=M4(Ku),X1=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,h=Nr(t),f=y.useRef(null),[p,g]=Qn({prop:a,defaultProp:l??!1,onChange:c,caller:Ku});return o.jsx(L4,{scope:t,triggerId:Xn(),triggerRef:f,contentId:Xn(),open:p,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(v=>!v),[g]),modal:u,children:o.jsx(w4,{...h,open:p,onOpenChange:g,dir:n,modal:u,children:r})})};X1.displayName=Ku;var J1="DropdownMenuTrigger",Q1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,l=Y1(J1,r),c=Nr(r);return o.jsx(S4,{asChild:!0,...c,children:o.jsx(Xe.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ts(t,l.triggerRef),onPointerDown:Pe(e.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:Pe(e.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Q1.displayName=J1;var B4="DropdownMenuPortal",Z1=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Nr(t);return o.jsx(k4,{...n,...r})};Z1.displayName=B4;var eN="DropdownMenuContent",tN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Y1(eN,r),l=Nr(r),c=y.useRef(!1);return o.jsx(N4,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...n,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,u=>{c.current||a.triggerRef.current?.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,p=h.button===2||f;(!a.modal||p)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tN.displayName=eN;var F4="DropdownMenuGroup",U4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(j4,{...a,...n,ref:t})});U4.displayName=F4;var $4="DropdownMenuLabel",z4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(_4,{...a,...n,ref:t})});z4.displayName=$4;var V4="DropdownMenuItem",rN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(C4,{...a,...n,ref:t})});rN.displayName=V4;var q4="DropdownMenuCheckboxItem",H4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(E4,{...a,...n,ref:t})});H4.displayName=q4;var W4="DropdownMenuRadioGroup",K4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(T4,{...a,...n,ref:t})});K4.displayName=W4;var G4="DropdownMenuRadioItem",Y4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(P4,{...a,...n,ref:t})});Y4.displayName=G4;var X4="DropdownMenuItemIndicator",J4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(A4,{...a,...n,ref:t})});J4.displayName=X4;var Q4="DropdownMenuSeparator",Z4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(R4,{...a,...n,ref:t})});Z4.displayName=Q4;var eB="DropdownMenuArrow",tB=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(I4,{...a,...n,ref:t})});tB.displayName=eB;var rB="DropdownMenuSubTrigger",nB=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(D4,{...a,...n,ref:t})});nB.displayName=rB;var sB="DropdownMenuSubContent",oB=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return o.jsx(O4,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oB.displayName=sB;var iB=X1,aB=Q1,lB=Z1,cB=tN,uB=rN;function nN({...e}){return o.jsx(iB,{"data-slot":"dropdown-menu",...e})}const Gp=y.forwardRef((e,t)=>o.jsx(aB,{ref:t,"data-slot":"dropdown-menu-trigger",...e}));Gp.displayName="DropdownMenuTrigger";function sN({className:e,sideOffset:t=4,...r}){return o.jsx(lB,{children:o.jsx(cB,{"data-slot":"dropdown-menu-content",sideOffset:t,className:at("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function Wc({className:e,inset:t,variant:r="default",...n}){return o.jsx(uB,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:at("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}const dB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Yp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hB extends Yp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Kx extends Yp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gx extends Yp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sm||(Sm={}));class fB{constructor(t,{headers:r={},customFetch:n,region:a=Sm.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=dB(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return wM(this,arguments,void 0,function*(r,n={}){var a;let l,c;try{const{headers:u,method:h,body:f,signal:p,timeout:g}=n;let v={},{region:b}=n;b||(b=this.region);const S=new URL(`${this.url}/${r}`);b&&b!=="any"&&(v["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let N;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",N=f):typeof f=="string"?(v["Content-Type"]="text/plain",N=f):typeof FormData<"u"&&f instanceof FormData?N=f:(v["Content-Type"]="application/json",N=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?N=JSON.stringify(f):N=f;let k=p;g&&(c=new AbortController,l=setTimeout(()=>c.abort(),g),p?(k=c.signal,p.addEventListener("abort",()=>c.abort())):k=c.signal);const j=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:N,signal:k}).catch(I=>{throw new hB(I)}),E=j.headers.get("x-relay-error");if(E&&E==="true")throw new Kx(j);if(!j.ok)throw new Gx(j);let _=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return _==="application/json"?A=yield j.json():_==="application/octet-stream"||_==="application/pdf"?A=yield j.blob():_==="text/event-stream"?A=j:_==="multipart/form-data"?A=yield j.formData():A=yield j.text(),{data:A,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Gx||u instanceof Kx?u.context:void 0}}finally{l&&clearTimeout(l)}})}}var mB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},pB=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,u=null,h=null,f=l.status,p=l.statusText;if(l.ok){var g,v;if(r.method!=="HEAD"){var b;const j=await l.text();j===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=j:u=JSON.parse(j))}const N=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(v=l.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&k&&k.length>1&&(h=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const N=await l.text();try{c=JSON.parse(N),Array.isArray(c)&&l.status===404&&(u=[],c=null,f=200,p="OK")}catch{l.status===404&&N===""?(f=204,p="No Content"):c={message:N}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&r.shouldThrowOnError)throw new mB(c)}return{error:c,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let u="",h="",f="";const p=l?.cause;if(p){var g,v,b,S;const j=(g=p?.message)!==null&&g!==void 0?g:"",E=(v=p?.code)!==null&&v!==void 0?v:"";u=`${(b=l?.name)!==null&&b!==void 0?b:"FetchError"}: ${l?.message}`,u+=`

Caused by: ${(S=p?.name)!==null&&S!==void 0?S:"Error"}: ${j}`,E&&(u+=` (${E})`),p?.stack&&(u+=`
${p.stack}`)}else{var N;u=(N=l?.stack)!==null&&N!==void 0?N:""}const k=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(f="",h="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(p?.name==="HeadersOverflowError"||p?.code==="UND_ERR_HEADERS_OVERFLOW")&&(f="",h="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(h+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:u,hint:h,code:f},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},gB=class extends pB{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:l="text"}={}){var c;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Yx=new RegExp("[,()]");var Zo=class extends gB{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Yx.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Yx.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},yB=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join(""),{url:u,headers:h}=this.cloneRequestState();return u.searchParams.set("select",c),n&&h.append("Prefer",`count=${n}`),new Zo({method:a,url:u,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),r||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",h.join(","))}}return new Zo({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var l;const c="POST",{url:u,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&h.append("Prefer",`count=${n}`),a||h.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new Zo({method:c,url:u,headers:h,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new Zo({method:n,url:a,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Zo({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Va(e){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}function vB(e,t){if(Va(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Va(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xB(e){var t=vB(e,"string");return Va(t)=="symbol"?t:t+""}function bB(e,t,r){return(t=xB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xx(Object(r),!0).forEach(function(n){bB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var wB=class oN{constructor(t,{headers:r={},schema:n,fetch:a,timeout:l,urlLengthLimit:c=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=c;const u=a??globalThis.fetch;l!==void 0&&l>0?this.fetch=(h,f)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),l),v=f?.signal;if(v){if(v.aborted)return clearTimeout(g),u(h,f);const b=()=>{clearTimeout(g),p.abort()};return v.addEventListener("abort",b,{once:!0}),u(h,Ec(Ec({},f),{},{signal:p.signal})).finally(()=>{clearTimeout(g),v.removeEventListener("abort",b)})}return u(h,Ec(Ec({},f),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new oN(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:l}={}){var c;let u;const h=new URL(`${this.url}/rpc/${t}`);let f;const p=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(p)),g=n&&Object.values(r).some(p);g?(u="POST",f=r):n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{h.searchParams.append(b,S)})):(u="POST",f=r);const v=new Headers(this.headers);return g?v.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&v.set("Prefer",`count=${l}`),new Zo({method:u,url:h,headers:v,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class SB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kB="2.95.3",NB=`realtime-js/${kB}`,jB="1.0.0",iN="2.0.0",Jx=iN,km=1e4,_B=1e3,CB=100;var _s;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_s||(_s={}));var tr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tr||(tr={}));var pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pn||(pn={}));var Nm;(function(e){e.websocket="websocket"})(Nm||(Nm={}));var so;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(so||(so={}));class EB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var a,l;const c=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",h=(l=t.join_ref)!==null&&l!==void 0?l:"",f=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+c.length+f.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(b),N=0;S.setUint8(N++,this.KINDS.userBroadcastPush),S.setUint8(N++,h.length),S.setUint8(N++,u.length),S.setUint8(N++,c.length),S.setUint8(N++,f.length),S.setUint8(N++,g.length),S.setUint8(N++,r),Array.from(h,j=>S.setUint8(N++,j.charCodeAt(0))),Array.from(u,j=>S.setUint8(N++,j.charCodeAt(0))),Array.from(c,j=>S.setUint8(N++,j.charCodeAt(0))),Array.from(f,j=>S.setUint8(N++,j.charCodeAt(0))),Array.from(g,j=>S.setUint8(N++,j.charCodeAt(0)));var k=new Uint8Array(b.byteLength+n.byteLength);return k.set(new Uint8Array(b),0),k.set(new Uint8Array(n),b.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,l,c,u,h]=n;return r({join_ref:a,ref:l,topic:c,event:u,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let h=this.HEADER_LENGTH+4;const f=n.decode(t.slice(h,h+a));h=h+a;const p=n.decode(t.slice(h,h+l));h=h+l;const g=n.decode(t.slice(h,h+c));h=h+c;const v=t.slice(h,t.byteLength),b=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,S={type:this.BROADCAST_EVENT,event:p,payload:b};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class aN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pt||(Pt={}));const Qx=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=TB(c,e,t,a),l),{}):{}},TB=(e,t,r,n)=>{const a=t.find(u=>u.name===e),l=a?.type,c=r[e];return l&&!n.includes(l)?lN(l,c):jm(c)},lN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IB(t,r)}switch(e){case Pt.bool:return PB(t);case Pt.float4:case Pt.float8:case Pt.int2:case Pt.int4:case Pt.int8:case Pt.numeric:case Pt.oid:return AB(t);case Pt.json:case Pt.jsonb:return RB(t);case Pt.timestamp:return DB(t);case Pt.abstime:case Pt.date:case Pt.daterange:case Pt.int4range:case Pt.int8range:case Pt.money:case Pt.reltime:case Pt.text:case Pt.time:case Pt.timestamptz:case Pt.timetz:case Pt.tsrange:case Pt.tstzrange:return jm(t);default:return jm(t)}},jm=e=>e,PB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},IB=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let l;const c=e.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>lN(t,u))}return e},DB=e=>typeof e=="string"?e.replace(" ","T"):e,cN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kf{constructor(t,r,n={},a=km){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zx||(Zx={}));class ka{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ka.syncState(this.state,a,l,c),this.pendingDiffs.forEach(h=>{this.state=ka.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ka.syncDiff(this.state,a,l,c),u())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const l=this.cloneDeep(t),c=this.transformState(r),u={},h={};return this.map(l,(f,p)=>{c[f]||(h[f]=p)}),this.map(c,(f,p)=>{const g=l[f];if(g){const v=p.map(k=>k.presence_ref),b=g.map(k=>k.presence_ref),S=p.filter(k=>b.indexOf(k.presence_ref)<0),N=g.filter(k=>v.indexOf(k.presence_ref)<0);S.length>0&&(u[f]=S),N.length>0&&(h[f]=N)}else u[f]=p}),this.syncDiff(l,{joins:u,leaves:h},n,a)}static syncDiff(t,r,n,a){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(l,(u,h)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(h),p.length>0){const g=t[u].map(b=>b.presence_ref),v=p.filter(b=>g.indexOf(b.presence_ref)<0);t[u].unshift(...v)}n(u,p,h)}),this.map(c,(u,h)=>{let f=t[u];if(!f)return;const p=h.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,a(u,f,h),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(eb||(eb={}));var Na;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Na||(Na={}));var Kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class li{constructor(t,r={config:{}},n){var a,l;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kf(this,pn.join,this.params,this.timeout),this.rejoinTimer=new aN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new ka(this),this.broadcastEndpointURL=cN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==tr.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[Na.PRESENCE]&&this.bindings[Na.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},v={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Kn.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Kn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t?.(Kn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(S=N?.length)!==null&&S!==void 0?S:0,j=[];for(let E=0;E<k;E++){const _=N[E],{filter:{event:A,schema:I,table:B,filter:M}}=_,H=b&&b[E];if(H&&H.event===A&&li.isFilterValueEqual(H.schema,I)&&li.isFilterValueEqual(H.table,B)&&li.isFilterValueEqual(H.filter,M))j.push(Object.assign(Object.assign({},_),{id:H.id}));else{this.unsubscribe(),this.state=tr.errored,t?.(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Kn.SUBSCRIBED);return}}).receive("error",b=>{this.state=tr.errored,t?.(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===tr.joined&&t===Na.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const f=await u.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,h;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new kf(this,pn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,l=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new kf(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>CB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,l;const c=t.toLocaleLowerCase(),{close:u,error:h,leave:f,join:p}=pn;if(n&&[u,h,f,p].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var S,N,k;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(N=b.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(b=>b.callback(v,n)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var S,N,k,j,E,_;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const A=b.id,I=(S=b.filter)===null||S===void 0?void 0:S.event;return A&&((N=r.ids)===null||N===void 0?void 0:N.includes(A))&&(I==="*"||I?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const A=(E=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:N,table:k,commit_timestamp:j,type:E,errors:_}=S;v=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:j,eventType:E,new:{},old:{},errors:_}),this._getPayloadRecords(S))}b.callback(v,n)})}_isClosed(){return this.state===tr.closed}_isJoined(){return this.state===tr.joined}_isJoining(){return this.state===tr.joining}_isLeaving(){return this.state===tr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),l={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&li.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pn.close,{},t)}_onError(t){this._on(pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Qx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Qx(t.columns,t.old_record)),r}}const Nf=()=>{},Tc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OB=[1e3,2e3,5e3,1e4],MB=1e4,LB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BB{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=km,this.transport=null,this.heartbeatIntervalMs=Tc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nf,this.ref=0,this.reconnectTimer=null,this.vsn=Jx,this.logger=Nf,this.conn=null,this.sendBuffer=[],this.serializer=new EB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Nm.websocket}`,this.httpEndpoint=cN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _s.connecting:return so.Connecting;case _s.open:return so.Open;case _s.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(l=>l.topic===n);if(a)return a;{const l=new li(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:n,payload:a,ref:l}=t,c=()=>{this.encode(t,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${r} ${n} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_B,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Tc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:l,ref:c}=r,u=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${a} ${u}`.trim(),l),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===_s.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_s.open||this.conn.readyState===_s.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([LB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:NB};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new aN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,l,c,u,h,f,p,g,v,b;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:km,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Tc.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:Nf,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:Jx,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>OB[S-1]||MB),this.vsn){case jB:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((S,N)=>N(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,N)=>N(JSON.parse(S)));break;case iN:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var qa=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function FB(e,t,r){const n=new URL(t,e);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&n.searchParams.set(a,l);return n.toString()}async function UB(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $B(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:l,headers:c}){const u=FB(e.baseUrl,n,a),h=await UB(e.auth),f=await t(u,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),p=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),v=g&&p?JSON.parse(p):p;if(!f.ok){const b=g?v:void 0,S=b?.error;throw new qa(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:b})}return{status:f.status,headers:f.headers,data:v}}}}function Pc(e){return e.join("")}var zB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Pc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pc(e.namespace)}`}),!0}catch(t){if(t instanceof qa&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof qa&&r.status===409)return;throw r}}};function Wo(e){return e.join("")}var VB=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof qa&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof qa&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},qB=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$B({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new zB(this.client,t),this.tableOps=new VB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Gu=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Yu(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ac=class extends Gu{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uN=class extends Gu{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const HB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_m=e=>{if(Array.isArray(e))return e.map(r=>_m(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=_m(n)}),t},KB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function GB(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YB(e){var t=GB(e,"string");return Ha(t)=="symbol"?t:t+""}function XB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const rb=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},JB=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e,l=a.status||500;if(typeof a.json=="function")a.json().then(c=>{const u=c?.statusCode||c?.code||l+"";t(new Ac(rb(c),l,u,n))}).catch(()=>{if(n==="vectors"){const c=l+"";t(new Ac(a.statusText||`HTTP ${l} error`,l,c,n))}else{const c=l+"";t(new Ac(a.statusText||`HTTP ${l} error`,l,c,n))}});else{const c=l+"";t(new Ac(a.statusText||`HTTP ${l} error`,l,c,n))}}else t(new uN(rb(e),e,n))},QB=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!n?nt(nt({},a),r):(WB(n)?(a.headers=nt({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),nt(nt({},a),r))};async function fa(e,t,r,n,a,l,c){return new Promise((u,h)=>{e(r,QB(t,n,a,l)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;if(c==="vectors"){const p=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>JB(f,h,n,c))})}function dN(e="storage"){return{get:async(t,r,n,a)=>fa(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,l)=>fa(t,"POST",r,a,l,n,e),put:async(t,r,n,a,l)=>fa(t,"PUT",r,a,l,n,e),head:async(t,r,n,a)=>fa(t,"HEAD",r,nt(nt({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,l)=>fa(t,"DELETE",r,a,l,n,e)}}const ZB=dN("storage"),{get:Wa,post:mn,put:Cm,head:eF,remove:Xp}=ZB,Ur=dN("vectors");var Ei=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=HB(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yu(r))return{data:null,error:r};throw r}}},tF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yu(t))return{data:null,error:t};throw t}}};let hN;hN=Symbol.toStringTag;var rF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hN]="BlobDownloadBuilder",this.promise=null}asStream(){return new tF(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yu(t))return{data:null,error:t};throw t}}};const nF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sF=class extends Ei{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let l;const c=nt(nt({},nb),n);let u=nt(nt({},a.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",a.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),n?.headers&&(u=nt(nt({},u),n.headers));const f=a._removeEmptyFolders(t),p=a._getFinalPath(f),g=await(e=="PUT"?Cm:mn)(a.fetch,`${a.url}/object/${p}`,l,nt({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{path:f,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const l=a._removeEmptyFolders(e),c=a._getFinalPath(l),u=new URL(a.url+`/object/upload/sign/${c}`);return u.searchParams.set("token",t),a.handleOperation(async()=>{let h;const f=nt({upsert:nb.upsert},n),p=nt(nt({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",f.cacheControl)):(h=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:l,fullPath:(await Cm(a.fetch,u.toString(),h,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=nt({},r.headers);t?.upsert&&(a["x-upsert"]="true");const l=await mn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(r.url+l.url),u=c.searchParams.get("token");if(!u)throw new Gu("No token returned by API");return{signedUrl:c.toString(),path:e,token:u}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await mn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await mn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),l=await mn(n.fetch,`${n.url}/object/sign/${a}`,nt({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${l.signedURL}${c}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await mn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(c=>nt(nt({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${l}`):null}))})}download(e,t,r){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),u=()=>Wa(this.fetch,`${this.url}/${n}/${c}${l}`,{headers:this.headers,noResolveJson:!0},r);return new rF(u,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>_m(await Wa(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await eF(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yu(n)&&n instanceof uN){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const l=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Xp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=nt(nt(nt({},nF),t),{},{prefix:e||""});return await mn(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=nt({},e);return await mn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const oF="2.95.3",ul={"X-Client-Info":`storage-js/${oF}`};var iF=class extends Ei{constructor(e,t={},r,n){const a=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const l=a.href.replace(/\/$/,""),c=nt(nt({},ul),t);super(l,c,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Wa(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Wa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await mn(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Cm(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await mn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},aF=class extends Ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nt(nt({},ul),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await mn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Wa(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!KB(e))throw new Gu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new qB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(a,u),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}}}})}},lF=class extends Ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nt(nt({},ul),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Ur.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Ur.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},cF=class extends Ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nt(nt({},ul),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},uF=class extends Ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nt(nt({},ul),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ur.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},dF=class extends uF{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new hF(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},hF=class extends lF{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new fF(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},fF=class extends cF{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},mF=class extends iF{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sF(this.url,this.headers,e,this.fetch)}get vectors(){return new dF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aF(this.url+"/iceberg",this.headers,this.fetch)}};const fN="2.95.3",ei=30*1e3,Em=3,jf=Em*ei,pF="http://localhost:9999",gF="supabase.auth.token",yF={"X-Client-Info":`gotrue-js/${fN}`},Tm="X-Supabase-Api-Version",mN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xF=600*1e3;class Ka extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bF extends Ka{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wF(e){return qe(e)&&e.name==="AuthApiError"}class oo extends Ka{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class rs extends Ka{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Br extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _f(e){return qe(e)&&e.name==="AuthSessionMissingError"}class Ko extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rc extends rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ic extends rs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SF(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class sb extends rs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kF extends rs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pm extends rs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cf(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class ob extends rs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Am extends rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ib=` 	
\r=`.split(""),NF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ib.length;t+=1)e[ib[t].charCodeAt(0)]=-2;for(let t=0;t<mu.length;t+=1)e[mu[t].charCodeAt(0)]=t;return e})();function ab(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mu[n]),t.queuedBits-=6}}function pN(e,t,r){const n=NF[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lb(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{CF(c,n,r)};for(let c=0;c<e.length;c+=1)pN(e.charCodeAt(c),a,l);return t.join("")}function jF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _F(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}jF(n,t)}}function CF(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function mi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)pN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function EF(e){const t=[];return _F(e,r=>t.push(r)),new Uint8Array(t)}function lo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>ab(a,r,n)),ab(null,r,n),t.join("")}function TF(e){return Math.round(Date.now()/1e3)+e}function PF(){return Symbol("auth-callback")}const dr=()=>typeof window<"u"&&typeof document<"u",eo={tested:!1,writable:!1},gN=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eo.tested)return eo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eo.tested=!0,eo.writable=!0}catch{eo.tested=!0,eo.writable=!1}return eo.writable};function AF(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const yN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ti=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},to=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ur=async(e,t)=>{await e.removeItem(t)};class Xu{constructor(){this.promise=new Xu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xu.promiseConstructor=Promise;function Dc(e){const t=e.split(".");if(t.length!==3)throw new Am("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vF.test(t[n]))throw new Am("JWT not in base64url format");return{header:JSON.parse(lb(t[0])),payload:JSON.parse(lb(t[1])),signature:mi(t[2]),raw:{header:t[0],payload:t[1]}}}async function IF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DF(e,t){return new Promise((n,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){n(c);return}}catch(c){if(!t(l,c)){a(c);return}}})()})}function OF(e){return("0"+e.toString(16)).substr(-2)}function MF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,OF).join("")}async function LF(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function BF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LF(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Go(e,t,r=!1){const n=MF();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ti(e,`${t}-code-verifier`,a);const l=await BF(n);return[l,n===l?"plain":"s256"]}const FF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UF(e){const t=e.headers.get(Tm);if(!t||!t.match(FF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $F(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yo(e){if(!VF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ef(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qF(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function cb(e){return JSON.parse(JSON.stringify(e))}const no=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HF=[502,503,504];async function ub(e){var t;if(!RF(e))throw new Pm(no(e),0);if(HF.includes(e.status))throw new Pm(no(e),e.status);let r;try{r=await e.json()}catch(l){throw new oo(no(l),l)}let n;const a=UF(e);if(a&&a.getTime()>=mN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ob(no(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Br}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new ob(no(r),e.status,r.weak_password.reasons);throw new bF(no(r),e.status||500,n)}const WF=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function tt(e,t,r,n){var a;const l=Object.assign({},n?.headers);l[Tm]||(l[Tm]=mN["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await KF(e,t,r+u,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function KF(e,t,r,n,a,l){const c=WF(t,n,a,l);let u;try{u=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new Pm(no(h),0)}if(u.ok||await ub(u),n?.noResolveJson)return u;try{return await u.json()}catch(h){await ub(h)}}function dn(e){var t;let r=null;XF(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TF(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function db(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GF(e){return{data:e,error:null}}function YF(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:l}=e,c=_i(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:l},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function hb(e){return e}function XF(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tf=["global","local","others"];class JF{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=yN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Tf[0]){if(Tf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tf.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cs})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_i(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:YF,redirectTo:r?.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cs})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,l,c,u,h;try{const f={nextPage:null,lastPage:0,total:0},p=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:hb});if(p.error)throw p.error;const g=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=N}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(qe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Yo(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cs})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yo(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cs})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yo(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cs})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yo(t.userId);try{const{data:r,error:n}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yo(t.userId),Yo(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,l,c,u,h;try{const f={nextPage:null,lastPage:0,total:0},p=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:hb});if(p.error)throw p.error;const g=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=N}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(qe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function fb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xo={debug:!!(globalThis&&gN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QF extends vN{}async function ZF(e,t,r){Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function e3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function t3(e){return parseInt(e,16)}function r3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function n3(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:u,requestId:h,resources:f,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=xN(e.address),S=p?`${p}://${n}`:n,N=e.statement?`${e.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${b}

${N}`;let j=`URI: ${g}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),h&&(j+=`
Request ID: ${h}`),f){let E=`
Resources:`;for(const _ of f){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);E+=`
- ${_}`}j+=E}return`${k}
${j}`}class Yt extends Error{constructor({message:t,code:r,cause:n,name:a}){var l;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=a??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class pu extends Yt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function s3({error:e,options:t}){var r,n,a;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Yt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(bN(c)){if(l.rp.id!==c)return new Yt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function o3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Yt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(bN(n)){if(r.rpId!==n)return new Yt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class i3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const a3=new i3;function l3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=_i(e,["challenge","user","excludeCredentials"]),l=mi(t).buffer,c=Object.assign(Object.assign({},r),{id:mi(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:l,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const f=n[h];u.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:mi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function c3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=_i(e,["challenge","allowCredentials"]),a=mi(t).buffer,l=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},u),{id:mi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function u3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:lo(new Uint8Array(e.response.attestationObject)),clientDataJSON:lo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lo(new Uint8Array(a.authenticatorData)),clientDataJSON:lo(new Uint8Array(a.clientDataJSON)),signature:lo(new Uint8Array(a.signature)),userHandle:a.userHandle?lo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function mb(){var e,t;return!!(dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function h3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pu("Browser returned unexpected credential type",t)}:{data:null,error:new pu("Empty credential response",t)}}catch(t){return{data:null,error:s3({error:t,options:e})}}}async function f3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pu("Browser returned unexpected credential type",t)}:{data:null,error:new pu("Empty credential response",t)}}catch(t){return{data:null,error:o3({error:t,options:e})}}}const m3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},p3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gu(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))n[l]=c;else if(r(c))n[l]=c;else if(t(c)){const u=n[l];t(u)?n[l]=gu(u,c):n[l]=gu(c)}else n[l]=c}return n}function g3(e,t){return gu(m3,e,t||{})}function y3(e,t){return gu(p3,e,t||{})}class v3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},l){var c;try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:h};const f=a??a3.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const b=(await this.client.getUser()).data.user,S=((c=b?.user_metadata)===null||c===void 0?void 0:c.name)||b?.email||b?.id||"User";p.name=`${p.id}:${S}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=g3(u.webauthn.credential_options.publicKey,l?.create),{data:g,error:v}=await h3({publicKey:p,signal:f});return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=y3(u.webauthn.credential_options.publicKey,l?.request),{data:g,error:v}=await f3(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return qe(u)?{data:null,error:u}:{data:null,error:new oo("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new Ka("rpId is required for WebAuthn authentication")};try{if(!mb())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:l});if(!c)return{data:null,error:u};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return qe(c)?{data:null,error:c}:{data:null,error:new oo("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new Ka("rpId is required for WebAuthn registration")};try{if(!mb())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return qe(c)?{data:null,error:c}:{data:null,error:new oo("Unexpected error in register",c)}}}}e3();const x3={url:pF,storageKey:gF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function pb(e,t,r){return await r()}const Jo={};class Ga{get jwks(){var t,r;return(r=(t=Jo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Jo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},x3),t);if(this.storageKey=l.storageKey,this.instanceID=(r=Ga.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ga.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&dr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new JF({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=yN(l.fetch),this.lock=l.lock||pb,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&dr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=ZF:this.lock=pb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new v3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:gN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fb(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=fb(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(dr()&&(r=AF(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),dr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),SF(l)){const h=(t=l.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?this._returnResult({error:r}):this._returnResult({error:new oo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const l=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:dn}),{data:c,error:u}=l;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,n,a;try{let l;if("email"in t){const{email:p,password:g,options:v}=t;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await Go(this.storage,this.storageKey)),l=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:S},xform:dn})}else if("phone"in t){const{phone:p,password:g,options:v}=t;l=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:dn})}else throw new Rc("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return await ur(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(await ur(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:u}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:db})}else if("phone"in t){const{phone:l,password:c,options:u}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:db})}else throw new Rc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const l=new Ko;return this._returnResult({data:{user:null,session:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,l,c,u,h,f,p,g,v;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:N,wallet:k,statement:j,options:E}=t;let _;if(dr())if(typeof k=="object")_=k;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")_=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=k}const A=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),I=await _.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=xN(I[0]);let M=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const V=await _.request({method:"eth_chainId"});M=t3(V)}const H={domain:A.host,address:B,statement:j,uri:A.href,version:"1",chainId:M,nonce:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=n3(H),S=await _.request({method:"personal_sign",params:[r3(b),B]})}try{const{data:N,error:k}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:dn});if(k)throw k;if(!N||!N.session||!N.user){const j=new Ko;return this._returnResult({data:{user:null,session:null},error:j})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(qe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var r,n,a,l,c,u,h,f,p,g,v,b;let S,N;if("message"in t)S=t.message,N=t.signature;else{const{chain:k,wallet:j,statement:E,options:_}=t;let A;if(dr())if(typeof j=="object")A=j;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))A=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=j}const I=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const B=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),E?{statement:E}:null));let M;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")M=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)M=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),N=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${I.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(a=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=_?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((h=_?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((f=_?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((g=(p=_?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",..._.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const B=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=B}}try{const{data:k,error:j}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:lo(N)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:dn});if(j)throw j;if(!k||!k.session||!k.user){const E=new Ko;return this._returnResult({data:{user:null,session:null},error:E})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:j})}catch(k){if(qe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new kF;const{data:l,error:c}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dn});if(await ur(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const u=new Ko;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await ur(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:l,nonce:c}=t,u=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:dn}),{data:h,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const p=new Ko;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,l,c;try{if("email"in t){const{email:u,options:h}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Go(this.storage,this.storageKey));const{error:g}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:h}=t,{data:f,error:p}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Rc("You must provide either an email or phone number.")}catch(u){if(await ur(this.storage,`${this.storageKey}-code-verifier`),qe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,l;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:dn});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,l,c;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Go(this.storage,this.storageKey));const f=await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:GF});return!((l=f.data)===null||l===void 0)&&l.url&&dr()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await ur(this.storage,`${this.storageKey}-code-verifier`),qe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Br;const{error:a}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:l}=t,{error:c}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:a,options:l}=t,{data:c,error:u}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Rc("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await to(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Ef()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=qF(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cs}):await this._useSession(async r=>{var n,a,l;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Br}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Cs})})}catch(r){if(qe(r))return _f(r)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:l}=n;if(l)throw l;if(!a.session)throw new Br;const c=a.session;let u=null,h=null;this.flowType==="pkce"&&t.email!=null&&([u,h]=await Go(this.storage,this.storageKey));const{data:f,error:p}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:Cs});if(p)throw p;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await ur(this.storage,`${this.storageKey}-code-verifier`),qe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Br;const r=Date.now()/1e3;let n=r,a=!0,l=null;const{payload:c}=Dc(t.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(t.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Br;const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!dr())throw new Ic("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ic(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sb("No code detected.");const{data:E,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:u,expires_at:h,token_type:f}=t;if(!l||!u||!c||!f)throw new Ic("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;h&&(v=parseInt(h));const b=v-p;b*1e3<=ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const S=v-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:N,error:k}=await this._getUser(l);if(k)throw k;const j={provider_token:n,provider_refresh_token:a,access_token:l,expires_in:g,expires_at:v,refresh_token:c,token_type:f,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(qe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:l}=r;if(l&&!_f(l))return this._returnResult({error:l});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(wF(u)&&(u.status===404||u.status===401||u.status===403)||_f(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=PF(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Go(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await ur(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async l=>{var c,u,h,f,p;const{data:g,error:v}=l;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(qe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:c,provider:u,token:h,access_token:f,nonce:p}=t,g=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:h,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:dn}),{data:v,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ko}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:l,error:c}=r;if(c)throw c;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DF(async a=>(a>0&&await IF(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Cf(l)&&Date.now()+c-n<ei})}catch(n){if(this._debug(r,"error",n),qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await to(this.storage,this.storageKey);if(a&&this.userStorage){let c=await to(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ti(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:Ef()}else if(a&&!a.user&&!a.user){const c=await to(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await ur(this.storage,this.storageKey+"-user"),await ti(this.storage,this.storageKey,a)):a.user=Ef()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jf;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${jf}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Cf(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Xu;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new Br;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={data:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(a,"error",l),qe(l)){const c={data:null,error:l};return Cf(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ur(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ti(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=cb(a);await ti(this.storage,this.storageKey,l)}else{const a=cb(r);await ti(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ur(this.storage,this.storageKey),await ur(this.storage,this.storageKey+"-code-verifier"),await ur(this.storage,this.storageKey+"-user"),this.userStorage&&await ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ei);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ei}ms, refresh threshold is ${Em} ticks`),a<=Em&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await Go(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);a.push(l.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:f}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?u3(t.webauthn.credential_response):d3(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:h}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:l3(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:c3(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,l;if(t)try{const{payload:b}=Dc(t);let S=null;b.aal&&(S=b.aal);let N=S;const{data:{user:k},error:j}=await this.getUser(t);if(j)return this._returnResult({data:null,error:j});((n=(r=k?.factors)===null||r===void 0?void 0:r.filter(A=>A.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(N="aal2");const _=b.amr||[];return{data:{currentLevel:S,nextLevel:N,currentAuthenticationMethods:_},error:null}}catch(b){if(qe(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:c},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Dc(c.access_token);let f=null;h.aal&&(f=h.aal);let p=f;((l=(a=c.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const v=h.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Br})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Br});const c=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&dr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Br});const c=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&dr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await tt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Br})})}catch(t){if(qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await tt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Br})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+xF>a)return n;const{data:l,error:c}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,n=l.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});n=b.session.access_token}const{header:a,payload:l,signature:c,raw:{header:u,payload:h}}=Dc(n);r?.allowExpired||$F(l.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:l,header:a,signature:c},error:null}}const p=zF(a.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,c,EF(`${u}.${h}`)))throw new Am("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}}Ga.nextInstanceID={};const b3=Ga,w3="2.95.3";let va="";typeof Deno<"u"?va="deno":typeof document<"u"?va="web":typeof navigator<"u"&&navigator.product==="ReactNative"?va="react-native":va="node";const S3={"X-Client-Info":`supabase-js-${va}/${w3}`},k3={headers:S3},N3={schema:"public"},j3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_3={};function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function C3(e,t){if(Ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E3(e){var t=C3(e,"string");return Ya(t)=="symbol"?t:t+""}function T3(e,t,r){return(t=E3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){T3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const P3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),A3=()=>Headers,R3=(e,t,r)=>{const n=P3(r),a=A3();return async(l,c)=>{var u;const h=(u=await t())!==null&&u!==void 0?u:e;let f=new a(c?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),n(l,zt(zt({},c),{},{headers:f}))}};function I3(e){return e.endsWith("/")?e:e+"/"}function D3(e,t){var r,n;const{db:a,auth:l,realtime:c,global:u}=e,{db:h,auth:f,realtime:p,global:g}=t,v={db:zt(zt({},h),a),auth:zt(zt({},f),l),realtime:zt(zt({},p),c),storage:{},global:zt(zt(zt({},g),u),{},{headers:zt(zt({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function O3(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var M3=class extends b3{constructor(e){super(e)}},L3=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const l=O3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:N3,realtime:_3,auth:zt(zt({},j3),{},{storageKey:c}),global:k3},h=D3(r??{},u);if(this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=R3(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(zt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new wB(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new mF(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new fB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:l,flowType:c,lock:u,debug:h,throwOnError:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M3({url:this.authUrl.href,headers:zt(zt({},v),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:c,lock:u,debug:h,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BB(this.realtimeUrl.href,zt(zt({},e),{},{params:zt(zt({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const B3=(e,t,r)=>new L3(e,t,r);function F3(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}F3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yb={},wN=yb?.VITE_SUPABASE_URL!==void 0&&yb?.VITE_SUPABASE_URL!=="";let Ts,ja,Xa;if(wN){if(Ts=void 0,ja=void 0,!Ts||!ja){const e="FATAL: Missing Supabase environment variables. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in Netlify.";throw console.error(e),new Error(e)}Xa=Ts.match(/https:\/\/([^.]+)\.supabase\.co/)?.[1]||"",console.log(" Supabase (Production Mode - Using Environment Variables)")}else Ts=`https://${dt}.supabase.co`,ja=mt,Xa=dt,console.log(" Supabase (Development Mode - Using Figma Make)");const Ke=B3(Ts,ja,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"bardak-auth-token"}}),Pf={url:Ts,projectId:Xa};typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname.includes("figma")||window.location.hostname.includes("preview"))&&console.log(" [Supabase Client] Connected:",{url:`${Ts.slice(0,15)}...${Ts.slice(-15)}`,projectId:Xa,isCorrectProject:Xa==="gxethvdtqpqtfibpznub",mode:wN?"production":"development",keyPrefix:ja.slice(0,15)+"...",authConfig:"persistSession: true, autoRefreshToken: true"});function U3({onClose:e,onPaymentSuccess:t,mode:r="settings"}){const{t:n,setLanguage:a}=yt(),[l,c]=y.useState(null),[u,h]=y.useState(!1),[f,p]=y.useState(!1),g=[{id:"1-month",name:n("subscription.oneMonth"),duration:1,totalPrice:99990,monthlyPrice:99990,description:n("subscription.shortTerm"),popular:!1},{id:"1-year",name:n("subscription.oneYear"),duration:12,totalPrice:959990,monthlyPrice:79999,description:n("subscription.longTerm"),savings:599900,popular:!0},{id:"6-months",name:n("subscription.sixMonths"),duration:6,totalPrice:539990,monthlyPrice:89998,description:n("subscription.bestValue"),savings:18e4,popular:!1}],v=k=>new Intl.NumberFormat("uz-UZ").format(k),b=async()=>{const k={id:"trial-2-months",name:n("subscription.threeMonthTrial"),duration:2,totalPrice:0,monthlyPrice:0,description:n("subscription.trialSubtitle"),popular:!0};if(r==="signup")t(k),K.success(n("subscription.freeTrialActive"));else try{const{data:{session:j}}=await Ke.auth.getSession();if(!j)throw new Error("No session");const E=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/subscription/trial`,{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`}}),_=await E.json();if(!E.ok){if(_.code==="TRIAL_ALREADY_USED")K.error(n("subscription.trialAlreadyUsed")||"Trial already used");else throw new Error(_.error||"Failed to start trial");return}K.success(n("subscription.freeTrialActive")),t(k)}catch(j){console.error("Trial activation error:",j),K.error(j.message||n("subscription.paymentFailed"))}},S=k=>{c(k),h(!0)},N=async k=>{if(l){p(!0);try{if(await new Promise(j=>setTimeout(j,1e3)),r==="signup"){t(l),h(!1);const j=k==="payme"?"https://payme.uz":"https://click.uz";window.open(j,"_blank"),K.success(n("subscription.redirectingToPayment"))}else{const{data:{session:j}}=await Ke.auth.getSession();if(!j)throw new Error("No session");if(l.id==="trial-3-months"){const _=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/subscription/trial`,{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`}}),A=await _.json();if(!_.ok){if(A.code==="TRIAL_ALREADY_USED")K.error(n("subscription.trialAlreadyUsed")||"Trial already used");else throw new Error(A.error||"Failed to start trial");return}K.success(n("subscription.freeTrialActive"))}else{if(!(await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/profile`,{method:"PUT",headers:{Authorization:`Bearer ${j.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({subscriptionStatus:"active",subscriptionPlan:l.id,subscriptionStartDate:new Date().toISOString(),subscriptionExpiryDate:new Date(Date.now()+l.duration*30*24*60*60*1e3).toISOString()})})).ok)throw new Error("Failed to update subscription");K.success(`${n("subscription.paymentSuccess")}! ${v(l.totalPrice)} UZS.`)}t(l),h(!1);const E=k==="payme"?"https://payme.uz":"https://click.uz";window.open(E,"_blank")}}catch(j){console.error("Payment error:",j),K.error(j.message||n("subscription.paymentFailed"))}finally{p(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:o.jsx("div",{className:"min-h-screen md:py-12 md:px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto md:pt-0 pt-safe",children:[o.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 md:mb-12 px-4 pt-6 md:pt-0",children:[o.jsx("div",{className:"absolute top-4 md:top-6 left-4 md:left-6 z-20",children:o.jsxs(nN,{children:[o.jsx(Gp,{className:"rounded-full w-10 h-10 flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500",children:o.jsx(nu,{className:"w-5 h-5"})}),o.jsxs(sN,{align:"start",className:"bg-white border-gray-200",children:[o.jsx(Wc,{onClick:()=>a("uz"),className:"cursor-pointer",children:" O'zbekcha"}),o.jsx(Wc,{onClick:()=>a("ru"),className:"cursor-pointer",children:" "}),o.jsx(Wc,{onClick:()=>a("en"),className:"cursor-pointer",children:" English"})]})]})}),o.jsx(pe,{variant:"ghost",onClick:e,className:"absolute top-4 md:top-6 right-4 md:right-6 text-gray-600 hover:text-gray-900 hover:bg-gray-100 w-10 h-10 md:w-auto md:h-auto rounded-full",children:o.jsx(Ut,{className:"w-5 h-5 md:w-6 md:h-6"})}),o.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-full bg-blue-100 mb-3 md:mb-6 shadow-lg shadow-blue-200/50",children:o.jsx(su,{className:"w-6 h-6 md:w-8 md:h-8 text-blue-500"})}),o.jsx("h1",{className:"text-gray-900 mb-2 md:mb-4 text-xl md:text-3xl font-semibold",children:n("subscription.chooseYourPlan")}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm md:text-base hidden md:block",children:n("subscription.planDescription")})]}),o.jsx("div",{className:"mb-6 md:mb-8 px-4",children:o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-2xl border border-gray-100 bg-gradient-to-br from-gray-50 via-white to-gray-50 p-6 shadow-lg md:p-8",children:[o.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-between gap-6 md:flex-row",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-900",children:n("subscription.threeMonthTrial")}),o.jsx("p",{className:"max-w-xl text-gray-600",children:n("subscription.trialSubtitle")})]}),o.jsx(pe,{onClick:b,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 px-6 py-4 text-sm font-medium text-white shadow-lg hover:from-emerald-700 hover:to-blue-700 md:w-auto text-[12px]",children:n("subscription.startFreeTrial")})]}),o.jsx("div",{className:"absolute right-0 top-0 -z-10 h-full w-1/3 bg-gradient-to-l from-gray-100/40 to-transparent blur-3xl"})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-8 mb-6 md:mb-12 px-4",children:g.map((k,j)=>o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"relative",children:[k.popular&&o.jsx("div",{className:"absolute -top-3 md:-top-4 left-1/2 -translate-x-1/2 z-10",children:o.jsxs(Jt,{className:"bg-gradient-to-r from-blue-500 to-emerald-500 text-white border-0 px-3 md:px-4 py-1 md:py-1.5 shadow-lg text-xs",children:[o.jsx(su,{className:"w-3 h-3 mr-1"}),n("subscription.mostPopular")]})}),o.jsxs(St,{className:`relative overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl hidden md:block bg-white ${k.popular?"border-2 border-emerald-400 shadow-xl shadow-emerald-200/50":"border border-gray-200 shadow-md hover:border-emerald-300"}`,children:[k.popular&&o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-300/30 to-blue-300/30 blur-3xl"}),o.jsxs(zr,{className:"text-center pb-8 relative",children:[o.jsx(Dn,{className:"text-2xl text-gray-900 mb-2",children:k.name}),o.jsx(kp,{className:"text-gray-600",children:k.description})]}),o.jsxs(kt,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center py-6 border-y border-gray-200",children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"text-4xl font-bold text-gray-900",children:v(k.monthlyPrice)}),o.jsxs("span",{className:"text-gray-600 ml-2",children:["UZS/",n("subscription.month")]})]}),k.duration>1&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[v(k.totalPrice)," UZS ",n("subscription.total")]}),k.savings&&o.jsxs("div",{className:"text-xs text-emerald-600 font-medium",children:[n("subscription.save")," ",v(k.savings)," UZS"]})]}),k.duration===1&&o.jsxs("div",{className:"text-sm text-gray-600",children:[v(k.totalPrice)," UZS ",n("subscription.total")]})]}),o.jsx(pe,{onClick:()=>S(k),className:`w-full py-6 text-lg ${k.popular?"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 shadow-lg shadow-emerald-500/25 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:n("subscription.subscribe")})]})]}),o.jsxs(St,{className:`relative overflow-hidden md:hidden bg-white ${k.popular?"border-2 border-emerald-400 shadow-lg shadow-emerald-200/50":"border border-gray-200 shadow-md"}`,children:[k.popular&&o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-emerald-300/30 to-blue-300/30 blur-3xl"}),o.jsx(kt,{className:"p-3 relative",children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-gray-900 font-medium text-sm mb-0.5",children:k.name}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:v(k.monthlyPrice)}),o.jsxs("span",{className:"text-xs text-gray-600",children:["UZS/",n("subscription.month")]})]}),k.duration>1&&o.jsxs("div",{className:"text-xs text-gray-600",children:[v(k.totalPrice)," UZS ",n("subscription.total")]}),k.duration===1&&o.jsxs("div",{className:"text-xs text-gray-600",children:[v(k.totalPrice)," UZS ",n("subscription.total")]})]})]}),o.jsx("div",{className:"flex flex-col gap-1.5 flex-shrink-0",children:o.jsx(pe,{onClick:()=>S(k),size:"sm",className:`min-w-[80px] w-auto h-8 text-xs px-3 whitespace-nowrap flex-shrink-0 ${k.popular?"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white":"bg-gray-200 hover:bg-gray-300 text-white"}`,children:n("subscription.subscribe")})})]})})]})]},k.id))}),o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"max-w-4xl mx-auto hidden md:block",children:o.jsx(St,{className:"bg-white border border-gray-200 shadow-md",children:o.jsx(kt,{className:"p-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-emerald-100 mb-4",children:o.jsx(bp,{className:"w-6 h-6 text-emerald-600"})}),o.jsx("h3",{className:"text-gray-900 mb-2",children:n("subscription.securePayment")}),o.jsx("p",{className:"text-sm text-gray-600",children:n("subscription.securePaymentDesc")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 mb-4",children:o.jsx(vS,{className:"w-6 h-6 text-blue-600"})}),o.jsx("h3",{className:"text-gray-900 mb-2",children:n("subscription.instantActivation")}),o.jsx("p",{className:"text-sm text-gray-600",children:n("subscription.instantActivationDesc")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 mb-4",children:o.jsx(Gn,{className:"w-6 h-6 text-purple-600"})}),o.jsx("h3",{className:"text-gray-900 mb-2",children:n("subscription.flexiblePayment")}),o.jsx("p",{className:"text-sm text-gray-600",children:n("subscription.flexiblePaymentDesc")})]})]})})})}),o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-6 md:mt-12 text-center px-4 pb-safe",children:o.jsxs("p",{className:"text-gray-600 text-xs md:text-sm",children:[n("subscription.questions")," ",o.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 underline",children:n("subscription.contactSupport")})]})})]})})}),o.jsx(jt,{children:u&&l&&o.jsx(La,{open:u,onOpenChange:h,children:o.jsxs(yi,{className:"sm:max-w-[500px] bg-white border-gray-200",children:[o.jsxs(Ba,{className:"mb-6",children:[o.jsxs(Fa,{className:"text-2xl text-gray-900 flex items-center gap-2",children:[o.jsx(Gn,{className:"w-6 h-6 text-blue-400"}),n("subscription.selectPaymentMethod")]}),o.jsx(Ua,{className:"text-gray-600",children:n("subscription.choosePaymentMethod")})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-700 shrink-0",children:n("subscription.plan")}),o.jsx("span",{className:"text-sm font-medium text-gray-900 text-right break-words",children:l.name})]}),o.jsxs("div",{className:"flex justify-between items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-700 shrink-0",children:n("subscription.totalAmount")}),o.jsxs("span",{className:"text-lg font-bold text-gray-900 text-right whitespace-nowrap text-[12px]",children:[v(l.totalPrice)," UZS"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(pe,{type:"button",onClick:()=>N("payme"),disabled:f,className:"w-full h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg disabled:opacity-50 flex items-center justify-between px-6",children:[o.jsxs("span",{className:"flex items-center gap-3",children:[o.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:"Payme"}),o.jsx("div",{className:"text-xs opacity-90",children:n("subscription.payWithPayme")})]})]}),o.jsx(lx,{className:"w-5 h-5"})]}),o.jsxs(pe,{type:"button",onClick:()=>N("click"),disabled:f,className:"w-full h-16 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white shadow-lg disabled:opacity-50 flex items-center justify-between px-6",children:[o.jsxs("span",{className:"flex items-center gap-3",children:[o.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:"Click"}),o.jsx("div",{className:"text-xs opacity-90",children:n("subscription.payWithClick")})]})]}),o.jsx(lx,{className:"w-5 h-5"})]})]}),o.jsx(pe,{type:"button",variant:"outline",onClick:()=>h(!1),disabled:f,className:"w-full border-gray-300 text-gray-700 hover:bg-gray-100 h-12",children:n("common.cancel")})]})]})})})]})}function vb({isOpen:e,onClose:t,onAgree:r,mode:n="terms"}){const{t:a}=yt(),[l,c]=y.useState(!1),u=y.useRef(null);y.useEffect(()=>(e?(c(!1),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]);const h=()=>{if(u.current){const{scrollTop:v,scrollHeight:b,clientHeight:S}=u.current,N=v+S>=b-10;c(N)}},f=()=>{r&&r(),t()},g=Array.from({length:n==="terms"?5:4},(v,b)=>b+1);return o.jsx(jt,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100]"}),o.jsxs(ee.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-4 sm:inset-8 md:inset-16 bg-white rounded-3xl shadow-2xl z-[101] flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a(`${n}.title`)}),o.jsx("button",{onClick:t,className:"p-2 rounded-xl hover:bg-white/80 transition-colors","aria-label":"Close",children:o.jsx(Ut,{className:"w-6 h-6 text-gray-600"})})]})}),o.jsx("div",{ref:u,onScroll:h,className:"flex-1 overflow-y-auto px-6 py-6 sm:px-8 sm:py-8",style:{overscrollBehavior:"contain"},children:o.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 text-gray-700",children:[n==="terms"&&o.jsx("p",{className:"leading-relaxed font-medium text-gray-900",children:a("terms.intro")}),g.map(v=>o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:a(`${n}.section${v}Title`)}),o.jsx("p",{className:"leading-relaxed",children:a(`${n}.section${v}Content`)})]},v)),n==="terms"&&o.jsx("section",{className:"pt-4 border-t border-gray-200",children:o.jsx("p",{className:"text-sm text-gray-600 italic",children:a("terms.lastUpdated")})}),!l&&n==="terms"&&o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed bottom-24 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-[rgb(54,108,255)] pointer-events-none",children:[o.jsx("span",{className:"text-sm font-medium",children:a("terms.scrollToBottom")}),o.jsx(ee.div,{animate:{y:[0,8,0]},transition:{duration:1.5,repeat:1/0},children:o.jsx(yo,{className:"w-6 h-6"})})]})]})}),o.jsx("div",{className:"flex-shrink-0 px-6 py-5 border-t border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx(pe,{onClick:t,variant:"outline",size:"lg",className:r?"flex-1 sm:flex-none":"w-full sm:w-auto",children:a("common.close")}),r&&o.jsx(pe,{onClick:f,disabled:!l&&n==="terms",size:"lg",className:"flex-1 sm:flex-none sm:w-auto min-h-[52px] h-auto py-3 px-3 sm:px-6 bg-gradient-to-r from-[rgb(54,108,255)] to-[rgb(91,140,255)] hover:from-[rgb(54,108,255)]/90 hover:to-[rgb(91,140,255)]/90 disabled:opacity-40 disabled:cursor-not-allowed transition-all text-sm sm:text-base font-medium whitespace-normal leading-tight",children:a("terms.agreeAndContinue")})]})})]})]})})}const SN={:{uz:"Yunusobod",en:"Yunusobod",ru:""},:{uz:"Chilonzor",en:"Chilonzor",ru:""}," ":{uz:"Mirzo Ulug'bek",en:"Mirzo Ulugbek",ru:" "},:{uz:"Sergeli",en:"Sergeli",ru:""},:{uz:"Yakkasaroy",en:"Yakkasaray",ru:""},:{uz:"Shayxontohur",en:"Shaykhontohur",ru:""},:{uz:"Uchtepa",en:"Uchtepa",ru:""},:{uz:"Bektemir",en:"Bektemir",ru:""},:{uz:"Yashnobod",en:"Yashnobod",ru:""},:{uz:"Olmazor",en:"Olmazor",ru:""},:{uz:"Mirobod",en:"Mirobod",ru:""}},Jp=()=>Object.keys(SN),Ju=(e,t)=>{const r=SN[e];return r?r[t]:e};function $3({onSignUp:e,onNavigateToLogin:t}){const{t:r,language:n}=yt(),[a,l]=y.useState(()=>{const P=localStorage.getItem("bardak_signup_role");return P==="barber"||P==="customer"?P:"customer"});y.useEffect(()=>{localStorage.setItem("bardak_signup_role",a)},[a]);const[c,u]=y.useState({fullName:"",phone:"+998 ",password:"",confirmPassword:"",barbershopName:"",workingDistrict:"",languages:[],bio:"",profileImage:""}),[h,f]=y.useState({}),[p,g]=y.useState(!1),[v,b]=y.useState(!1),[S,N]=y.useState(""),[k,j]=y.useState(!1),[E,_]=y.useState(!1),[A,I]=y.useState(!1),[B,M]=y.useState(!1),[H,V]=y.useState(!1),X=y.useRef(null),Z=Jp(),Q=["Uzbek","Russian","English"],ue=P=>({Uzbek:r("searchFilters.uzbek"),Russian:r("searchFilters.russian"),English:r("searchFilters.english")})[P]||P,fe=P=>{const L=P.replace(/\s/g,"");return L.startsWith("+998")&&L.length===13},be=P=>{let L=P.target.value;L.startsWith("+998")||(L="+998 ");const D=L.replace(/[^\d+\s]/g,"");if(D.length>4){const q=D.slice(4).replace(/\s/g,"");let F="+998 ";q.length>0&&(F+=q.slice(0,2)),q.length>2&&(F+=" "+q.slice(2,5)),q.length>5&&(F+=" "+q.slice(5,7)),q.length>7&&(F+=" "+q.slice(7,9)),u({...c,phone:F})}else u({...c,phone:"+998 "})},ie=()=>{const P={};return c.fullName.trim()||(P.fullName="Please fill out this field"),!c.phone.trim()||c.phone==="+998 "?P.phone="Please fill out this field":fe(c.phone)||(P.phone="Invalid phone number format"),(!c.password||c.password.length<6)&&(P.password=r("auth.passwordMinLength")),c.password!==c.confirmPassword&&(P.confirmPassword=r("auth.passwordsDontMatch")),a==="barber"&&(c.workingDistrict||(P.workingDistrict="Please select a district"),c.languages.length===0&&(P.languages="Please select at least one language")),f(P),Object.keys(P).length===0},le=P=>{const L=P.target.files?.[0];if(L){if(L.size>2*1024*1024){K.error(r("toast.imageSizeError")||"Image too large.");return}if(!L.type.startsWith("image/")){K.error(r("toast.imageTypeError"));return}const D=new FileReader;D.onloadend=()=>{const q=D.result;N(q),u({...c,profileImage:q})},D.readAsDataURL(L)}},G=P=>{u(L=>({...L,languages:L.languages.includes(P)?L.languages.filter(D=>D!==P):[...L.languages,P]}))},U=P=>{if(P.preventDefault(),!A){f(L=>({...L,terms:r("auth.mustAcceptTerms")})),K.error(r("auth.mustAcceptTerms"));return}if(!ie()){K.error(r("toast.fixFormErrors"));return}a==="barber"?b(!0):T()},R=P=>{b(!1),T(P)},T=async P=>{try{console.log("CUSTOMER SIGNUP START",{phone:c.phone.replace(/\s/g,""),fullName:c.fullName,role:a});const L=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`},body:JSON.stringify({phone:c.phone.replace(/\s/g,""),password:c.password,fullName:c.fullName,role:a,barbershopName:a==="barber"?c.barbershopName:void 0,workingDistrict:a==="barber"?c.workingDistrict:void 0,languages:a==="barber"?c.languages:void 0,subscriptionPlan:P?.id||(a==="barber"?"free_trial":void 0)})}),D=await L.json();if(console.log("SIGNUP API RESPONSE",{status:L.status,data:D}),!L.ok){const F=D.error||"Registration failed";if(console.error("CUSTOMER SIGNUP FAILED",{status:L.status,error:F,details:D.details}),F.includes("already registered")||F.includes("Phone number already")){K.error(r("auth.userAlreadyExists")||"This phone number is already registered. Please login.");return}if(F.includes("Failed to create barber profile"))K.error("Failed to create barber profile. Please try again.");else if(a==="customer"){const $={en:"Sign up failed. Please try again.",ru:" .   .",uz:"Ro'yxatdan o'tishda xatolik. Qaytadan urinib ko'ring."};K.error($[r("currentLang")]||$.en)}else K.error(F);return}if(console.log(" Signup successful:",D),localStorage.getItem("pendingBooking")&&a==="customer"){console.log("[SIGNUP] Pending booking detected, auto-logging in to complete booking...");try{const F=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/auth/login`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`},body:JSON.stringify({phone:c.phone.replace(/\s/g,""),password:c.password})}),$=await F.json();if(F.ok){console.log("[SIGNUP] Auto-login successful, processing pending booking..."),localStorage.setItem("bardak_session_token",$.sessionToken),K.success(r("toast.accountCreated")+" Completing your booking..."),setTimeout(()=>{window.location.reload()},1e3);return}else console.error("[SIGNUP] Auto-login failed after signup:",$),K.error("Account created but login failed. Please login manually.")}catch(F){console.error("[SIGNUP] Auto-login exception:",F),K.error("Account created but login failed. Please login manually.")}}a==="barber"?K.success(r("auth.barberProfileCreated")||"Barber profile created successfully! Please login."):K.success(r("toast.accountCreated")),g(!0),setTimeout(()=>{e(a,D.profile),t()},2e3)}catch(L){if(console.error("CUSTOMER SIGNUP FAILED",L),a==="customer"){const D={en:"Sign up failed. Please try again.",ru:" .   .",uz:"Ro'yxatdan o'tishda xatolik. Qaytadan urinib ko'ring."};K.error(D[r("currentLang")]||D.en)}else K.error(L.message||"Registration failed. Please try again.")}};return p?o.jsxs("div",{className:"flex-1 w-full bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex flex-col items-center p-6 min-h-screen relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-30 -translate-x-1/2 -translate-y-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-indigo-100 rounded-full blur-3xl opacity-30 translate-x-1/2 translate-y-1/2"}),o.jsx("div",{className:"flex-1 flex flex-col items-center justify-center w-full max-w-md z-10 my-auto",children:o.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center w-full",children:[o.jsxs(ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,delay:.2},className:"w-24 h-24 mx-auto mb-8 rounded-full bg-white border-4 border-blue-100 shadow-xl shadow-blue-100/50 flex items-center justify-center relative",children:[o.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-blue-500/10 to-indigo-500/10"}),o.jsx(RA,{className:"w-12 h-12 text-blue-600 relative z-10"})]}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:r(a==="customer"?"auth.welcomeCustomer":"auth.welcomeSoniya")}),o.jsx("p",{className:"text-gray-500 mb-12 max-w-xs mx-auto leading-relaxed",children:r(a==="customer"?"auth.customerAccountCreatedDesc":"auth.barberProfileCreatedDesc")}),o.jsxs("div",{className:"mt-8 text-left space-y-8 w-full border-t border-gray-100 pt-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Bardak"}),o.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:r("footer.description")})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:r("footer.contact")}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsx(im,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"@Humoyun_Z"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsx(im,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"@Fozilbek_Shavkatov"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsx(Yn,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"+998 90 920 55 30"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsx(Yn,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"+998 99 870 17 87"})]})]})]})]}),o.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-100 text-center",children:[o.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[" 2026 Bardak. ",r("footer.allRightsReserved")]}),o.jsx("div",{className:"flex justify-center gap-4",children:o.jsx("a",{href:"#",className:"text-xs text-blue-500 hover:underline",children:r("footer.termsAndConditions")})})]})]})})]}):o.jsxs("div",{className:"flex-1 w-full bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-[rgb(252,253,255)]",children:o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-[rgb(44,44,44)] mb-2 text-[36px] font-normal not-italic font-bold font-[Dela_Gothic_One]",children:r("auth.appName")}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-[16px]",children:r("auth.signUpTitle")})]}),o.jsxs(St,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-[20px]",children:[o.jsxs(zr,{children:[o.jsx(Dn,{className:"text-center text-[20px]",children:r("auth.signUpTitle")}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[o.jsxs(ee.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("customer"),className:`p-3 rounded-[12px] border transition-all duration-300 flex flex-col items-center justify-center gap-2 ${a==="customer"?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20":"border-gray-200 dark:border-gray-700 hover:border-emerald-200 text-gray-600"}`,children:[o.jsx(ho,{className:`w-6 h-6 ${a==="customer"?"text-emerald-600":"text-gray-400"}`}),o.jsx("span",{className:"text-sm font-semibold",children:r("auth.customer")})]}),o.jsxs(ee.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("barber"),className:`p-3 rounded-[12px] border transition-all duration-300 flex flex-col items-center justify-center gap-2 ${a==="barber"?"border-blue-500 bg-blue-50 text-blue-700 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-200 text-gray-600"}`,children:[o.jsx(xp,{className:`w-6 h-6 ${a==="barber"?"text-blue-600":"text-gray-400"}`}),o.jsx("span",{className:"text-sm font-semibold",children:r("auth.barber")})]})]})]}),o.jsxs(kt,{children:[o.jsxs("form",{onSubmit:U,className:"space-y-5",children:[o.jsx(jt,{mode:"wait",children:a==="barber"&&o.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex flex-col items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Oa,{className:"w-24 h-24 ring-4 ring-blue-100",children:[o.jsx(zu,{src:S}),o.jsx(Ma,{children:o.jsx(tu,{className:"w-8 h-8"})})]}),o.jsx("button",{type:"button",onClick:()=>X.current?.click(),className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center shadow-lg transition-all",children:o.jsx(tu,{className:"w-4 h-4"})}),o.jsx("input",{ref:X,type:"file",accept:"image/*",onChange:le,className:"hidden"})]}),o.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>X.current?.click(),className:"gap-2",children:[o.jsx(wp,{className:"w-4 h-4"}),r("auth.uploadPhoto")]})]})}),o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"fullName",children:[r("auth.fullName")," ",r("auth.required")]}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"fullName",value:c.fullName,onChange:P=>u({...c,fullName:P.target.value}),className:`pl-10 ${h.fullName?"border-red-500":""}`,placeholder:r("auth.enterFullName")})]}),h.fullName&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.fullName})]}),o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"phone",children:[r("auth.phone")," ",r("auth.required")]}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"phone",value:c.phone,onChange:be,className:`pl-10 ${h.phone?"border-red-500":""}`,placeholder:r("auth.enterPhone")})]}),h.phone&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.phone})]}),o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"password",children:[r("auth.password")," ",r("auth.required")]}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"password",type:k?"text":"password",value:c.password,onChange:P=>u({...c,password:P.target.value}),className:`pl-10 pr-10 ${h.password?"border-red-500":""}`,placeholder:r("auth.passwordPlaceholder"),minLength:6,required:!0}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>j(!k),"aria-label":k?"Hide password":"Show password",children:k?o.jsx(rm,{className:"w-4 h-4"}):o.jsx(nm,{className:"w-4 h-4"})})]}),h.password&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.password})]}),o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"confirmPassword",children:[r("auth.confirmPassword")," ",r("auth.required")]}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(gt,{id:"confirmPassword",type:E?"text":"password",value:c.confirmPassword,onChange:P=>u({...c,confirmPassword:P.target.value}),className:`pl-10 pr-10 ${h.confirmPassword?"border-red-500":""}`,placeholder:r("auth.confirmPasswordPlaceholder"),minLength:6,required:!0}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>_(!E),"aria-label":E?"Hide password":"Show password",children:E?o.jsx(rm,{className:"w-4 h-4"}):o.jsx(nm,{className:"w-4 h-4"})})]}),h.confirmPassword&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.confirmPassword})]}),o.jsx(jt,{mode:"wait",children:a==="barber"&&o.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-5 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"barbershopName",children:r("auth.barbershopNameOptional")}),o.jsx(gt,{id:"barbershopName",value:c.barbershopName,onChange:P=>u({...c,barbershopName:P.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"workingDistrict",children:r("auth.workingDistrictRequired")}),o.jsxs(F5,{value:c.workingDistrict,onValueChange:P=>u({...c,workingDistrict:P}),children:[o.jsx($5,{className:`mt-1 ${h.workingDistrict?"border-red-500":""}`,children:o.jsx(U5,{placeholder:r("auth.selectDistrict")})}),o.jsx(z5,{children:Z.map(P=>o.jsx(V5,{value:P,children:Ju(P,n)},P))})]}),h.workingDistrict&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.workingDistrict})]}),o.jsxs("div",{children:[o.jsx(Ye,{children:r("auth.languagesSpokenRequired")}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Q.map(P=>o.jsx(Jt,{variant:c.languages.includes(P)?"default":"outline",className:"cursor-pointer",onClick:()=>G(P),children:ue(P)},P))}),h.languages&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.languages})]})]})}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ee.div,{animate:A?{scale:[1,1.2,1]}:{},transition:{duration:.3},children:o.jsx($S,{id:"terms",checked:A,onCheckedChange:P=>{I(P),h.terms&&f(L=>{const D={...L};return delete D.terms,D})},className:`mt-0.5 rounded-md border-2 data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-[rgb(54,108,255)] data-[state=checked]:to-[rgb(91,140,255)] data-[state=checked]:border-[rgb(54,108,255)] ${h.terms?"border-red-500":""}`})}),o.jsxs("div",{className:"text-sm text-gray-700 leading-relaxed",children:[o.jsxs(Ye,{htmlFor:"terms",className:"cursor-pointer inline",children:[r("auth.acceptTermsPrefix")," "]}),o.jsx("button",{type:"button",onClick:P=>{P.preventDefault(),M(!0)},className:"text-[rgb(54,108,255)] hover:text-[rgb(91,140,255)] underline font-medium",children:r("auth.acceptTermsLink")}),o.jsx("span",{className:"mx-1",children:r("auth.acceptTermsSeparator")}),o.jsx("button",{type:"button",onClick:P=>{P.preventDefault(),V(!0)},className:"text-[rgb(54,108,255)] hover:text-[rgb(91,140,255)] underline font-medium",children:r("auth.acceptPrivacyLink")})]})]}),h.terms&&o.jsx(ee.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500 mt-2 ml-8",children:r("auth.mustAcceptTerms")})]}),o.jsx(pe,{type:"submit",disabled:!A,className:"w-full transition-all duration-300 hover:shadow-lg rounded-[8px] text-[15px] bg-[rgb(16,37,58)] h-12 disabled:opacity-50 disabled:cursor-not-allowed",size:"lg",children:r(a==="barber"?"auth.continueToPayment":"common.signup")})]}),o.jsx("div",{className:"mt-6 text-center space-y-3",children:o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r("auth.alreadyHaveAccount")," ",o.jsx(pe,{type:"button",variant:"link",onClick:t,className:"p-0 h-auto text-[rgb(20,117,253)] hover:text-emerald-700",children:r("common.login")})]})})]})]})]})}),o.jsx(jt,{children:v&&o.jsx(U3,{onClose:()=>b(!1),onPaymentSuccess:R,mode:"signup"})}),o.jsx(vb,{isOpen:B,onClose:()=>M(!1),onAgree:()=>{I(!0),h.terms&&f(P=>{const L={...P};return delete L.terms,L})},mode:"terms"}),o.jsx(vb,{isOpen:H,onClose:()=>V(!1),mode:"privacy"})]})}function Rm({variant:e="inline"}){const{language:t,setLanguage:r,t:n}=yt(),a=[{code:"uz",name:"O'zbek",flag:""},{code:"ru",name:"",flag:""},{code:"en",name:"English",flag:""}],l=a.find(c=>c.code===t)||a[0];return e==="dropdown"?o.jsxs(nN,{children:[o.jsx(Gp,{asChild:!0,children:o.jsxs("button",{className:"inline-flex items-center gap-1.5 h-8 px-2.5 bg-white/50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-[8px] hover:bg-white dark:hover:bg-gray-700 transition-all duration-200 backdrop-blur-sm bg-[rgba(255,255,255,0.46)]",children:[o.jsx(nu,{className:"w-3.5 h-3.5 text-gray-600 dark:text-gray-300"}),o.jsx("span",{className:"text-base leading-none text-[rgb(10,30,63)]",children:l.flag}),o.jsx("span",{className:"font-medium text-xs hidden sm:inline",children:l.name}),o.jsx(yo,{className:"w-3 h-3 opacity-50"})]})}),o.jsx(sN,{align:"end",className:"w-44",children:a.map(c=>o.jsxs(Wc,{onClick:()=>r(c.code),className:`cursor-pointer gap-2 ${t===c.code?"bg-blue-50 dark:bg-blue-900/30 text-blue-900 dark:text-blue-100":""}`,children:[o.jsx("span",{className:"text-xl",children:c.flag}),o.jsx("span",{className:"flex-1",children:c.name}),t===c.code&&o.jsx("span",{className:"text-[#5B8CFF] dark:text-blue-400",children:""})]},c.code))})]}):e==="card"?o.jsx(St,{children:o.jsxs(kt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(nu,{className:"w-5 h-5 text-blue-600"}),o.jsx(Ye,{children:n("settings.language")})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(c=>o.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs(Jt,{variant:t===c.code?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm transition-all",onClick:()=>r(c.code),children:[o.jsx("span",{className:"mr-2",children:c.flag}),c.name]})},c.code))})]})}):o.jsxs("div",{children:[o.jsx(Ye,{className:"mb-2 block",children:n("settings.selectLanguage")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(c=>o.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs(Jt,{variant:t===c.code?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm transition-all",onClick:()=>r(c.code),children:[o.jsx("span",{className:"mr-2",children:c.flag}),c.name]})},c.code))})]})}function z3({currentUser:e,onLogout:t,activeTab:r,onTabChange:n}){const{t:a}=yt(),[l,c]=y.useState(!1),u=()=>{c(!0)},h=()=>{c(!1),t()},f=()=>{c(!1)},p=e?e.role==="customer"?[{id:"search",label:a("common.home"),icon:lf},{id:"favorites",label:a("common.favorites"),icon:ru},{id:"home",label:a("common.myAppointments"),icon:Aa},{id:"profile",label:a("common.profile"),icon:ho}]:[{id:"home",label:a("common.home"),icon:lf},{id:"schedule",label:a("barber.schedule"),icon:Aa},{id:"subscription",label:a("subscription.title"),icon:Gn},{id:"edit-profile",label:a("barber.editProfile"),icon:gS}]:[{id:"search",label:a("common.home"),icon:lf},{id:"profile",label:a("common.profile"),icon:ho}];return o.jsxs(o.Fragment,{children:[o.jsx(ee.nav,{initial:{y:-50},animate:{y:0},className:"sticky top-0 z-50 glass backdrop-blur-xl border-b border-primary/10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-1.5 sm:py-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center shadow-lg",children:o.jsx(xp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("span",{className:"text-primary text-lg sm:text-xl font-bold tracking-tight",children:"Bardak"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[p.map(g=>o.jsx(ee.div,{whileHover:{y:-2},whileTap:{scale:.97},children:o.jsxs(pe,{variant:r===g.id?"default":"ghost",onClick:()=>n(g.id),size:"sm",className:`gap-2 transition-all duration-300 h-8 ${r===g.id?"shadow-lg":""}`,children:[o.jsx(g.icon,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:g.label})]})},g.id)),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[o.jsxs("div",{className:"px-2 py-1 rounded-lg bg-secondary/50 border border-primary/10 flex items-center gap-1.5 text-xs text-foreground font-medium shadow-sm",children:[o.jsx(An,{className:"w-3.5 h-3.5 text-primary"}),o.jsx("span",{children:"UTC +5"})]}),o.jsxs("div",{className:"px-2 py-1 rounded-lg bg-secondary/50 border border-primary/10 flex items-center gap-1.5 text-xs text-foreground font-medium shadow-sm",children:[o.jsx(OR,{className:"w-3.5 h-3.5 text-primary"}),o.jsx("span",{children:"UZS"})]})]}),o.jsx(Rm,{variant:"dropdown"}),e&&o.jsxs(pe,{variant:"outline",size:"sm",onClick:u,className:"gap-2 h-8 text-red-500 hover:text-red-600 hover:bg-red-50 border-red-200",children:[o.jsx(cf,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"text-xs font-medium",children:a("common.logout")})]})]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(Rm,{variant:"dropdown"}),e&&o.jsx(pe,{variant:"outline",size:"sm",onClick:u,className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50 border-red-200",children:o.jsx(cf,{className:"w-3.5 h-3.5"})})]})]})})}),o.jsx(ee.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:260,damping:20},className:"md:hidden fixed bottom-0 left-0 right-0 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 shadow-[0_-2px_10px_rgba(0,0,0,0.08)] dark:shadow-[0_-2px_10px_rgba(0,0,0,0.3)]",children:o.jsx("div",{className:"flex items-center justify-around px-6 py-2 relative",children:p.map(g=>{const v=r===g.id;return o.jsxs("button",{onClick:()=>n(g.id),className:"flex flex-col items-center justify-center gap-1 min-w-[60px] py-0.5 relative",children:[v&&o.jsx(ee.div,{layoutId:"activeTabIndicator",className:"absolute top-[-10px] left-1/2 -translate-x-1/2 w-8 h-[3px] rounded-full bg-primary dark:bg-primary",transition:{type:"spring",stiffness:380,damping:30}}),o.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center",children:[v&&o.jsx(ee.div,{layoutId:"activeTabCircle",className:"absolute w-10 h-10 rounded-full bg-secondary dark:bg-secondary/20",transition:{type:"spring",stiffness:380,damping:30}}),o.jsx(g.icon,{className:`w-5 h-5 relative z-10 transition-colors duration-300 ${v?"text-primary dark:text-primary":"text-gray-400 dark:text-gray-500"}`,strokeWidth:2})]})]},g.id)})})})}),o.jsx(La,{open:l,onOpenChange:c,children:o.jsxs(yi,{className:"sm:max-w-[425px]",children:[o.jsxs(Ba,{className:"text-center sm:text-center",children:[o.jsxs("div",{className:"mx-auto mb-6 w-16 h-16 rounded-2xl bg-gradient-to-br from-red-50 via-white to-red-100 flex items-center justify-center relative shadow-lg shadow-red-100/50 border border-red-100/50 backdrop-blur-sm",children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-red-100/30 to-transparent"}),o.jsx("div",{className:"absolute inset-[2px] rounded-2xl bg-gradient-to-br from-white/40 to-transparent"}),o.jsx(cf,{className:"w-7 h-7 text-red-500 relative z-10 drop-shadow-sm"})]}),o.jsx(Fa,{className:"text-xl text-center font-semibold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:a("common.logout")}),o.jsx(Ua,{className:"text-center text-gray-600 leading-relaxed pt-1",children:a("common.logoutDescription")})]}),o.jsxs(xm,{className:"sm:justify-center gap-3 mt-4",children:[o.jsx(pe,{variant:"outline",onClick:f,className:"flex-1 sm:flex-none sm:min-w-[120px]",children:a("common.cancel")}),o.jsx(pe,{variant:"destructive",onClick:h,className:"flex-1 sm:flex-none sm:min-w-[120px] bg-red-500 hover:bg-red-600",children:a("common.logout")})]})]})})]})}function V3(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Qp="ScrollArea",[kN]=Vr(Qp),[q3,Zr]=kN(Qp),NN=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:l=600,...c}=e,[u,h]=y.useState(null),[f,p]=y.useState(null),[g,v]=y.useState(null),[b,S]=y.useState(null),[N,k]=y.useState(null),[j,E]=y.useState(0),[_,A]=y.useState(0),[I,B]=y.useState(!1),[M,H]=y.useState(!1),V=it(t,Z=>h(Z)),X=ki(a);return o.jsx(q3,{scope:r,type:n,dir:X,scrollHideDelay:l,scrollArea:u,viewport:f,onViewportChange:p,content:g,onContentChange:v,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:I,onScrollbarXEnabledChange:B,scrollbarY:N,onScrollbarYChange:k,scrollbarYEnabled:M,onScrollbarYEnabledChange:H,onCornerWidthChange:E,onCornerHeightChange:A,children:o.jsx(Xe.div,{dir:X,...c,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});NN.displayName=Qp;var jN="ScrollAreaViewport",_N=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...l}=e,c=Zr(jN,r),u=y.useRef(null),h=it(t,u,c.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_N.displayName=jN;var Ln="ScrollAreaScrollbar",CN=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Zr(Ln,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=a,u=e.orientation==="horizontal";return y.useEffect(()=>(u?l(!0):c(!0),()=>{u?l(!1):c(!1)}),[u,l,c]),a.type==="hover"?o.jsx(H3,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(W3,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(EN,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(Zp,{...n,ref:t}):null});CN.displayName=Ln;var H3=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Zr(Ln,e.__scopeScrollArea),[l,c]=y.useState(!1);return y.useEffect(()=>{const u=a.scrollArea;let h=0;if(u){const f=()=>{window.clearTimeout(h),c(!0)},p=()=>{h=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",p)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Ir,{present:r||l,children:o.jsx(EN,{"data-state":l?"visible":"hidden",...n,ref:t})})}),W3=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Zr(Ln,e.__scopeScrollArea),l=e.orientation==="horizontal",c=Zu(()=>h("SCROLL_END"),100),[u,h]=V3("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>h("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,a.scrollHideDelay,h]),y.useEffect(()=>{const f=a.viewport,p=l?"scrollLeft":"scrollTop";if(f){let g=f[p];const v=()=>{const b=f[p];g!==b&&(h("SCROLL"),c()),g=b};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[a.viewport,l,h,c]),o.jsx(Ir,{present:r||u!=="hidden",children:o.jsx(Zp,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),EN=y.forwardRef((e,t)=>{const r=Zr(Ln,e.__scopeScrollArea),{forceMount:n,...a}=e,[l,c]=y.useState(!1),u=e.orientation==="horizontal",h=Zu(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;c(u?f:p)}},10);return vi(r.viewport,h),vi(r.content,h),o.jsx(Ir,{present:n||l,children:o.jsx(Zp,{"data-state":l?"visible":"hidden",...a,ref:t})})}),Zp=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Zr(Ln,e.__scopeScrollArea),l=y.useRef(null),c=y.useRef(0),[u,h]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=IN(u.viewport,u.content),p={...n,sizes:u,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:v=>l.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function g(v,b){return Q3(v,c.current,u,b)}return r==="horizontal"?o.jsx(K3,{...p,ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const v=a.viewport.scrollLeft,b=xb(v,u,a.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=g(v,a.dir))}}):r==="vertical"?o.jsx(G3,{...p,ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const v=a.viewport.scrollTop,b=xb(v,u);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=g(v))}}):null}),K3=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,l=Zr(Ln,e.__scopeScrollArea),[c,u]=y.useState(),h=y.useRef(null),f=it(t,h,l.onScrollbarXChange);return y.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),o.jsx(PN,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qu(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(l.viewport){const v=l.viewport.scrollLeft+p.deltaX;e.onWheelScroll(v),ON(v,g)&&p.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:vu(c.paddingLeft),paddingEnd:vu(c.paddingRight)}})}})}),G3=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,l=Zr(Ln,e.__scopeScrollArea),[c,u]=y.useState(),h=y.useRef(null),f=it(t,h,l.onScrollbarYChange);return y.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),o.jsx(PN,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qu(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(l.viewport){const v=l.viewport.scrollTop+p.deltaY;e.onWheelScroll(v),ON(v,g)&&p.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:vu(c.paddingTop),paddingEnd:vu(c.paddingBottom)}})}})}),[Y3,TN]=kN(Ln),PN=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:p,onResize:g,...v}=e,b=Zr(Ln,r),[S,N]=y.useState(null),k=it(t,V=>N(V)),j=y.useRef(null),E=y.useRef(""),_=b.viewport,A=n.content-n.viewport,I=ar(p),B=ar(h),M=Zu(g,10);function H(V){if(j.current){const X=V.clientX-j.current.left,Z=V.clientY-j.current.top;f({x:X,y:Z})}}return y.useEffect(()=>{const V=X=>{const Z=X.target;S?.contains(Z)&&I(X,A)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[_,S,A,I]),y.useEffect(B,[n,B]),vi(S,M),vi(b.content,M),o.jsx(Y3,{scope:r,scrollbar:S,hasThumb:a,onThumbChange:ar(l),onThumbPointerUp:ar(c),onThumbPositionChange:B,onThumbPointerDown:ar(u),children:o.jsx(Xe.div,{...v,ref:k,style:{position:"absolute",...v.style},onPointerDown:Pe(e.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),j.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),H(V))}),onPointerMove:Pe(e.onPointerMove,H),onPointerUp:Pe(e.onPointerUp,V=>{const X=V.target;X.hasPointerCapture(V.pointerId)&&X.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),j.current=null})})})}),yu="ScrollAreaThumb",AN=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=TN(yu,e.__scopeScrollArea);return o.jsx(Ir,{present:r||a.hasThumb,children:o.jsx(X3,{ref:t,...n})})}),X3=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,l=Zr(yu,r),c=TN(yu,r),{onThumbPositionChange:u}=c,h=it(t,g=>c.onThumbChange(g)),f=y.useRef(void 0),p=Zu(()=>{f.current&&(f.current(),f.current=void 0)},100);return y.useEffect(()=>{const g=l.viewport;if(g){const v=()=>{if(p(),!f.current){const b=Z3(g,u);f.current=b,u()}};return u(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[l.viewport,p,u]),o.jsx(Xe.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Pe(e.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),S=g.clientX-b.left,N=g.clientY-b.top;c.onThumbPointerDown({x:S,y:N})}),onPointerUp:Pe(e.onPointerUp,c.onThumbPointerUp)})});AN.displayName=yu;var eg="ScrollAreaCorner",RN=y.forwardRef((e,t)=>{const r=Zr(eg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(J3,{...e,ref:t}):null});RN.displayName=eg;var J3=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Zr(eg,r),[l,c]=y.useState(0),[u,h]=y.useState(0),f=!!(l&&u);return vi(a.scrollbarX,()=>{const p=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(p),h(p)}),vi(a.scrollbarY,()=>{const p=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(p),c(p)}),f?o.jsx(Xe.div,{...n,ref:t,style:{width:l,height:u,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vu(e){return e?parseInt(e,10):0}function IN(e,t){const r=e/t;return isNaN(r)?0:r}function Qu(e){const t=IN(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Q3(e,t,r,n="ltr"){const a=Qu(r),l=a/2,c=t||l,u=a-c,h=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-u,p=r.content-r.viewport,g=n==="ltr"?[0,p]:[p*-1,0];return DN([h,f],g)(e)}function xb(e,t,r="ltr"){const n=Qu(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-a,c=t.content-t.viewport,u=l-n,h=r==="ltr"?[0,c]:[c*-1,0],f=Ia(e,h);return DN([0,c],[0,u])(f)}function DN(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ON(e,t){return e>0&&e<t}var Z3=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,u=r.top!==l.top;(c||u)&&t(),r=l,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Zu(e,t){const r=ar(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function vi(e,t){const r=ar(t);Qt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var e6=NN,t6=_N,r6=RN;function MN({className:e,children:t,...r}){return o.jsxs(e6,{"data-slot":"scroll-area",className:at("relative",e),...r,children:[o.jsx(t6,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(n6,{}),o.jsx(r6,{})]})}function n6({className:e,orientation:t="vertical",...r}){return o.jsx(CN,{"data-slot":"scroll-area-scrollbar",orientation:t,className:at("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:o.jsx(AN,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function s6({onClose:e}){const{t}=yt(),r=[1,2,3,4,5];return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsx(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] flex flex-col",children:o.jsxs(St,{className:"flex flex-col h-full max-h-[85vh]",children:[o.jsx(zr,{className:"flex-shrink-0 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(YA,{className:"w-5 h-5 text-[#5B8CFF]"})}),o.jsx("div",{children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t("terms.title")})})]}),o.jsx(pe,{variant:"ghost",size:"icon",onClick:e,className:"flex-shrink-0",children:o.jsx(Ut,{className:"w-5 h-5"})})]})}),o.jsx(kt,{className:"flex-1 overflow-hidden p-0 min-h-0",children:o.jsx(MN,{className:"h-full",children:o.jsxs("div",{className:"p-6 text-gray-700 dark:text-gray-300 space-y-6",children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t("terms.intro")}),r.map(n=>o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:t(`terms.section${n}Title`)}),o.jsx("p",{className:"text-sm leading-relaxed",children:t(`terms.section${n}Content`)})]},n)),o.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:t("terms.lastUpdated")})})]})})}),o.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 dark:border-gray-700 p-4 bg-[rgba(249,250,251,0)] dark:bg-gray-800/50",children:o.jsx(pe,{onClick:e,className:"w-full",variant:"default",children:t("common.close")})})]})})})}function o6({onClose:e}){const{t}=yt(),r=[1,2,3,4];return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsx(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] flex flex-col",children:o.jsxs(St,{className:"flex flex-col h-full",children:[o.jsx(zr,{className:"flex-shrink-0 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(bp,{className:"w-5 h-5 text-[#5B8CFF]"})}),o.jsx("div",{children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t("privacy.title")})})]}),o.jsx(pe,{variant:"ghost",size:"icon",onClick:e,className:"flex-shrink-0",children:o.jsx(Ut,{className:"w-5 h-5"})})]})}),o.jsx(kt,{className:"flex-1 overflow-hidden p-0",children:o.jsx(MN,{className:"h-full",children:o.jsx("div",{className:"p-6 text-gray-700 dark:text-gray-300 space-y-6",children:r.map(n=>o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:t(`privacy.section${n}Title`)}),o.jsx("p",{className:"text-sm leading-relaxed",children:t(`privacy.section${n}Content`)})]},n))})})}),o.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 dark:border-gray-700 p-4 bg-[rgba(249,250,251,0)] dark:bg-gray-800/50",children:o.jsx(pe,{onClick:e,className:"w-full",variant:"default",children:t("common.close")})})]})})})}function i6(){const{t:e}=yt(),[t,r]=y.useState(!1),[n,a]=y.useState(!1),l=[{type:"telegram",label:"@soniyasupport",link:"https://t.me/soniyasupport",icon:im}];return o.jsxs("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-auto pb-24 md:pb-0",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 bg-[rgba(255,255,255,0.09)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-4 text-[20px]",children:e("app.name")}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:e("footer.description")})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:e("footer.contact")}),o.jsx("div",{className:"flex justify-start",children:l.map((c,u)=>{const h=c.icon;return o.jsxs("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 hover:text-[#5B8CFF] dark:hover:text-blue-400 transition-colors group",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-[rgba(106,166,223,0.01)] dark:bg-gray-800 flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 transition-colors",children:o.jsx(h,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-[rgb(0,0,0)]",children:c.label})]},u)})})]})]}),o.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-800",children:[o.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e("footer.copyright")," ",new Date().getFullYear()," ",e("app.name"),". ",e("footer.allRightsReserved")]}),o.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:o.jsx("a",{href:"#",onClick:c=>{c.preventDefault(),r(!0)},className:"hover:text-[#5B8CFF] dark:hover:text-blue-400 transition-colors",children:e("footer.termsAndConditions")})}),o.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:o.jsx("a",{href:"#",onClick:c=>{c.preventDefault(),a(!0)},className:"hover:text-[#5B8CFF] dark:hover:text-blue-400 transition-colors",children:e("footer.privacyPolicy")})})]})]}),t&&o.jsx(s6,{onClose:()=>r(!1)}),n&&o.jsx(o6,{onClose:()=>a(!1)})]})}const a6="/assets/0925b238d9d319ce3b3ed01f17e960b369cb7a8a-DVi5kHwo.png",l6=e=>e==null?"":String(e),bb=(e,t)=>l6(e).split(t);function LN({booking:e,viewAs:t,onCancel:r,onReschedule:n,onBookAgain:a}){const[l,c]=y.useState(null),{t:u}=yt();y.useEffect(()=>{(async()=>{if(t==="customer"&&e.barberId)try{const{data:S,error:N}=await Ke.from("barbers").select("phone").eq("id",e.barberId).single();!N&&S?.phone&&c(S.phone)}catch(S){console.error("Error fetching barber phone:",S)}})()},[e.barberId,t]);const h=b=>{const S=new Date(b),k={0:u("weekdays.short.sun"),1:u("weekdays.short.mon"),2:u("weekdays.short.tue"),3:u("weekdays.short.wed"),4:u("weekdays.short.thu"),5:u("weekdays.short.fri"),6:u("weekdays.short.sat")}[S.getDay()],j=S.getDate();return`${k} ${j}`},f=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=b=>new Intl.NumberFormat("uz-UZ").format(b),g=()=>{r&&(r(e.id),K.success(u("toast.bookingCancelled")))},v=()=>{n&&n()};return t==="customer"?e.barber?.full_name||e.barberName:e.customer?.full_name||e.customerName||e.manualCustomerName,t==="customer"?e.barber?.avatar||e.barberAvatar:e.customerAvatar,o.jsx(ee.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},whileHover:{y:-2,scale:1.01},transition:{duration:.2},className:"h-full",children:o.jsxs(St,{className:"overflow-hidden border-0 transition-all duration-200 bg-white dark:bg-gray-800 h-full rounded-3xl shadow-sm hover:shadow-md",children:[o.jsxs("div",{className:"bg-gradient-to-b from-[#5B8CFF]/15 to-white dark:from-[#5B8CFF]/20 dark:to-gray-800 px-6 py-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold dark:text-white mb-2 text-[#1b2944]",children:t==="customer"?e.barber?.full_name||e.barberName||"Barber":e.source==="manual"||e.source==="guest"?e.manualCustomerName||"Walk-in Customer":e.customer?.full_name||e.customerName||"Customer"}),o.jsx("p",{className:"text-base text-gray-600 dark:text-gray-300",children:e.serviceType})]}),o.jsxs(kt,{className:"p-6",children:[t==="barber"&&(e.status==="cancelled"||e.status==="rescheduled")&&o.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-6 p-4 rounded-2xl border ${e.status==="cancelled"?"bg-red-50/50 dark:bg-red-900/10 border-red-200 dark:border-red-800":"bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800"}`,children:o.jsxs("div",{className:"space-y-1.5",children:[e.status==="cancelled"&&e.cancelledAt&&o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-semibold text-red-700 dark:text-red-400",children:u("bookingCard.cancelled")}),o.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[u("bookingCard.updated")," ",f(e.cancelledAt)]})]}),e.status==="rescheduled"&&e.previousDate&&e.previousTime&&o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-semibold text-orange-700 dark:text-orange-400",children:u("bookingCard.rescheduled")}),o.jsxs("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400 space-y-0.5",children:[o.jsxs("p",{children:[u("bookingCard.previous")," ",h(e.previousDate)," ",u("bookingCard.at")," ",e.previousTime]}),o.jsxs("p",{children:[u("bookingCard.new")," ",h(e.date)," ",u("bookingCard.at")," ",e.startTime]}),e.updatedAt&&o.jsxs("p",{className:"mt-1 text-gray-500",children:[u("bookingCard.updated")," ",f(e.updatedAt)]})]})]})]})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-stretch md:justify-between gap-6 mb-6",children:[o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Aa,{className:"w-5 h-5 text-[#5B8CFF] flex-shrink-0"}),o.jsx("span",{className:"text-base text-gray-900 dark:text-gray-100",children:(()=>{const b=new Date(e.date),S=u("common.months.short"),N=Array.isArray(S)&&S[b.getMonth()]||b.toLocaleString("en-US",{month:"short"}),k=N.charAt(0).toUpperCase()+N.slice(1),j=b.getDate().toString().padStart(2,"0");return`${k} ${j}`})()})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(An,{className:"w-5 h-5 text-[#5B8CFF] flex-shrink-0"}),o.jsxs("span",{className:"text-base text-gray-900 dark:text-gray-100",children:[bb(e.startTime,":").slice(0,2).join(":")," - ",bb(e.endTime,":").slice(0,2).join(":")]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rl,{className:"w-5 h-5 text-[#5B8CFF] flex-shrink-0"}),o.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[p(e.price)," UZS"]})]})]}),t==="customer"&&e.status!=="cancelled"&&o.jsxs("div",{className:"flex flex-col gap-2.5 w-full md:w-auto md:min-w-[140px] md:justify-center",children:[o.jsxs(pe,{size:"sm",onClick:v,className:"w-full h-10 px-4 gap-2 text-sm font-semibold bg-[#5B8CFF] text-white hover:bg-[#4a80f0] dark:bg-[#5B8CFF] dark:hover:bg-[#4a80f0] transition-all duration-200 rounded-2xl shadow-sm hover:shadow-md",children:[o.jsx(pS,{className:"w-4 h-4"}),o.jsx("span",{children:u("bookingCard.reschedule")})]}),o.jsxs(pe,{size:"sm",variant:"ghost",onClick:g,className:"w-full h-10 px-4 gap-2 text-sm font-medium text-gray-500 hover:text-red-600 hover:bg-red-50 dark:text-gray-400 dark:hover:text-red-400 dark:hover:bg-red-950/30 transition-all duration-200 rounded-2xl",children:[o.jsx(Ut,{className:"w-4 h-4"}),o.jsx("span",{children:u("bookingCard.cancel")})]})]})]}),o.jsx("div",{className:"pt-5 border-t border-gray-100 dark:border-gray-700/50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:u("bookingCard.phoneNumberLabel")}),t==="customer"&&l?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yn,{className:"w-4 h-4 text-[#5B8CFF]"}),o.jsx("a",{href:`tel:${l}`,className:"font-semibold text-[#5B8CFF] hover:text-[#155DFC] transition-colors text-base",children:l})]}):t==="barber"&&(e.customerPhone||e.customer?.phone||e.manualCustomerPhone)?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yn,{className:"w-4 h-4 text-[#5B8CFF]"}),o.jsx("a",{href:`tel:${e.customerPhone||e.customer?.phone||e.manualCustomerPhone}`,className:"font-semibold text-[#5B8CFF] hover:text-[#155DFC] transition-colors text-base",children:e.customerPhone||e.customer?.phone||e.manualCustomerPhone})]}):o.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:""})]})})]})]})})}var BN=["PageUp","PageDown"],FN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ti="Slider",[Im,c6,u6]=Eu(Ti),[$N]=Vr(Ti,[u6]),[d6,ed]=$N(Ti),zN=y.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:l=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:f=[n],value:p,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:S,...N}=e,k=y.useRef(new Set),j=y.useRef(0),_=c==="horizontal"?h6:f6,[A=[],I]=Qn({prop:p,defaultProp:f,onChange:Z=>{[...k.current][j.current]?.focus(),g(Z)}}),B=y.useRef(A);function M(Z){const Q=v6(A,Z);X(Z,Q)}function H(Z){X(Z,j.current)}function V(){const Z=B.current[j.current];A[j.current]!==Z&&v(A)}function X(Z,Q,{commit:ue}={commit:!1}){const fe=S6(l),be=k6(Math.round((Z-n)/l)*l+n,fe),ie=Ia(be,[n,a]);I((le=[])=>{const G=g6(le,ie,Q);if(w6(G,h*l)){j.current=G.indexOf(ie);const U=String(G)!==String(le);return U&&ue&&v(G),U?G:le}else return le})}return o.jsx(d6,{scope:e.__scopeSlider,name:r,disabled:u,min:n,max:a,valueIndexToChangeRef:j,thumbs:k.current,values:A,orientation:c,form:S,children:o.jsx(Im.Provider,{scope:e.__scopeSlider,children:o.jsx(Im.Slot,{scope:e.__scopeSlider,children:o.jsx(_,{"aria-disabled":u,"data-disabled":u?"":void 0,...N,ref:t,onPointerDown:Pe(N.onPointerDown,()=>{u||(B.current=A)}),min:n,max:a,inverted:b,onSlideStart:u?void 0:M,onSlideMove:u?void 0:H,onSlideEnd:u?void 0:V,onHomeKeyDown:()=>!u&&X(n,0,{commit:!0}),onEndKeyDown:()=>!u&&X(a,A.length-1,{commit:!0}),onStepKeyDown:({event:Z,direction:Q})=>{if(!u){const be=BN.includes(Z.key)||Z.shiftKey&&FN.includes(Z.key)?10:1,ie=j.current,le=A[ie],G=l*be*Q;X(le+G,ie,{commit:!0})}}})})})})});zN.displayName=Ti;var[VN,qN]=$N(Ti,{startEdge:"left",endEdge:"right",size:"width",direction:1}),h6=y.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:l,onSlideStart:c,onSlideMove:u,onSlideEnd:h,onStepKeyDown:f,...p}=e,[g,v]=y.useState(null),b=it(t,_=>v(_)),S=y.useRef(void 0),N=ki(a),k=N==="ltr",j=k&&!l||!k&&l;function E(_){const A=S.current||g.getBoundingClientRect(),I=[0,A.width],M=tg(I,j?[r,n]:[n,r]);return S.current=A,M(_-A.left)}return o.jsx(VN,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:o.jsx(HN,{dir:N,"data-orientation":"horizontal",...p,ref:b,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const A=E(_.clientX);c?.(A)},onSlideMove:_=>{const A=E(_.clientX);u?.(A)},onSlideEnd:()=>{S.current=void 0,h?.()},onStepKeyDown:_=>{const I=UN[j?"from-left":"from-right"].includes(_.key);f?.({event:_,direction:I?-1:1})}})})}),f6=y.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:h,...f}=e,p=y.useRef(null),g=it(t,p),v=y.useRef(void 0),b=!a;function S(N){const k=v.current||p.current.getBoundingClientRect(),j=[0,k.height],_=tg(j,b?[n,r]:[r,n]);return v.current=k,_(N-k.top)}return o.jsx(VN,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:o.jsx(HN,{"data-orientation":"vertical",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:N=>{const k=S(N.clientY);l?.(k)},onSlideMove:N=>{const k=S(N.clientY);c?.(k)},onSlideEnd:()=>{v.current=void 0,u?.()},onStepKeyDown:N=>{const j=UN[b?"from-bottom":"from-top"].includes(N.key);h?.({event:N,direction:j?-1:1})}})})}),HN=y.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:h,...f}=e,p=ed(Ti,r);return o.jsx(Xe.span,{...f,ref:t,onKeyDown:Pe(e.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):BN.concat(FN).includes(g.key)&&(h(g),g.preventDefault())}),onPointerDown:Pe(e.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),p.thumbs.has(v)?v.focus():n(g)}),onPointerMove:Pe(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:Pe(e.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),l(g))})})}),WN="SliderTrack",KN=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=ed(WN,r);return o.jsx(Xe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});KN.displayName=WN;var Dm="SliderRange",GN=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=ed(Dm,r),l=qN(Dm,r),c=y.useRef(null),u=it(t,c),h=a.values.length,f=a.values.map(v=>JN(v,a.min,a.max)),p=h>1?Math.min(...f):0,g=100-Math.max(...f);return o.jsx(Xe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:u,style:{...e.style,[l.startEdge]:p+"%",[l.endEdge]:g+"%"}})});GN.displayName=Dm;var Om="SliderThumb",YN=y.forwardRef((e,t)=>{const r=c6(e.__scopeSlider),[n,a]=y.useState(null),l=it(t,u=>a(u)),c=y.useMemo(()=>n?r().findIndex(u=>u.ref.current===n):-1,[r,n]);return o.jsx(m6,{...e,ref:l,index:c})}),m6=y.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...l}=e,c=ed(Om,r),u=qN(Om,r),[h,f]=y.useState(null),p=it(t,E=>f(E)),g=h?c.form||!!h.closest("form"):!0,v=ol(h),b=c.values[n],S=b===void 0?0:JN(b,c.min,c.max),N=y6(n,c.values.length),k=v?.[u.size],j=k?x6(k,S,u.direction):0;return y.useEffect(()=>{if(h)return c.thumbs.add(h),()=>{c.thumbs.delete(h)}},[h,c.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${j}px)`},children:[o.jsx(Im.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Xe.span,{role:"slider","aria-label":e["aria-label"]||N,"aria-valuemin":c.min,"aria-valuenow":b,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:p,style:b===void 0?{display:"none"}:e.style,onFocus:Pe(e.onFocus,()=>{c.valueIndexToChangeRef.current=n})})}),g&&o.jsx(XN,{name:a??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:b},n)]})});YN.displayName=Om;var p6="RadioBubbleInput",XN=y.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=y.useRef(null),l=it(a,n),c=sl(t);return y.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==t&&p){const g=new Event("input",{bubbles:!0});p.call(u,t),u.dispatchEvent(g)}},[c,t]),o.jsx(Xe.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});XN.displayName=p6;function g6(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,l)=>a-l)}function JN(e,t,r){const l=100/(r-t)*(e-t);return Ia(l,[0,100])}function y6(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function v6(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function x6(e,t,r){const n=e/2,l=tg([0,50],[0,n]);return(n-l(t)*r)*r}function b6(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function w6(e,t){if(t>0){const r=b6(e);return Math.min(...r)>=t}return!0}function tg(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function S6(e){return(String(e).split(".")[1]||"").length}function k6(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var N6=zN,j6=KN,_6=GN,C6=YN;function E6({className:e,defaultValue:t,value:r,min:n=0,max:a=100,...l}){const c=y.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,a],[r,t,n,a]);return o.jsxs(N6,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:a,className:at("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l,children:[o.jsx(j6,{"data-slot":"slider-track",className:at("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(_6,{"data-slot":"slider-range",className:at("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(u,h)=>o.jsx(C6,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}function T6(e){if(e.services&&e.services.length>0){const t=e.services.map(r=>r.price);return{min:Math.min(...t),max:Math.max(...t)}}return e.priceRange}function xu({barber:e,onBookNow:t,showShareButton:r=!0,isFavorite:n=!1,onToggleFavorite:a}){const[l,c]=y.useState(!1),[u,h]=y.useState(!1),[f,p]=y.useState(null),[g,v]=y.useState(0),[b,S]=y.useState(0),[N,k]=y.useState(!1),[j,E]=y.useState(!1),[_,A]=y.useState(0),[I,B]=y.useState(null),[M,H]=y.useState(null),{t:V}=yt();y.useRef(null),y.useRef(null);const X=y.useRef(null),Z=e.gallery&&e.gallery.length>0?e.gallery:[e.avatar],Q=e.gallery&&e.gallery.length>0||e.avatar&&e.avatar.trim()!=="",ue=50,fe=W=>new Intl.NumberFormat("uz-UZ").format(W);y.useEffect(()=>{if(j){const W=document.body.style.overflow,J=document.body.style.paddingRight,Ce=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${Ce}px`,()=>{document.body.style.overflow=W,document.body.style.paddingRight=J}}},[j]);const be=async()=>{const W=e.username?`${window.location.origin}/b/${e.username}`:`${window.location.origin}?barber=${e.id}`,J=Ce=>{try{const Oe=document.createElement("textarea");Oe.value=Ce,Oe.style.position="fixed",Oe.style.left="-999999px",Oe.style.top="-999999px",document.body.appendChild(Oe),Oe.focus(),Oe.select();const Re=document.execCommand("copy");return document.body.removeChild(Oe),Re}catch(Oe){return console.error("Fallback copy failed:",Oe),!1}};try{if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(W),c(!0),K.success(V("toast.linkCopied")),setTimeout(()=>c(!1),2e3);return}catch{console.log("Clipboard API blocked, using fallback method")}if(J(W))c(!0),K.success(V("toast.linkCopied")),setTimeout(()=>c(!1),2e3);else throw new Error("Fallback copy failed")}catch(Ce){console.error("All copy methods failed:",Ce),K.error(V("toast.linkCopyFailed")),prompt("Copy this link:",W)}},ie=()=>{t(e)},le=()=>{e.googleMapsUrl&&window.open(e.googleMapsUrl,"_blank")},G=()=>{a&&a(e.id)},U=()=>{h(!u)},R=()=>{S(0),v(W=>W===0?Z.length-1:W-1)},T=()=>{S(0),v(W=>W===Z.length-1?0:W+1)},P=W=>{S(0),v(W)},L=W=>{A(W),E(!0)},D=()=>{E(!1)},q=()=>{A(W=>W===0?Z.length-1:W-1)},F=()=>{A(W=>W===Z.length-1?0:W+1)},$=W=>{B(W.touches[0].clientX)},re=W=>{H(W.changedTouches[0].clientX),Se()},Se=()=>{if(I!==null&&M!==null){const W=I-M;W>ue?T():W<-ue&&R()}B(null),H(null)},de=T6(e);return console.log(` BarberCard render for ${e.name} (ID: ${e.id}):`,{priceRange_from_props:e.priceRange,calculated_dynamicPriceRange:de,services_count:e.services?.length||0,services:e.services?.map(W=>({name:W.name,price:W.price}))}),o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-6,scale:1.01},transition:{duration:.3},ref:X,children:[o.jsxs(St,{className:"overflow-hidden group relative rounded-3xl border border-gray-100 dark:border-gray-700/50 hover:border-[#5B8CFF]/30 transition-all duration-200 bg-white dark:bg-gray-800 shadow-sm hover:shadow-md",children:[Q?o.jsxs("div",{className:"relative overflow-hidden rounded-t-3xl",children:[o.jsxs("div",{className:"aspect-video overflow-hidden bg-white dark:bg-gray-900 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent z-10 cursor-pointer",onClick:()=>L(g)}),o.jsx(jt,{mode:"wait",children:o.jsx(ee.img,{src:Z[g],alt:`${e.name} - Image ${g+1}`,className:"w-full h-full object-cover cursor-pointer",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:()=>L(g),onTouchStart:$,onTouchEnd:re,onTouchCancel:()=>Se()},g)}),Z.length>1&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 z-20 flex items-center gap-1.5 pointer-events-none",children:Z.map((W,J)=>o.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P(J)},className:`w-2 h-2 rounded-full transition-all pointer-events-auto ${J===g?"bg-white w-6":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to image ${J+1}`},J))})})]}),r&&o.jsxs("div",{className:"absolute top-3 right-3 z-20 flex items-center gap-2",children:[a&&o.jsx(pe,{size:"sm",variant:"secondary",onClick:W=>{W.stopPropagation(),G()},className:"gap-1 bg-white/90 hover:bg-white backdrop-blur-sm bg-[rgba(255,255,255,0.6)] text-[rgb(0,0,0)]",children:o.jsx(ru,{className:`w-3 h-3 transition-colors ${n?"fill-red-500 text-red-500":"text-gray-600"}`})}),o.jsx(pe,{size:"sm",variant:"secondary",onClick:W=>{W.stopPropagation(),be()},className:"gap-1 bg-[rgba(255,255,255,0.6)] hover:bg-white backdrop-blur-sm",children:l?o.jsxs(o.Fragment,{children:[o.jsx(vr,{className:"w-3 h-3 text-primary"}),o.jsx("span",{className:"text-xs hidden sm:inline",children:V("barber.copied")})]}):o.jsxs(o.Fragment,{children:[o.jsx(cx,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs text-[rgb(10,30,63)] hidden sm:inline",children:V("common.share")})]})})]}),o.jsx("div",{className:"absolute bottom-3 left-3 z-20 flex items-end gap-3",children:o.jsxs(Oa,{className:"w-16 h-16 ring-4 ring-white shadow-lg",children:[o.jsx(zu,{src:e.avatar,alt:e.name}),o.jsx(Ma,{children:e.name.charAt(0)})]})})]}):null,o.jsxs(kt,{className:`p-4 space-y-4 rounded-[20px] ${Q?"":"pt-6"}`,children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[!Q&&o.jsx(Oa,{className:"w-12 h-12 ring-2 ring-gray-200 shadow-md",children:o.jsx(Ma,{className:"bg-gradient-to-br from-blue-100 to-blue-200 text-blue-700 font-semibold",children:e.name.charAt(0)})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h3",{className:`text-gray-900 dark:text-gray-100 text-[16px] font-bold no-underline ${Q?"mx-[0px] my-[-27px]":""}`,children:e.name}),e.barbershopName&&!Q&&o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:e.barbershopName})]})]}),!Q&&r&&o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsx(pe,{size:"sm",variant:"secondary",onClick:W=>{W.stopPropagation(),G()},className:"gap-1 bg-gray-100 hover:bg-gray-200 text-[rgb(0,0,0)]",children:o.jsx(ru,{className:`w-3 h-3 transition-colors ${n?"fill-red-500 text-red-500":"text-gray-600"}`})}),o.jsx(pe,{size:"sm",variant:"secondary",onClick:W=>{W.stopPropagation(),be()},className:"gap-1 bg-gray-100 hover:bg-gray-200 rounded-[50px]",children:l?o.jsxs(o.Fragment,{children:[o.jsx(vr,{className:"w-3 h-3 text-primary"}),o.jsx("span",{className:"text-xs hidden sm:inline",children:V("barber.copied")})]}):o.jsxs(o.Fragment,{children:[o.jsx(cx,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs text-[rgb(10,30,63)] hidden sm:inline",children:V("common.share")})]})})]})]}),e.workplaceAddress&&o.jsxs("div",{className:"flex items-start gap-2 py-2 px-3 bg-[#aee0ff26]",style:{borderRadius:"8px"},children:[o.jsx(vp,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"#155DFC"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:V("barber.workplaceAddress")}),e.googleMapsUrl?o.jsx("button",{onClick:le,className:"text-sm text-blue-600 hover:text-blue-700 hover:underline text-left transition-colors font-medium break-words",children:e.workplaceAddress}):o.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 break-words",children:e.workplaceAddress})]})]}),o.jsxs("div",{className:"pt-3 border-t border-gray-100 dark:border-gray-700",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:V("barber.priceRange")}),o.jsx("div",{className:"flex items-center gap-1",children:o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[fe(de.min)," - ",fe(de.max)," UZS"]})})]}),o.jsx(jt,{children:u&&o.jsxs(ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden space-y-4",children:[e.barbershopName&&Q&&o.jsxs("div",{className:"pt-3 border-t border-gray-100 dark:border-gray-700",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 tracking-wide mb-2 font-bold font-normal",children:V("barber.worksAt")}),o.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100",children:e.barbershopName})]}),e.description&&o.jsxs("div",{className:"pt-3 border-t border-gray-100 dark:border-gray-700",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 tracking-wide mb-2 font-bold font-normal",children:V("barber.description")}),o.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:e.description})]}),e.servicesForKids&&o.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-gray-700",children:o.jsxs(Jt,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 font-bold font-normal",children:[o.jsx(gp,{className:"w-3 h-3 mr-1.5"}),V("barber.kidsWelcome")]})})]})}),o.jsxs("div",{className:"flex items-center justify-between gap-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[e.description&&o.jsx(pe,{variant:"ghost",size:"sm",onClick:U,className:"gap-2 text-gray-600 hover:text-gray-900 text-[8px] mx-[-21px] my-[0px] m-[0px]",children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-sm",children:V("barber.showLess")}),o.jsx(yp,{className:"w-4 h-4"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-sm text-[13px]",children:V("barber.moreInfo")}),o.jsx(yo,{className:"w-4 h-4"})]})}),o.jsx(pe,{onClick:ie,className:`gap-2 bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 transition-all duration-300 text-xs sm:text-sm px-3 sm:px-4 ${e.description?"flex-[0.85]":"flex-1"} min-w-0 whitespace-nowrap justify-center rounded-[10px] bg-[rgb(37,70,103)]`,children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[o.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),o.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),o.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]})]}),j&&o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/20 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:D,children:o.jsxs("div",{className:"relative w-full h-full max-w-7xl max-h-[90vh] flex items-center justify-center",onClick:W=>W.stopPropagation(),children:[o.jsx(jt,{mode:"wait",children:o.jsx(ee.img,{src:Z[_],alt:`${e.name} - Image ${_+1}`,className:"max-w-full max-h-full object-contain",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onTouchStart:W=>{B(W.touches[0].clientX)},onTouchEnd:W=>{const J=W.changedTouches[0].clientX;if(I!==null){const Ce=I-J;Ce>ue?F():Ce<-ue&&q()}B(null)}},_)}),Z.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:q,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-white/65 hover:bg-white/80 p-2 rounded-full shadow-lg transition-all","aria-label":"Previous image",children:o.jsx(Is,{className:"w-4 h-4 text-gray-800"})}),o.jsx("button",{onClick:F,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-white/65 hover:bg-white/80 p-2 rounded-full shadow-lg transition-all","aria-label":"Next image",children:o.jsx(Ds,{className:"w-4 h-4 text-gray-800"})}),o.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 bg-black/60 text-white px-3 py-1.5 rounded-full text-sm",children:[_+1," / ",Z.length]})]}),o.jsx("button",{onClick:D,className:"absolute top-4 right-4 z-20 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all","aria-label":"Close viewer",children:o.jsx(Ut,{className:"w-6 h-6 text-gray-800"})})]})})]})}function P6({className:e,...t}){return o.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:at("mx-auto flex w-full justify-center",e),...t})}function A6({className:e,...t}){return o.jsx("ul",{"data-slot":"pagination-content",className:at("flex flex-row items-center gap-1",e),...t})}function Af({...e}){return o.jsx("li",{"data-slot":"pagination-item",...e})}function rg({className:e,isActive:t,size:r="icon",...n}){return o.jsx("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:at(TS({variant:t?"outline":"ghost",size:r}),e),...n})}function R6({className:e,...t}){const{t:r}=yt();return o.jsxs(rg,{"aria-label":"Go to previous page",size:"default",className:at("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[o.jsx(Is,{}),o.jsx("span",{className:"hidden sm:block",children:r("common.previous")})]})}function I6({className:e,...t}){const{t:r}=yt();return o.jsxs(rg,{"aria-label":"Go to next page",size:"default",className:at("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[o.jsx("span",{className:"hidden sm:block",children:r("common.next")}),o.jsx(Ds,{})]})}function D6({className:e,...t}){return o.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:at("flex size-9 items-center justify-center",e),...t,children:[o.jsx(qA,{className:"size-4"}),o.jsx("span",{className:"sr-only",children:"More pages"})]})}function O6({barbers:e,isBarbersLoading:t=!1,onBookNow:r,favoriteIds:n,onToggleFavorite:a,priorityBarberId:l}){const{t:c,language:u}=yt(),[h,f]=y.useState(""),[p,g]=y.useState(!1),[v,b]=y.useState([0,1e6]),[S,N]=y.useState([]),[k,j]=y.useState([]),[E,_]=y.useState(!1),[A,I]=y.useState(1),B=y.useRef(null),M=10,H=["Any","Uzbek","Russian","English"],V=Jp(),X=e.filter(T=>{const P=h===""||T.name.toLowerCase().includes(h.toLowerCase())||T.specialties.some($=>$.toLowerCase().includes(h.toLowerCase())),L=T.priceRange.min<=v[1]&&T.priceRange.max>=v[0],D=S.length===0||S.includes("Any")||S.some($=>T.languages.includes($)),q=k.length===0||k.some($=>T.districts.includes($)),F=!E||E&&T.servicesForKids;return P&&L&&D&&q&&F}),Z=y.useMemo(()=>{if(!l)return X;const T=X.find(P=>P.id===l);return T?[T,...X.filter(P=>P.id!==l)]:X},[X,l]),Q=Math.ceil(Z.length/M),ue=(A-1)*M,fe=ue+M,be=Z.slice(ue,fe),ie=()=>{I(1)},le=()=>{f(""),b([0,1e6]),N([]),j([]),_(!1),I(1)},G=T=>{N(P=>{if(T==="Any")return P.includes("Any")?[]:["Any"];const L=P.filter(D=>D!=="Any");return L.includes(T)?L.filter(D=>D!==T):[...L,T]}),ie()},U=T=>{j(P=>P.includes(T)?P.filter(L=>L!==T):[...P,T]),ie()},R=()=>{const T=[];if(Q<=5)for(let L=1;L<=Q;L++)T.push(L);else{T.push(1),A>3&&T.push("ellipsis-start");const L=Math.max(2,A-1),D=Math.min(Q-1,A+1);for(let q=L;q<=D;q++)T.push(q);A<Q-2&&T.push("ellipsis-end"),T.push(Q)}return T};return y.useEffect(()=>{l&&B.current&&!t&&setTimeout(()=>{B.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},500)},[l,t,be]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:[o.jsx(om,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-primary"}),o.jsx(gt,{placeholder:c("searchFilters.searchPlaceholder"),value:h,onChange:T=>{f(T.target.value),ie()},className:"pl-14 pr-36 h-12 text-base"}),o.jsxs(pe,{variant:"default",onClick:()=>g(!p),className:"absolute right-2 top-1/2 -translate-y-1/2 h-9 w-9 p-0 rounded-lg",children:[o.jsx(JA,{className:"w-4 h-4"}),(S.length>0||k.length>0)&&o.jsx(Jt,{variant:"default",className:"absolute -top-1 -right-1 px-1.5 py-0.5 text-xs bg-red-500 text-white border-0 min-w-[18px] h-[18px] flex items-center justify-center rounded-full",children:S.length+k.length})]})]}),o.jsx(jt,{children:p&&o.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:o.jsx(St,{className:"border-0 shadow-md bg-gray-50 dark:bg-gray-800",children:o.jsxs(kt,{className:"p-6 space-y-6",children:[o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:o.jsxs("div",{className:"space-y-4 bg-[rgba(0,0,0,0)]",children:[o.jsx(Ye,{children:c("searchFilters.priceRange")}),o.jsx(E6,{value:v,onValueChange:T=>{b(T),ie()},min:0,max:1e6,step:1e4,className:"w-full py-4"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Ye,{className:"text-xs text-gray-500 mb-1.5 block",children:c("searchFilters.minPrice")||"Min (UZS)"}),o.jsx("div",{className:"relative",children:o.jsx(gt,{type:"number",min:0,max:v[1],value:v[0],onChange:T=>{const P=Math.min(Number(T.target.value),v[1]);b([P,v[1]]),ie()},className:"h-9 text-sm"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Ye,{className:"text-xs text-gray-500 mb-1.5 block",children:c("searchFilters.maxPrice")||"Max (UZS)"}),o.jsx("div",{className:"relative",children:o.jsx(gt,{type:"number",min:v[0],value:v[1],onChange:T=>{const P=Math.max(Number(T.target.value),v[0]);b([v[0],P]),ie()},className:"h-9 text-sm"})})]})]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ye,{children:c("searchFilters.districtsOfTashkent")}),o.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto p-2 rounded-lg bg-white dark:bg-gray-900",children:V.map(T=>o.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Jt,{variant:k.includes(T)?"default":"outline",className:"cursor-pointer px-3 py-1.5 text-sm transition-all duration-200",onClick:()=>U(T),children:Ju(T,u)})},T))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ye,{children:c("searchFilters.languages")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(T=>o.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Jt,{variant:S.includes(T)?"default":"outline",className:"cursor-pointer px-3 py-1.5 text-sm transition-all duration-200 text-left",onClick:()=>{G(T),ie()},children:c(`searchFilters.${T.toLowerCase()}`)})},T))})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center cursor-pointer group",onClick:()=>{_(!E),ie()},children:[o.jsx(gp,{className:`w-5 h-5 shrink-0 transition-colors duration-200 mr-3 ${E?"text-pink-500 fill-pink-500":"text-gray-400 group-hover:text-pink-400"}`}),o.jsx(Ye,{className:"cursor-pointer flex-1 whitespace-normal leading-snug font-sans",children:c("searchFilters.showOnlyKidsServices")})]})}),o.jsxs(pe,{variant:"outline",onClick:le,className:"w-full gap-2",children:[o.jsx(Ut,{className:"w-4 h-4"}),c("searchFilters.resetFilters")]})]})})})}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsx("span",{}),X.length>0&&X.length<e.length&&o.jsx("span",{className:"text-emerald-600"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
              @keyframes shimmer {
                100% { transform: translateX(100%); }
              }
            `}),[...Array(6)].map((T,P)=>o.jsxs("div",{className:"bg-white rounded-[20px] overflow-hidden shadow-sm border border-gray-100 flex flex-col h-full",children:[o.jsx("div",{className:"w-full h-48 bg-gray-50 relative overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-gray-100 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"})}),o.jsxs("div",{className:"p-4 space-y-3 flex flex-col flex-1",children:[o.jsx("div",{className:"h-6 w-3/4 bg-gray-50 rounded-md relative overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-gray-100 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"})}),o.jsx("div",{className:"h-4 w-1/2 bg-gray-50 rounded-md relative overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-gray-100 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"})}),o.jsx("div",{className:"flex-1"}),o.jsx("div",{className:"h-10 w-full bg-gray-50 rounded-lg relative overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-gray-100 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"})})]})]},`skeleton-${P}`))]}):be.map((T,P)=>T.id===l?o.jsxs(ee.div,{ref:B,initial:{opacity:0,scale:.9,x:-50},animate:{opacity:1,scale:1,x:0},transition:{duration:.6,type:"spring",stiffness:100,damping:15},className:"relative",children:[o.jsx(ee.div,{className:"absolute -inset-1 rounded-[24px] bg-[#5B8CFF] opacity-90 blur-md",animate:{opacity:[.6,.9,.6],scale:[1,1.02,1]},transition:{duration:2,repeat:3,ease:"easeInOut"}}),o.jsx("div",{className:"relative",children:o.jsx(xu,{barber:T,onBookNow:r,isFavorite:n?.includes(T.id),onToggleFavorite:a})}),o.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.4},className:"absolute -top-3 left-1/2 -translate-x-1/2 z-10",children:o.jsxs(Jt,{className:"bg-[#5B8CFF] text-white shadow-lg px-4 py-1.5 text-sm font-semibold border-2 border-white",children:[" ",c("searchFilters.sharedWithYou")||"Shared with you"]})})]},T.id):o.jsx(xu,{barber:T,onBookNow:r,isFavorite:n?.includes(T.id),onToggleFavorite:a},T.id))}),!t&&X.length>M&&o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-center mt-8",children:o.jsx(P6,{children:o.jsxs(A6,{children:[o.jsx(Af,{children:o.jsx(R6,{onClick:()=>{A>1&&(I(A-1),window.scrollTo({top:0,behavior:"smooth"}))},className:A===1?"pointer-events-none opacity-50":"cursor-pointer"})}),R().map((T,P)=>o.jsx(Af,{children:typeof T=="number"?o.jsx(rg,{isActive:A===T,onClick:()=>{I(T),window.scrollTo({top:0,behavior:"smooth"})},className:"cursor-pointer",children:T}):o.jsx(D6,{})},P)),o.jsx(Af,{children:o.jsx(I6,{onClick:()=>{A<Q&&(I(A+1),window.scrollTo({top:0,behavior:"smooth"}))},className:A===Q?"pointer-events-none opacity-50":"cursor-pointer"})})]})})}),!t&&e.length===0?o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600 mb-4",children:c("searchFilters.noBarbersYet")})}):!t&&X.length===0&&o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:c("searchFilters.noResultsFound")}),o.jsx(pe,{variant:"outline",onClick:le,children:c("searchFilters.resetFilters")})]})]})}function QN(){return`BK${Math.floor(1e5+Math.random()*9e5)}`}function ZN(e,t){if(!t)return!1;const r=new Date,n=new Date(e),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),l=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(l>a)return!1;if(l<a)return!0;const c=t.includes("-")?t.split("-")[0].trim():t.trim(),[u,h]=c.split(":").map(Number),f=new Date(n);f.setHours(u,h,0,0);const p=new Date(r.getTime()+300*1e3);return f<p}const M6=e=>e==null?"":String(e),L6=(e,t)=>M6(e).split(t);function wb({barber:e,onClose:t,onConfirmBooking:r,onBookingSuccess:n,customerId:a,customerName:l,mode:c="new",existingBooking:u,onNavigateToLogin:h,guestInfo:f}){const{t:p,language:g}=yt(),v=e.is_available!==!1&&e.isSubscriptionActive!==!1;if(y.useEffect(()=>{const ce=document.body.style.overflow,xe=document.body.style.paddingRight,je=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${je}px`,()=>{document.body.style.overflow=ce,document.body.style.paddingRight=xe}},[]),!v)return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs(ee.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden p-6 text-center",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(Ut,{className:"w-6 h-6 text-red-600"})}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Barber Unavailable"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"This barber is currently unavailable for bookings. Please try again later or find another barber."}),o.jsx(pe,{onClick:t,className:"w-full",children:"Close"})]})]});const b=c==="new"&&!!u,[S,N]=y.useState(c==="reschedule"?"datetime":"service"),[k,j]=y.useState(()=>u?L6(u.serviceType," + ").map(ce=>ce.trim()):[]),[E,_]=y.useState(b?"":u?.date||""),[A,I]=y.useState(b?"":u?u.startTime:""),[B,M]=y.useState("cash"),[H,V]=y.useState(null),[X,Z]=y.useState(null),[Q,ue]=y.useState(new Set),[fe,be]=y.useState([]),[ie,le]=y.useState([]),[G,U]=y.useState(!0),[R,T]=y.useState(null),[P,L]=y.useState(!1),[D,q]=y.useState([]),[F,$]=y.useState(!0),[re,Se]=y.useState(null);y.useEffect(()=>{(async()=>{if(!e.id){console.log("[BOOKING MODAL]  No barber ID, skipping service fetch"),q([]),$(!1);return}$(!0),Se(null),console.log("[BOOKING MODAL]  Fetching services for barber:",e.id);try{const{data:xe,error:je}=await Ke.from("services").select("id, barber_id, name, duration, price, description, created_at, updated_at").eq("barber_id",e.id).order("created_at",{ascending:!0});je?(console.error("[BOOKING MODAL]  Error fetching services:",je),Se("Failed to load services. Please try again."),q([])):(console.log("[BOOKING MODAL]  Services fetched from Supabase:",xe?.length||0),console.log("[BOOKING MODAL]  Services data:",JSON.stringify(xe,null,2)),q(xe||[]),(!xe||xe.length===0)&&console.warn("[BOOKING MODAL]  No services found for barber"))}catch(xe){console.error("[BOOKING MODAL]  Exception fetching services:",xe),Se("Failed to load services. Please try again."),q([])}finally{$(!1)}})()},[e.id]);const de=async()=>{try{console.log("[CUSTOMER BOOKING] Fetching available slots from barber_slots table for barber:",e.id);const ce=new Date().toISOString().split("T")[0],{data:xe,error:je}=await Ke.from("barber_slots").select("id, barber_id, slot_date, start_time, end_time, status, is_available, is_booked, created_at").eq("barber_id",e.id).gte("slot_date",ce).order("slot_date",{ascending:!0}).order("start_time",{ascending:!0});if(je)console.error("[CUSTOMER BOOKING] Error fetching barber slots:",je),console.error("[CUSTOMER BOOKING] Error details:",JSON.stringify(je,null,2)),T("Failed to load available slots"),be([]);else{console.log("[CUSTOMER BOOKING]  Raw slots fetched from barber_slots table:",xe?.length||0);const rt=xe||[];console.log("[CUSTOMER BOOKING]  Total slots (including booked):",rt.length);const et=rt.map(oe=>{const ne=`${oe.slot_date}T${oe.start_time}`;let he;if(oe.end_time)he=`${oe.slot_date}T${oe.end_time}`;else{const me=new Date(ne);me.setMinutes(me.getMinutes()+30),he=me.toISOString().split(".")[0]}return{id:oe.id,slot_date:oe.slot_date,start_time:oe.start_time,end_time:oe.end_time,is_available:oe.is_available,is_booked:oe.is_booked,status:oe.status,starts_at:ne,ends_at:he}});be(et),console.log("[CUSTOMER BOOKING]  Mapped slots with computed starts_at/ends_at:",et.length)}le([])}catch(ce){console.error("[CUSTOMER BOOKING] Error in fetchBarberSchedule:",ce),console.error("[CUSTOMER BOOKING] Error stack:",ce instanceof Error?ce.stack:"No stack trace"),T("Failed to load slots"),be([])}finally{U(!1)}};y.useEffect(()=>{U(!0),T(null),de();const ce=setInterval(de,5e3);return()=>clearInterval(ce)},[e.id]);const W=y.useMemo(()=>{const ce={};return D&&D.length>0&&D.forEach(xe=>{ce[xe.name]={price:xe.price,duration:xe.duration}}),ce},[D]),J=y.useMemo(()=>c==="reschedule"&&u?u.duration:k.reduce((ce,xe)=>ce+(W[xe]?.duration||0),0),[c,u,k,W]),Ce=y.useMemo(()=>c==="reschedule"&&u?u.price:k.reduce((ce,xe)=>ce+(W[xe]?.price||0),0),[c,u,k,W]),Oe=y.useMemo(()=>{if(G||fe.length===0)return[];const ce=p("common.days.short"),xe=p("common.months.short"),je=Array.from(new Set(fe.map(rt=>rt.slot_date))).sort().map(rt=>{const et=new Date(rt+"T00:00:00"),oe=et.getDay(),ne=ce[oe],he=xe[et.getMonth()],me=et.getDate();return{date:rt,label:`${ne} ${he} ${me}`}});return console.log("[CUSTOMER BOOKING]  Available dates from DB:",je.length,"dates"),console.log("[CUSTOMER BOOKING] Dates:",je),je},[p,fe,G]),Re=y.useMemo(()=>{if(!E||fe.length===0)return[];console.log("[CUSTOMER BOOKING]  Selected date:",E),console.log("[CUSTOMER BOOKING]  Required duration:",J,"minutes");const ce=fe.filter(ne=>ne.slot_date===E);if(console.log("[CUSTOMER BOOKING]  Total slots for selected date:",ce.length,"slots"),ce.length===0)return console.log("[CUSTOMER BOOKING]  No slots found for this date"),[];const xe=[...ce].sort((ne,he)=>ne.start_time.localeCompare(he.start_time)),je=ne=>{const[he,me]=ne.split(":").map(Number);return he*60+me},et=J+0,oe=xe.map((ne,he)=>{if(ne.is_booked===!0)return{time:ne.start_time.substring(0,5),available:!1,isBooked:!0,slot:ne};const _e=je(ne.start_time);let Le=null;for(let Ve=he+1;Ve<xe.length;Ve++){const Ze=xe[Ve];if(Ze.is_booked===!0){Le=je(Ze.start_time);break}}if(Le===null){const Ve=xe[xe.length-1];if(Ve){let Ze;Ve.end_time?(Ze=je(Ve.end_time),Ze<_e&&(Ze+=1440)):(Ze=je(Ve.start_time)+30,Ze<_e&&(Ze+=1440)),Le=Math.max(Ze,1320)}else Le=1320}const He=Le-_e,Ee=J>0?He>=et:!0;return console.log("[CUSTOMER BOOKING]  Checking available slot",ne.start_time,":",{slotStartMinutes:_e,nextBlockedMinutes:Le,continuousFreeMinutes:He,requiredDuration:et,hasEnoughTime:Ee}),{time:ne.start_time.substring(0,5),available:Ee,isBooked:!1,slot:ne}});return console.log("[CUSTOMER BOOKING]  All time slots (including booked):",oe.length,"slots"),console.log("[CUSTOMER BOOKING] Booked:",oe.filter(ne=>ne.isBooked).length),console.log("[CUSTOMER BOOKING] Available:",oe.filter(ne=>!ne.isBooked&&ne.available).length),oe},[E,fe,J]),ot=ce=>new Intl.NumberFormat("uz-UZ").format(ce),ft=ce=>{const xe=new Date(ce),rt={0:p("weekdays.long.sun"),1:p("weekdays.long.mon"),2:p("weekdays.long.tue"),3:p("weekdays.long.wed"),4:p("weekdays.long.thu"),5:p("weekdays.long.fri"),6:p("weekdays.long.sat")}[xe.getDay()],et=xe.getDate();return`${rt}, ${et}`},Nt=()=>{if(S==="service"){if(k.length===0){K.error(p("toast.pleaseSelectService"));return}N("datetime")}else if(S==="datetime"){if(!E||!A){K.error(p("toast.pleaseSelectDateTime"));return}N("confirm")}else S==="confirm"&&ve()},lt=()=>{S==="datetime"?N("service"):S==="confirm"&&N("datetime")},ve=async()=>{if(!H){K.error("Selected time slot is no longer available");return}console.log("[BOOKING CONFIRM] Re-fetching slot by ID:",H.id);try{const{data:ce,error:xe}=await Ke.from("barber_slots").select("*").eq("id",H.id).single();if(xe||!ce){console.error("[BOOKING CONFIRM] Slot not found:",xe),K.error("Selected time slot is no longer available");return}if(ce.status!=="available"||!ce.is_available){console.error("[BOOKING CONFIRM] Slot is no longer available:",ce),K.error("Selected time slot is no longer available");return}console.log("[BOOKING CONFIRM]  Slot is still available");const je=Ee=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Ee);if(!e.id||!je(e.id)){K.error("Invalid barber information");return}if(!a&&!f){console.log("[BOOKING CONFIRM] User not logged in and no guest info, saving pending booking");const[Ee,Ve]=A.split(":"),Ze=new Date;Ze.setHours(parseInt(Ee),parseInt(Ve)+J);const ct=`${Ze.getHours().toString().padStart(2,"0")}:${Ze.getMinutes().toString().padStart(2,"0")}`;let vt;if(e.services&&e.services.length>0){const Ct=k[0],xt=e.services.find($e=>$e.name===Ct);xt&&je(xt.id)&&(vt=xt.id)}const Ge={barberId:e.id,barberName:e.name,barberAvatar:e.avatar,serviceType:k.join(" + "),booking_date:E,start_time:A,end_time:ct,total_duration:J,total_price:Ce,slotId:H.id,serviceId:vt,source:"share_link"};localStorage.setItem("pendingBooking",JSON.stringify(Ge)),localStorage.setItem("postLoginRedirect","/booking/confirm"),console.log("[BOOKING CONFIRM] Pending booking saved:",Ge),K.info(p("auth.loginToBook")||"Please login to complete your booking"),t(),h&&h();return}if(!k||k.length===0){K.error("Please select a service");return}let rt;if(console.log("[BOOKING CONFIRM] Looking for service UUID:",{selectedServices:k,barberServices:e.services,barberServicesCount:e.services?.length||0}),e.services&&e.services.length>0){const Ee=k[0],Ve=e.services.find(Ze=>Ze.name===Ee);Ve&&je(Ve.id)?(rt=Ve.id,console.log("[BOOKING CONFIRM]  Found service UUID:",rt)):console.log("[BOOKING CONFIRM]  No valid UUID found for service:",Ee)}else console.log("[BOOKING CONFIRM]  Barber has no database-backed services");const[et,oe]=A.split(":"),ne=new Date;ne.setHours(parseInt(et),parseInt(oe)+J);const he=`${ne.getHours().toString().padStart(2,"0")}:${ne.getMinutes().toString().padStart(2,"0")}`,me=!!f,_e={barberId:e.id,customerId:me?"guest":a,customerName:me?f.name:l,serviceType:c==="reschedule"&&u?u.serviceType:k.join(" + "),date:E,startTime:A,endTime:he,duration:J,price:Ce,status:"confirmed",slotId:H.id,...rt?{serviceId:rt}:{},barberName:e.name,barberAvatar:e.avatar};console.log("[BOOKING CONFIRM] Creating booking with payload:",{barberId:_e.barberId,customerId:_e.customerId,slotId:_e.slotId,serviceId:_e.serviceId,serviceType:_e.serviceType,isGuest:me});const He={booking_code:QN(),barber_id:e.id,slot_id:H.id,service_type:k.join(" + "),date:E,start_time:A,end_time:he,duration:J,price:Ce,source:me?"guest":"online"};rt&&(He.service_id=rt),me?(He.guest_name=f.name,He.guest_phone=f.phone,console.log("[BOOKING CONFIRM] Guest booking payload (will be saved as manual):",{guest_name:f.name,guest_phone:f.phone,source:"guest"})):(He.customer_id=a,He.customer_phone=l),L(!0);try{let Ee={"Content-Type":"application/json",Authorization:`Bearer ${mt}`};if(!me){const ct=localStorage.getItem("trimly_session_token");ct&&(Ee["X-Session-Token"]=ct)}const Ve=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/bookings`,{method:"POST",headers:Ee,body:JSON.stringify(He)}),Ze=await Ve.json();if(!Ve.ok)throw console.error("[BOOKING CREATE] API error:",Ze),new Error(Ze.error||"Failed to create booking");if(!Ze.booking||!Ze.booking.id)throw new Error("Booking was not created - no booking ID returned");console.log(" [BOOKING CONFIRM] Booking created successfully:",Ze.booking.id),n&&n(),me||r(_e),console.log("[BOOKING CONFIRM] Refetching available slots after booking..."),await de(),K.success(p(c==="reschedule"?"booking.rescheduleSuccess":"booking.bookingSuccess"),{description:c==="reschedule"?p("booking.appointmentRescheduled"):`${p("booking.appointmentBooked")} ${e.name}`,duration:4e3}),N("success"),setTimeout(()=>{t()},3e3)}catch(Ee){console.error("[BOOKING CONFIRM] Error creating booking:",Ee),K.error(Ee.message||"Failed to create booking. Please try again.")}finally{L(!1)}}catch(ce){console.error("[BOOKING CONFIRM] Error validating slot:",ce),K.error("Failed to validate time slot. Please try again.")}},Ae=D,Ie=c==="reschedule"?["datetime","confirm"]:["service","datetime","confirm"],Te=(ce,xe)=>{if(!ce)return"";const[je,rt]=ce.split(":").map(Number),et=new Date;return et.setHours(je,rt+xe),`${ce} - ${et.getHours().toString().padStart(2,"0")}:${et.getMinutes().toString().padStart(2,"0")}`};return o.jsx(jt,{children:o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:t,children:o.jsx(ee.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:ce=>ce.stopPropagation(),className:"max-w-2xl w-full my-8",children:o.jsxs(St,{className:"border-0 shadow-2xl",children:[o.jsxs("div",{className:"relative border-b bg-[#FCFDFF] p-4 sm:p-6 rounded-t-[20px]",children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:t,className:"absolute right-3 sm:right-4 top-3 sm:top-4 w-8 h-8 p-0",children:o.jsx(Ut,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 pr-10 sm:pr-12",children:[o.jsxs(Oa,{className:"w-12 h-12 sm:w-14 sm:h-14 ring-4 ring-primary/20 flex-shrink-0",children:[o.jsx(zu,{src:e.avatar,alt:e.name}),o.jsx(Ma,{children:e.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:e.name}),b&&o.jsxs(Jt,{variant:"secondary",className:"gap-1 text-xs hidden",children:[o.jsx(yR,{className:"w-3 h-3"}),p("booking.bookAgain")]}),c==="reschedule"&&o.jsxs(Jt,{variant:"secondary",className:"gap-1 text-xs hidden",children:[o.jsx(pS,{className:"w-3 h-3"}),p("booking.reschedule")]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.jsxs(Jt,{variant:"outline",className:"gap-1 text-xs",children:[o.jsx(vp,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate max-w-[150px]",children:e.districts.map(ce=>Ju(ce,g)).join(", ")})]})})]})]}),S!=="success"&&o.jsx("div",{className:"flex items-center gap-2 mt-6",children:Ie.map((ce,xe)=>o.jsx("div",{className:"flex items-center flex-1",children:o.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${Ie.indexOf(S)>=xe?"bg-blue-400":"bg-gray-200 dark:bg-gray-700"}`})},ce))})]}),o.jsxs(kt,{className:"p-4 sm:p-6",children:[o.jsxs(jt,{mode:"wait",children:[S==="service"&&o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[F&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),o.jsx("p",{className:"mt-4 text-gray-600",children:p("common.loadingServices")})]}),!F&&re&&o.jsx("div",{className:"text-center py-8 bg-red-50 rounded-xl border border-red-200",children:o.jsx("p",{className:"text-red-600",children:re})}),!F&&!re&&Ae.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(An,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p("booking.noServicesFound")}),o.jsx("p",{className:"text-gray-600",children:p("booking.noServicesYet")})]}),!F&&!re&&Ae.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:p("booking.multipleServices")}),o.jsx("div",{className:"grid gap-3 max-h-96 overflow-y-auto bg-[rgba(0,0,0,0)]",children:Ae.map(ce=>{const xe=k.includes(ce.name),je=Q.has(ce.name),rt=ce.description&&ce.description.trim().length>0;return o.jsxs(ee.button,{onClick:et=>{et.target.closest(".description-toggle")||(xe?(j(oe=>oe.filter(ne=>ne!==ce.name)),X?.name===ce.name&&Z(null)):(j(oe=>[...oe,ce.name]),X||Z(ce)))},whileHover:{scale:1.02},whileTap:{scale:.98},className:`relative p-4 rounded-xl border-2 transition-all text-left overflow-hidden ${xe?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100/50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:ce.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(An,{className:"w-4 h-4"}),ce.duration," ",p("booking.minutes")]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[ot(ce.price)," UZS"]})]})]}),xe&&o.jsx(ee.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center",children:o.jsx(vr,{className:"w-4 h-4 text-white"})})]}),rt&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsxs("button",{onClick:et=>{et.stopPropagation(),ue(oe=>{const ne=new Set(oe);return ne.has(ce.name)?ne.delete(ce.name):ne.add(ce.name),ne})},className:"description-toggle flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700",children:[o.jsx("span",{className:"text-[rgb(12,121,255)]",children:p(je?"booking.hideDescription":"booking.showDescription")}),o.jsx(yo,{className:`w-3 h-3 transition-transform ${je?"rotate-180":""}`})]}),o.jsx(jt,{children:je&&o.jsx(ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsx("p",{className:"text-sm text-gray-600 mt-2 pl-2 border-l-2 border-blue-200",children:ce.description})})})]})]},ce.name)})}),k.length>0&&o.jsx("div",{className:"mt-4 p-4 rounded-xl border border-white/40 bg-gradient-to-br from-[#5B8CFF]/20 via-[#5B8CFF]/15 to-[#5B8CFF]/10 backdrop-blur-sm shadow-[0_8px_32px_rgba(91,140,255,0.15)]",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-700",children:[k.length," ",p("booking.selected")]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-gray-900",children:[ot(Ce)," UZS"]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[J," ",p("booking.minutes")]})]})]})})]})]},"service"),S==="datetime"&&o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[G&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),o.jsx("p",{className:"mt-4 text-gray-600",children:p("common.loadingSlots")})]}),R&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Aa,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p("booking.errorLoadingSlots")}),o.jsx("p",{className:"text-gray-600 mb-4",children:R}),o.jsx("p",{className:"text-sm text-gray-500",children:p("booking.checkBackLater")})]}),!G&&!R&&fe.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Aa,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p("booking.noAvailableSlots")}),o.jsx("p",{className:"text-gray-600 mb-4",children:p("booking.barberNotSetupSchedule").replace("{barberName}",e.name)}),o.jsx("p",{className:"text-sm text-gray-500",children:p("booking.checkBackLaterOrContact")})]}),!G&&!R&&Oe.length>0&&o.jsxs("div",{children:[o.jsx(Ye,{className:"mb-3 block",children:p("booking.selectDate")}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:Oe.map(ce=>o.jsxs("button",{onClick:()=>_(ce.date),className:`p-3 rounded-xl border-2 transition-all text-center ${E===ce.date?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:ce.label.split(" ")[0]}),o.jsx("div",{className:"font-semibold text-gray-900",children:ce.label.split(" ")[2]})]},ce.date))})]}),E&&Re.length>0&&o.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[o.jsx(Ye,{className:"mb-3 block",children:p("booking.selectTime")}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:Re.map(ce=>{const xe=ZN(E,ce.time),je=ce.isBooked||!1,rt=!ce.available||xe||je,et=ce.slot||fe.find(oe=>oe.slot_date===E&&oe.start_time.substring(0,5)===ce.time);return o.jsx("button",{onClick:()=>{!rt&&!je&&et&&(I(ce.time),V(et))},disabled:rt,className:`p-3 rounded-2xl border transition-all ${A===ce.time?"border-[rgb(54,108,255)] bg-[rgb(54,108,255)]/10 shadow-sm":je?"border-red-200 bg-red-50 cursor-not-allowed":rt?"border-gray-100 bg-gray-50 cursor-not-allowed opacity-40":"border-gray-200 bg-white hover:border-[rgb(54,108,255)]/40 hover:bg-blue-50/30"}`,title:je?p("schedule.booked"):xe?"This time has already passed":"",children:o.jsx("div",{className:`text-sm font-medium text-center ${A===ce.time?"text-[rgb(54,108,255)]":je?"text-red-600":"text-gray-700"}`,children:je?p("schedule.booked"):ce.time})},ce.time)})})]}),E&&Re.length===0&&!G&&o.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(An,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),o.jsx("p",{className:"text-gray-600",children:p("booking.noAvailableTimesForDate")}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p("booking.pleaseSelectAnotherDate")})]})]},"datetime"),S==="confirm"&&o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4 sm:space-y-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:p(c==="reschedule"?"booking.confirmReschedule":"booking.confirmBooking")}),c==="reschedule"&&u&&o.jsxs("div",{className:"p-3 sm:p-4 rounded-xl bg-amber-50 border border-amber-200 mb-3 sm:mb-4",children:[o.jsx("p",{className:"text-xs sm:text-sm text-amber-800 mb-2 sm:mb-3",children:p("booking.moveAppointment")}),o.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[o.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[o.jsx("span",{className:"text-red-600 flex-shrink-0",children:p("booking.from")}),o.jsxs("span",{className:"line-through break-words",children:[ft(u.date),", ",u.startTime," - ",u.endTime]})]}),o.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[o.jsx("span",{className:"text-primary flex-shrink-0",children:p("booking.to")}),o.jsxs("span",{className:"font-medium break-words",children:[ft(E),", ",Te(A,J)]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 space-y-5",children:[o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx("span",{className:"text-sm text-gray-500",children:p("booking.clientName")}),o.jsx("span",{className:"text-base text-gray-900 text-right font-normal",children:l})]}),o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx("span",{className:"text-sm text-gray-500",children:p("booking.phoneNumber")}),o.jsx("span",{className:"text-base text-gray-900 text-right font-normal",children:e.phone||""})]}),o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsx("span",{className:"text-sm text-gray-500 flex-shrink-0",children:p("booking.services")}),o.jsx("span",{className:"text-base text-gray-900 text-right font-normal break-words",children:k.join(", ")})]}),o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx("span",{className:"text-sm text-gray-500",children:p("booking.date")}),o.jsx("span",{className:"text-base text-gray-900 text-right font-normal",children:ft(E)})]}),o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx("span",{className:"text-sm text-gray-500",children:p("booking.time")}),o.jsx("span",{className:"text-base text-gray-900 text-right font-normal",children:Te(A,J)})]}),o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx("span",{className:"text-sm text-gray-500",children:p("booking.duration")}),o.jsxs("span",{className:"text-base text-gray-900 text-right font-normal",children:[J," ",p("booking.minutes")]})]}),o.jsx("div",{className:"h-px bg-gray-100 my-4"}),o.jsxs("div",{className:"flex justify-between items-center gap-4 pt-1",children:[o.jsx("span",{className:"text-base text-gray-900 font-medium",children:p("booking.total")}),o.jsxs("span",{className:"text-2xl font-semibold text-[rgb(54,108,255)]",children:[ot(Ce)," UZS"]})]})]})]},"confirm"),S==="success"&&o.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[o.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-20 h-20 mx-auto mb-6 rounded-full check-circle flex items-center justify-center",children:o.jsx(vr,{className:"w-10 h-10 text-white"})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-900",children:p(c==="reschedule"?"booking.rescheduledTitle":"booking.bookingConfirmedTitle")}),o.jsx("p",{className:"text-gray-700 mb-6 font-medium",children:c==="reschedule"?p("booking.appointmentRescheduled"):`${e.name} ${p("booking.appointmentBooked")}`}),o.jsxs("div",{className:"relative p-5 rounded-xl bg-gradient-to-br from-blue-50/90 via-cyan-50/80 to-blue-50/90 border border-blue-200/60 mb-6 shadow-sm backdrop-blur-sm",children:[o.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-xl pointer-events-none"}),o.jsxs("div",{className:"relative space-y-2",children:[o.jsxs("p",{className:"text-sm text-gray-800 font-medium",children:[" ",p("booking.confirmationSent")]}),o.jsxs("p",{className:"text-sm text-gray-800 font-medium",children:[" ",e.name," ",p("booking.barberNotified")," ",c==="reschedule"?p("booking.change"):p("customer.bookNow").toLowerCase()]}),c==="reschedule"&&o.jsxs("p",{className:"text-sm text-gray-800 font-medium",children:[" ",p("booking.oldSlotAvailable")]})]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:p("booking.closingAutomatic")})]},"success")]}),S!=="success"&&o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center gap-3 mt-6 sm:mt-8",children:[o.jsxs(pe,{variant:"outline",onClick:()=>{S==="service"||c==="reschedule"&&S==="datetime"?t():lt()},className:"w-full sm:flex-1 h-12 rounded-full border border-gray-200 bg-white hover:bg-gray-50 text-gray-700 font-medium",children:[o.jsx(Is,{className:"w-4 h-4 mr-1"}),p("common.back")]}),o.jsx(pe,{onClick:Nt,disabled:P,className:"w-full sm:flex-1 h-12 rounded-full bg-gradient-to-r from-[rgb(54,108,255)] to-blue-500 hover:from-[rgb(44,98,245)] hover:to-blue-600 text-white font-medium shadow-lg shadow-blue-200/50 disabled:opacity-50 disabled:cursor-not-allowed",children:P?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(sR,{className:"w-5 h-5 animate-spin flex-shrink-0"}),o.jsx("span",{className:"truncate",children:p("booking.creatingBooking")||"Processing..."})]}):o.jsxs(o.Fragment,{children:[p(S==="confirm"?c==="reschedule"?"booking.confirmReschedule":"booking.confirmBooking":"common.next"),S!=="confirm"&&o.jsx(Ds,{className:"w-4 h-4 ml-1"})]})})]})]})]})})})})}function B6({isOpen:e,onClose:t,onGuestBooking:r,onSignIn:n}){const{t:a}=yt();return o.jsx(jt,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:t}),o.jsx(ee.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-50 max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-t-3xl shadow-2xl",children:[o.jsxs("div",{className:"relative p-6 pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("button",{onClick:t,className:"absolute right-4 top-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:o.jsx(Ut,{className:"w-5 h-5 text-gray-500"})}),o.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:a("booking.howToBook")||"How would you like to book?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:a("booking.chooseBookingMethod")||"Choose your preferred booking method"})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx(ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsx(pe,{onClick:r,className:"w-full h-auto py-4 px-6 flex flex-col items-start gap-2 bg-primary hover:bg-primary/90",children:o.jsxs("div",{className:"flex items-center gap-3 w-full",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:o.jsx(ho,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-white text-base",children:a("booking.bookAsGuest")||"Book as a Guest"}),o.jsx("div",{className:"text-xs text-white/80 mt-0.5",children:a("booking.noAccountRequired")||"No account required"})]})]})})}),o.jsx(ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsx(pe,{onClick:n,variant:"outline",className:"w-full h-auto py-4 px-6 flex flex-col items-start gap-2 border-2",children:o.jsxs("div",{className:"flex items-center gap-3 w-full",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:o.jsx(aR,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-foreground text-base",children:a("booking.signInOrCreate")||"Sign in / Create account"}),o.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:a("booking.saveBookingHistory")||"Save your booking history"})]})]})})})]}),o.jsx("div",{className:"h-safe pb-safe",style:{paddingBottom:"max(env(safe-area-inset-bottom), 1rem)"}})]})})]})})}function F6({isOpen:e,onClose:t,onSubmit:r}){const{t:n}=yt(),[a,l]=y.useState(""),[c,u]=y.useState(""),[h,f]=y.useState({}),p=()=>{const b={};return a.trim()||(b.name=n("booking.nameRequired")||"Name is required"),c.trim()?c.trim().length<9&&(b.phone=n("booking.phoneInvalid")||"Please enter a valid phone number"):b.phone=n("booking.phoneRequired")||"Phone number is required",f(b),Object.keys(b).length===0},g=b=>{b.preventDefault(),p()&&(r({name:a.trim(),phone:c.trim()}),l(""),u(""),f({}))},v=()=>{l(""),u(""),f({}),t()};return o.jsx(jt,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:v}),o.jsx(ee.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-50 max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-t-3xl shadow-2xl",children:[o.jsxs("div",{className:"relative p-6 pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("button",{onClick:v,className:"absolute right-4 top-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:o.jsx(Ut,{className:"w-5 h-5 text-gray-500"})}),o.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:n("booking.guestInfo")||"Your Information"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n("booking.guestInfoSubtitle")||"We need a few details to confirm your booking"})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ye,{htmlFor:"guest-name",className:"text-sm font-medium",children:[n("booking.fullName")||"Full Name"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(gt,{id:"guest-name",type:"text",value:a,onChange:b=>{l(b.target.value),h.name&&f({...h,name:void 0})},placeholder:n("booking.enterFullName")||"Enter your full name",className:`pl-10 h-12 ${h.name?"border-red-500":""}`})]}),h.name&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ye,{htmlFor:"guest-phone",className:"text-sm font-medium",children:[n("booking.phoneNumber")||"Phone Number"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(gt,{id:"guest-phone",type:"tel",value:c,onChange:b=>{let S=b.target.value;S.startsWith("+998")||(S="+998 ");const k=S.slice(4).replace(/\D/g,"").slice(0,9);let j="+998";k.length>0&&(j+=" "+k.slice(0,2)),k.length>2&&(j+=" "+k.slice(2,5)),k.length>5&&(j+=" "+k.slice(5,7)),k.length>7&&(j+=" "+k.slice(7,9)),u(j),h.phone&&f({...h,phone:void 0})},onFocus:b=>{(!c||c==="")&&u("+998 ")},placeholder:"+998 XX XXX XX XX",className:`pl-10 h-12 ${h.phone?"border-red-500":""}`})]}),h.phone&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.phone})]}),o.jsx("div",{className:"bg-secondary/50 rounded-lg p-3",children:o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:n("booking.guestInfoNote")||"Your booking will be confirmed via SMS. No account will be created."})}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(pe,{type:"button",variant:"outline",onClick:v,className:"flex-1",children:n("common.cancel")||"Cancel"}),o.jsx(pe,{type:"submit",className:"flex-1",children:n("common.continue")||"Continue"})]})]}),o.jsx("div",{className:"h-safe pb-safe",style:{paddingBottom:"max(env(safe-area-inset-bottom), 1rem)"}})]})})]})})}function U6({customer:e,onClose:t,onSave:r}){const{t:n,language:a}=yt(),[l,c]=y.useState(null),[u,h]=y.useState(!0),[f,p]=y.useState("");y.useRef(null);const g=async()=>{if(!e.id){console.error("[CUSTOMER PROFILE EDITOR]  No customer ID provided"),h(!1);return}h(!0),console.log("[CUSTOMER PROFILE EDITOR]  Fetching customer profile from Supabase for ID:",e.id);try{const{data:S,error:N}=await Ke.from("customers").select("id, full_name, phone, avatar, preferred_districts, updated_at").eq("id",e.id).single();if(N){console.error("[CUSTOMER PROFILE EDITOR]  Error fetching customer profile:",N),h(!1);return}if(!S){console.error("[CUSTOMER PROFILE EDITOR]  No customer data found"),h(!1);return}console.log("[CUSTOMER PROFILE EDITOR]  Customer profile fetched from Supabase:",S);const k={id:S.id,role:"customer",name:S.full_name||"",email:S.phone||"",phone:S.phone||"",avatar:S.avatar||"",preferredDistricts:Array.isArray(S.preferred_districts)?S.preferred_districts:[]};console.log("[CUSTOMER PROFILE EDITOR]  Mapped customer data:",{name:k.name,phone:k.phone,preferredDistricts:k.preferredDistricts}),c(k),p(k.avatar),h(!1)}catch(S){console.error("[CUSTOMER PROFILE EDITOR]  Exception fetching customer profile:",S),h(!1)}};y.useEffect(()=>{g()},[e.id]),y.useEffect(()=>{l&&console.log("[CUSTOMER PROFILE EDITOR]  FormData state updated:",{name:l.name,phone:l.phone,avatar:l.avatar})},[l]),y.useEffect(()=>{const S=document.body.style.overflow,N=document.body.style.paddingRight,k=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${k}px`,()=>{document.body.style.overflow=S,document.body.style.paddingRight=N}},[]);const v=async S=>{S.preventDefault(),l&&(await r(l),console.log("[CUSTOMER PROFILE EDITOR]  Re-fetching profile after save..."),await g(),K.success(n("toast.profileUpdated")),t())},b=S=>{const N=S.target.value;(/^\+998\s\d{2}\s\d{3}\s\d{2}\s\d{2}$/.test(N)||N==="")&&l&&c({...l,phone:N})};return o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end md:items-center justify-center",onClick:t,children:o.jsxs(ee.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200},onClick:S=>S.stopPropagation(),className:"w-full md:max-w-2xl md:max-h-[90vh] h-[95vh] md:h-auto md:rounded-2xl bg-white dark:bg-gray-800 flex flex-col overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 md:px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-lg md:text-xl",children:n("common.profile")}),o.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:n("profileEditor.personalizeProfile")})]}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:t,className:"w-8 h-8 p-0 ml-2 flex-shrink-0",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-6",children:u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"w-8 h-8 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})}):o.jsxs("form",{onSubmit:v,className:"space-y-6 pb-20",children:[o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"name",children:n("profileEditor.fullName")}),o.jsx(gt,{id:"name",value:l?.name||"",onChange:S=>l&&c({...l,name:S.target.value}),placeholder:n("profileEditor.fullNamePlaceholder"),required:!0,disabled:!l})]}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"phone",children:n("profileEditor.phoneNumber")}),o.jsx("div",{className:"relative",children:o.jsx(gt,{id:"phone",type:"tel",value:l?.phone||"",onChange:b,placeholder:"+998 90 123 45 67",required:!0,disabled:!l})})]}),o.jsx("div",{children:o.jsx(Rm,{variant:"inline"})})]})}),o.jsx("div",{className:"sticky bottom-0 z-10 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-4 md:px-6 py-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(pe,{type:"button",onClick:v,className:"flex-1 h-12 gap-2 text-base bg-[rgb(5,20,45)]",size:"lg",children:[o.jsx(sm,{className:"w-5 h-5"}),n("common.save")]}),o.jsx(pe,{type:"button",variant:"outline",onClick:t,className:"h-12 px-6",children:n("common.cancel")})]})})]})})}const $6=e=>e==null?"":String(e),z6=(e,t)=>$6(e).split(t);function V6({customer:e,bookings:t,activeTab:r,onTabChange:n,onCancelBooking:a,onRescheduleBooking:l,onBookAgain:c,onAddBooking:u,onUpdateProfile:h,barbers:f,isBarbersLoading:p=!1,favoriteIds:g,onToggleFavorite:v,onNavigateToLogin:b}){const[S,N]=y.useState(!1),[k,j]=y.useState(null),[E,_]=y.useState("new"),[A,I]=y.useState(null),[B,M]=y.useState(),[H,V]=y.useState(!1),[X,Z]=y.useState(!1),[Q,ue]=y.useState(null),[fe,be]=y.useState(null),{t:ie}=yt();y.useEffect(()=>{const D=new URLSearchParams(window.location.search),q=D.get("barber"),F=D.get("username");if((q||F)&&f.length>0&&r==="search"){console.log(" Shared barber link detected:",{barberId:q,username:F});const $=q?f.find(re=>re.id===q):f.find(re=>re.username===F);if($){const re=new Date,Se=$.subscriptionExpiryDate?new Date($.subscriptionExpiryDate):null,de=$.subscriptionStatus==="active"||$.subscriptionStatus==="free_trial",J=Se&&Se>re||de&&(!Se||Se>re);if(console.log(" Barber subscription check:",{barber:$.name,subscriptionStatus:$.subscriptionStatus,subscriptionExpiryDate:$.subscriptionExpiryDate,isSubscriptionActive:J}),!J){console.log(" Barber subscription expired, cannot view profile");const Oe=window.location.pathname;window.history.replaceState({},"",Oe),K.error(ie("toast.barberNotAvailable")||`${$.name} is currently not available for bookings`,{duration:4e3});return}console.log(" Shared barber found and active, profile card visible in search:",$.name),be($.id);const Ce=window.location.pathname;window.history.replaceState({},"",Ce),K.success(ie("toast.barberProfileReady",{name:$.name}),{duration:3e3,style:{background:"rgba(91, 140, 255, 0.6)",backdropFilter:"blur(8px)",color:"#1a1a2e",fontWeight:"700",fontSize:"15px",padding:"16px 20px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(91, 140, 255, 0.3)",border:"2px solid rgba(255, 255, 255, 0.8)"},icon:""})}else{console.log(" Shared barber not found in current barbers list");const re=window.location.pathname;window.history.replaceState({},"",re),K.error(ie("toast.barberNotFound")||"Barber not found or no longer available",{duration:4e3})}}},[f,r,ie]);const le=D=>{e?(j(D),_("new"),M(void 0),N(!0)):(j(D),V(!0))},G=()=>{V(!1),Z(!0)},U=()=>{V(!1),b?b():(n("profile"),K.info(ie("booking.pleaseSignIn")||"Please sign in to continue"))},R=D=>{ue(D),Z(!1),_("new"),M(void 0),N(!0),K.success(ie("booking.guestInfoReceived",{name:D.name}))},T=D=>{const q=f.find(F=>F.id===D.barberId);q&&(j(q),_("reschedule"),I(D.id),M(D),N(!0),r!=="search"&&(n("search"),K.info(ie("toast.openingReschedulePage"),{duration:2e3})))},P=D=>{const q=f.find(F=>F.id===D.barberId);q&&(j(q),_("new"),M(D),N(!0),r!=="search"&&(n("search"),K.info(ie("toast.openingBookingPage"),{duration:2e3})))},L=D=>{E==="reschedule"&&A?l(A,D):u(D),N(!1),I(null)};if(r==="profile")return o.jsx(jt,{children:o.jsx(U6,{customer:e,onClose:()=>n("search"),onSave:h})});if(r==="favorites"){console.log("[FAVORITES PAGE]  Rendering favorites:",{favoriteIdsCount:g?.length||0,favoriteIds:g,barbersCount:f.length,customerId:e?.id});const D=f.filter(q=>g?.includes(q.id));return console.log("[FAVORITES PAGE]  Filtered favorite barbers:",D.length),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1 w-full bg-[#FCFDFF] py-8 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsx("h1",{className:"mb-2",children:ie("customer.favorites.title")}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:ie("customer.favorites.subtitle")})]}),D.length>0?o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map((q,F)=>o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:o.jsx(xu,{barber:q,onBookNow:le,isFavorite:!0,onToggleFavorite:v})},q.id))}):o.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16 px-4",children:[o.jsx(ee.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"inline-block mb-4",children:o.jsx(ru,{className:"w-16 h-16 text-gray-300"})}),o.jsx("h3",{className:"mb-2 text-gray-700",children:ie("customer.favorites.noFavorites")}),o.jsx("p",{className:"text-gray-600 mb-6",children:ie("customer.favorites.noFavoritesMessage")}),o.jsxs(pe,{onClick:()=>n("search"),size:"lg",className:"gap-2 w-full sm:w-auto text-sm sm:text-base px-6 py-3 sm:px-8 text-[12px]",children:[o.jsx(om,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden min-[400px]:inline",children:ie("customer.favorites.browseBarbers")})]})]})]})}),o.jsx(jt,{children:S&&k&&o.jsx(wb,{barber:k,onClose:()=>{N(!1),I(null),ue(null)},onConfirmBooking:L,onBookingSuccess:()=>{},customerId:e?.id||Q?.phone||"",customerName:e?.name||Q?.name||"",mode:E,existingBooking:B,onNavigateToLogin:b,guestInfo:Q})})]})}return r==="search"||!e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1 w-full bg-[#FCFDFF] py-8 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-12 text-center",children:[o.jsx("h1",{className:"mb-6 text-[rgb(44,44,44)] sm:text-[24px] md:text-[28px] lg:text-[32px] font-[Dela_Gothic_One] text-[32px] font-bold",children:"Bardak"}),o.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"flex justify-center mb-8",children:o.jsx("img",{src:a6,alt:"Booking illustration",className:"w-full max-w-[350px] sm:max-w-[500px] md:max-w-[650px] lg:max-w-[800px] h-auto sm:px-6 md:px-0 p-[0px]"})})]}),o.jsx(O6,{barbers:f,isBarbersLoading:p,onBookNow:le,favoriteIds:g||[],onToggleFavorite:v,priorityBarberId:fe})]})}),o.jsx(jt,{children:S&&k&&o.jsx(wb,{barber:k,onClose:()=>{N(!1),I(null),ue(null)},onConfirmBooking:L,onBookingSuccess:()=>{},customerId:e?.id||Q?.phone||"",customerName:e?.name||Q?.name||"",mode:E,existingBooking:B,onNavigateToLogin:b,guestInfo:Q})}),o.jsx(jt,{children:H&&k&&o.jsx(B6,{isOpen:H,onClose:()=>V(!1),onGuestBooking:G,onSignIn:U})}),o.jsx(jt,{children:X&&k&&o.jsx(F6,{isOpen:X,onClose:()=>Z(!1),onSubmit:R})})]}):o.jsx("div",{className:"flex-1 w-full bg-[#FCFDFF] py-8 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsx("h1",{className:"mb-2",children:e?ie("customer.dashboard.welcomeBackName",{name:e.name}):ie("app.name")}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:ie("customer.dashboard.hereBookingOverview")})]}),o.jsx("div",{className:"mb-6",children:(()=>{const D=new Date,q=t.filter(F=>{if(F.status==="cancelled"||!F.date||!F.startTime)return!1;const $=new Date(F.date),[re,Se]=z6(F.startTime,":").map(Number);return $.setHours(re,Se,0,0),$>D});return o.jsx(jt,{mode:"popLayout",children:q.length>0?o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(F=>o.jsx(LN,{booking:F,viewAs:"customer",onCancel:a,onReschedule:()=>T(F),onBookAgain:()=>P(F)},F.id))},"bookings-list"):o.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"text-center py-16 px-4",children:[o.jsx(ee.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"inline-block mb-4",children:o.jsx(xp,{className:"w-16 h-16 text-gray-300"})}),o.jsx("h3",{className:"mb-2 text-gray-700",children:ie("customer.dashboard.noUpcomingBookings")}),o.jsx("p",{className:"text-gray-600 mb-6",children:ie("customer.dashboard.noBookingsMessage")}),o.jsxs(pe,{onClick:()=>n("search"),size:"lg",className:"gap-2",children:[o.jsx(om,{className:"w-5 h-5"}),ie("customer.findBarber")]})]},"no-bookings")})})()})]})})}function Sb({title:e,value:t,subtitle:r,icon:n,color:a}){const l={emerald:{background:"bg-gradient-to-br from-emerald-50/40 to-emerald-100/30",border:"border-emerald-200/30",icon:"text-emerald-500/70",glow:"shadow-emerald-200/50"},blue:{background:"bg-gradient-to-br from-blue-50/40 to-blue-100/30",border:"border-blue-200/30",icon:"text-blue-500/70",glow:"shadow-blue-200/50"},amber:{background:"bg-gradient-to-br from-amber-50/40 to-amber-100/30",border:"border-amber-200/30",icon:"text-amber-500/70",glow:"shadow-amber-200/50"},purple:{background:"bg-gradient-to-br from-purple-50/40 to-purple-100/30",border:"border-purple-200/30",icon:"text-purple-500/70",glow:"shadow-purple-200/50"}};return o.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02,y:-4},transition:{duration:.3},children:o.jsx(St,{className:"border-0 shadow-md hover:shadow-xl transition-all duration-300 bg-white overflow-hidden",children:o.jsx(kt,{className:"p-6 rounded-[20px]",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),o.jsx("h2",{className:"mb-1",children:t}),r&&o.jsx("p",{className:"text-sm text-gray-500",children:r})]}),o.jsx(ee.div,{whileHover:{scale:1.05,rotate:5},transition:{duration:.4,ease:"easeOut"},className:"relative",children:o.jsxs("div",{className:`
                relative p-4 rounded-[20px]
                ${l[a].background}
                ${l[a].border}
                border backdrop-blur-xl
                shadow-lg ${l[a].glow}
                overflow-hidden
              `,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/40 via-transparent to-transparent rounded-[20px] pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-white/20 to-transparent rounded-b-[20px] pointer-events-none"}),o.jsx(n,{className:`w-5 h-5 relative z-10 ${l[a].icon} drop-shadow-sm`})]})})]})})})})}var td="Switch",[q6]=Vr(td),[H6,W6]=q6(td),ej=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:l,required:c,disabled:u,value:h="on",onCheckedChange:f,form:p,...g}=e,[v,b]=y.useState(null),S=it(t,_=>b(_)),N=y.useRef(!1),k=v?p||!!v.closest("form"):!0,[j,E]=Qn({prop:a,defaultProp:l??!1,onChange:f,caller:td});return o.jsxs(H6,{scope:r,checked:j,disabled:u,children:[o.jsx(Xe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":c,"data-state":sj(j),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:S,onClick:Pe(e.onClick,_=>{E(A=>!A),k&&(N.current=_.isPropagationStopped(),N.current||_.stopPropagation())})}),k&&o.jsx(nj,{control:v,bubbles:!N.current,name:n,value:h,checked:j,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});ej.displayName=td;var tj="SwitchThumb",rj=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=W6(tj,r);return o.jsx(Xe.span,{"data-state":sj(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});rj.displayName=tj;var K6="SwitchBubbleInput",nj=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},l)=>{const c=y.useRef(null),u=it(c,l),h=sl(r),f=ol(t);return y.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==r&&b){const S=new Event("click",{bubbles:n});b.call(p,r),p.dispatchEvent(S)}},[h,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nj.displayName=K6;function sj(e){return e?"checked":"unchecked"}var G6=ej,Y6=rj;function X6({className:e,...t}){return o.jsx(G6,{"data-slot":"switch",className:at("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(Y6,{"data-slot":"switch-thumb",className:at("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const ma=8,Oc=({className:e})=>o.jsx("div",{className:`relative overflow-hidden bg-gray-100 ${e}`,children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:1.5,ease:"linear",repeatDelay:.5}})});function J6({barberId:e,refreshTrigger:t}={}){const{t:r}=yt(),[n,a]=y.useState(e||null);y.useEffect(()=>{if(e){console.log("[SLOTS] Using barberId from prop:",e),a(e);return}(async()=>{const ne=localStorage.getItem("trimly_session_token");if(!ne){console.error("[SLOTS] No session token found");return}try{const he=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/auth/verify-session`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`},body:JSON.stringify({sessionToken:ne})});if(he.ok){const me=await he.json();me.valid&&me.userId&&me.role==="barber"&&(console.log("[SLOTS] Got barberId from session:",me.userId),a(me.userId))}}catch(he){console.error("[SLOTS] Failed to get barberId from session:",he)}})()},[e]);const l=(oe,ne)=>{const he=de(ne),me=new Date(he);me.setDate(he.getDate()+oe);const _e=me.getDay();return r(`schedule.${["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][_e]}`)},c=(oe,ne)=>{const he=de(ne),me=new Date(he);me.setDate(he.getDate()+oe);const _e=r("months.short"),Le=me.getMonth(),He=me.getDate();return`${_e[Le]} ${He}`},u=(oe,ne)=>{const he=de(ne),me=new Date(he);me.setDate(he.getDate()+oe);const _e=me.getFullYear(),Le=String(me.getMonth()+1).padStart(2,"0"),He=String(me.getDate()).padStart(2,"0");return`${_e}-${Le}-${He}`},h=oe=>{const ne=oe.split(":"),he=ne[0].padStart(2,"0"),me=(ne[1]||"00").padStart(2,"0"),_e=(ne[2]||"00").padStart(2,"0");return`${he}:${me}:${_e}`},[f,p]=y.useState([]),[g,v]=y.useState(!1),[b,S]=y.useState(null),[N,k]=y.useState("09:00"),[j,E]=y.useState(!1),[_]=y.useState(30),[A,I]=y.useState(!1),[B,M]=y.useState(null),[H,V]=y.useState(""),[X,Z]=y.useState("09:00"),[Q,ue]=y.useState("22:00"),[fe,be]=y.useState(30),[ie,le]=y.useState(""),[G,U]=y.useState(!1),[R,T]=y.useState(!1),[P,L]=y.useState(0),D=3,[q,F]=y.useState(!0),[$,re]=y.useState(!1);y.useEffect(()=>{(async()=>{if(n)try{const{data:ne,error:he}=await Ke.from("barbers").select("is_available").eq("id",n).single();if(he){console.error("[AVAILABILITY] Error loading availability:",he);return}v(ne?.is_available===!1),console.log("[AVAILABILITY] Loaded from database:",{is_available:ne?.is_available,unavailable:ne?.is_available===!1})}catch(ne){console.error("[AVAILABILITY] Exception loading availability:",ne)}})()},[n]);const Se=async oe=>{if(!n){K.error("Unable to update availability");return}const ne=!oe;console.log("[AVAILABILITY] Toggle clicked:",{checked:oe,newAvailability:ne,barberId:n,meaning:oe?"Marking as UNAVAILABLE (hidden)":"Marking as AVAILABLE (visible)"});try{const{error:he}=await Ke.from("barbers").update({is_available:ne}).eq("id",n);if(he){console.error("[AVAILABILITY] Error updating availability:",he),K.error(r("toast.availabilityUpdateFailed")||"Failed to update availability");return}v(oe),console.log("[AVAILABILITY]  Successfully updated database:",{barberId:n,is_available:ne,unavailable:oe,message:oe?"Barber is now HIDDEN from customers":"Barber is now VISIBLE to customers"}),K.success(oe?r("schedule.nowUnavailable")||"You are now hidden from customers":r("schedule.nowAvailable")||"You are now visible to customers"),console.log("[AVAILABILITY] Updated successfully:",{is_available:ne,unavailable:oe})}catch(he){console.error("[AVAILABILITY] Exception updating availability:",he),K.error(r("toast.availabilityUpdateFailed")||"Failed to update availability")}},de=oe=>{const ne=new Date;ne.setHours(0,0,0,0);const he=new Date(ne);return he.setDate(ne.getDate()+oe*ma),he},W=async(oe=!1)=>{if(!n){console.log("[SLOTS] barberId is null, skipping load"),oe||F(!1);return}if(!oe){F(!0);const ne=setTimeout(()=>{re(!0)},800);window.__skeletonTimer=ne}console.log("[SLOTS] Loading slots for barberId:",n);try{const ne=de(P),he=new Date(ne);he.setDate(ne.getDate()+(ma-1));const me=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}-${String(ne.getDate()).padStart(2,"0")}`,_e=`${he.getFullYear()}-${String(he.getMonth()+1).padStart(2,"0")}-${String(he.getDate()).padStart(2,"0")}`;console.log("[SLOTS] Fetching slots for page:",{startStr:me,endStr:_e,barberId:n});const Le=localStorage.getItem("trimly_session_token");if(!Le){console.error("[SLOTS] No active session found"),K.error("Please login to view schedule"),oe||(clearTimeout(window.__skeletonTimer),F(!1),re(!1));return}const He=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/slots?start_date=${me}&end_date=${_e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"x-session-token":Le}});if(!He.ok){const Ge=await He.json();throw console.error("[SLOTS] API error:",Ge),new Error(Ge.error||"Failed to fetch slots")}const Ve=(await He.json()).slots||[];console.log("[SLOTS] Fetched rows count:",Ve?.length||0),console.log("[SLOTS] Fetched slots:",Ve);const Ze=`working_days_${n}`;let ct={};try{const Ge=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/kv/${Ze}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"x-session-token":Le}});if(Ge.ok){const Ct=await Ge.json();Ct.value&&(ct=JSON.parse(Ct.value),console.log("[WORKING DAYS] Loaded from KV:",ct))}}catch{console.log("[WORKING DAYS] No stored data, using defaults")}const vt=Array.from({length:ma},(Ge,Ct)=>{const xt=u(Ct,P),$e=ct[xt]===!0;return{day:"",date:xt,isOff:!$e,slots:[]}});Ve&&Ve.length>0&&(console.log("[SLOTS]  Fetched",Ve.length,"slots from database"),console.log("[SLOTS] All fetched slots:",Ve),Ve.forEach(Ge=>{const Ct=new Date(Ge.slot_date+"T00:00:00"),xt=Math.floor((Ct.getTime()-ne.getTime())/(1e3*60*60*24));if(xt>=0&&xt<ma){const $e=xt,bt=Ge.start_time.slice(0,5),Et=Ge.is_booked===!0;console.log("[SLOT PROCESSING]",{id:Ge.id,time:bt,date:Ge.slot_date,is_booked:Ge.is_booked,isBooked:Et,will_show:Et?" RED (Booked)":" GREEN (Available)",all_fields:Ge}),vt[$e].slots.push({id:Ge.id,time:bt,available:!Et,booked:Et})}}),vt.forEach(Ge=>{Ge.slots.sort((Ct,xt)=>{const $e=Ct.time.split(":").map(Number),bt=xt.time.split(":").map(Number);return $e[0]*60+$e[1]-(bt[0]*60+bt[1])})}),console.log("[SLOTS]  Final schedule with ALL slots:",vt.map((Ge,Ct)=>({day:Ct,date:Ge.date,isOff:Ge.isOff,slotCount:Ge.slots.length,slots:Ge.slots.map(xt=>({time:xt.time,booked:xt.booked}))})))),p(vt),console.log("[SLOTS] Schedule loaded successfully")}catch(ne){console.error("[SLOTS] Error fetching schedule:",ne),K.error("Failed to load schedule")}finally{oe||(clearTimeout(window.__skeletonTimer),$?setTimeout(()=>{F(!1),re(!1)},300):(F(!1),re(!1)))}};y.useEffect(()=>{t!==void 0&&n&&(console.log("[SLOTS] Refresh trigger received, reloading slots..."),W(!0))},[t,n]),y.useEffect(()=>{if(!n)return;console.log("[SLOTS]  Setting up realtime subscription for barber_slots...");const oe=Ke.channel(`barber-slots-updates-${n}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"barber_slots",filter:`barber_id=eq.${n}`},ne=>{if(console.log("[SLOTS]  Realtime UPDATE received:",ne),j){console.log("[SLOTS]   Skipping reload - editing in progress");return}W(!0)}).subscribe(ne=>{console.log("[SLOTS]  Subscription status:",ne)});return()=>{console.log("[SLOTS]  Cleaning up realtime subscription"),Ke.removeChannel(oe)}},[n,j]),y.useEffect(()=>{if(n){console.log("[SLOTS] barberId available or pageIndex changed, loading slots"),W(!1);const oe=setInterval(()=>{if(j){console.log("[SLOTS]   Skipping poll - editing in progress");return}console.log("[SLOTS] Polling for slot updates..."),W(!0)},5e3);return()=>{clearInterval(oe)}}},[n,P]);const J=async oe=>{const he=!f[oe].isOff,me=u(oe,P);if(he)try{const{error:_e}=await Ke.from("barber_slots").delete().eq("barber_id",n).eq("slot_date",me);if(_e)throw _e;await Ce(me,!1),p(He=>He.map((Ee,Ve)=>Ve===oe?{...Ee,isOff:!0,slots:[]}:Ee));const Le=l(oe,P);K.success(r("schedule.markedAsOff").replace("{day}",Le))}catch(_e){console.error("Error clearing day schedule",_e),K.error("Failed to update schedule")}else try{await Ce(me,!0),p(Le=>Le.map((He,Ee)=>Ee===oe?{...He,isOff:!1}:He));const _e=l(oe,P);K.success(r("schedule.markedAsWorking").replace("{day}",_e))}catch(_e){console.error("Error setting working day",_e),K.error("Failed to update schedule")}},Ce=async(oe,ne)=>{const he=localStorage.getItem("trimly_session_token");if(!he){console.error("[WORKING DAY] No session token");return}const me=`working_days_${n}`;try{const _e=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/kv/${me}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"x-session-token":he}});let Le={};if(_e.ok){const Ee=await _e.json();Ee.value&&(Le=JSON.parse(Ee.value))}ne?Le[oe]=!0:delete Le[oe],(await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/kv/${me}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"x-session-token":he},body:JSON.stringify({value:JSON.stringify(Le)})})).ok?console.log("[WORKING DAY]  Saved to KV store:",{date:oe,isWorkingDay:ne}):console.error("[WORKING DAY] Failed to save to KV store")}catch(_e){console.error("[WORKING DAY] Error updating KV store:",_e)}},Oe=(oe,ne,he)=>f[oe]?.slots.some(me=>me.time===ne&&me.id!==he)||!1,Re=async oe=>{const ne=u(oe,P);if((f[oe]?.slots||[]).length===0){console.log("[ADD SLOT] No existing slots for this day, showing time picker modal");const me=new Date,_e=`${String(me.getHours()).padStart(2,"0")}:${String(me.getMinutes()).padStart(2,"0")}`;V(_e),M(oe),I(!0);return}try{const{data:me,error:_e}=await Ke.from("barber_slots").select("start_time").eq("barber_id",n).eq("slot_date",ne).order("start_time",{ascending:!1}).limit(1);if(_e){console.error(" Error fetching latest slot:",_e),K.error("Failed to load slots");return}if(me&&me.length>0){const Le=me[0],[He,Ee]=Le.start_time.split(":").map(Number),Ve=He*60+Ee+30,Ze=Math.floor(Ve/60),ct=Ve%60,vt=`${String(Ze).padStart(2,"0")}:${String(ct).padStart(2,"0")}`;if(console.log("[ADD SLOT] Latest slot found:",Le.start_time," Next time:",vt),Oe(oe,vt)){K.error("This time slot already exists");return}await ot(oe,vt)}}catch(me){console.error(" Error in openAddSlotDialog:",me),K.error("Failed to add slot")}},ot=async(oe,ne)=>{const he=Ee=>{const[Ve,Ze]=Ee.split(":").map(Number),ct=Ve*60+Ze+60,vt=Math.floor(ct/60)%24,Ge=ct%60;return`${String(vt).padStart(2,"0")}:${String(Ge).padStart(2,"0")}`},me=u(oe,P),_e=new Date,Le=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate()),He=new Date(me+"T00:00:00");if(console.log("[ADD SLOT] Starting add slot process:",{dayIndex:oe,slotTime:ne,slotDate:me,barberId:n}),He<Le){console.log("[ADD SLOT]  Date is in the past"),K.error("Cannot add slots in the past");return}if(He.getTime()===Le.getTime()){const[Ee,Ve]=ne.split(":").map(Number),Ze=_e.getHours(),ct=_e.getMinutes(),vt=Ee*60+Ve,Ge=Ze*60+ct;if(vt<=Ge){console.log("[ADD SLOT]  Time has already passed"),K.error(r("toast.cannotAddPastSlots")||"Cannot add slots for times that have already passed");return}}try{const Ee=localStorage.getItem("trimly_session_token");if(!Ee){console.error(" No active session found"),K.error("Please login to add slots");return}console.log("[ADD SLOT] Session token found:",Ee.substring(0,20)+"...");const Ve=h(ne),Ze=h(he(ne)),ct={slot_date:me,start_time:Ve,end_time:Ze,is_available:!0};console.log("[ADD SLOT] Sending request to backend:",ct);const vt=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/slots`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":Ee},body:JSON.stringify(ct)});if(console.log("[ADD SLOT] Response status:",vt.status),!vt.ok){const Ge=await vt.json();console.error(" Failed to add slot:",Ge),vt.status===401?K.error("Session expired. Please login again."):vt.status===403?K.error("Only barbers can create slots"):Ge.error?K.error(`Failed to add slot: ${Ge.error}`):K.error("Failed to add slot. Please try again.");return}console.log(" Slot added successfully"),K.success(r("schedule.slotAddedSuccess")),await W()}catch(Ee){console.error(" Error adding slot:",Ee?.message||Ee)}},ft=async(oe,ne)=>{try{const he=localStorage.getItem("trimly_session_token");if(!he){console.error(" No active session found"),K.error("Please login to delete slots");return}console.log("[DELETE SLOT] Attempting to delete slot:",{slotId:ne});const me=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/slots/${ne}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":he}}),_e=await me.json();if(console.log("[DELETE SLOT] Backend response:",{result:_e,status:me.status}),!me.ok)throw console.error(" DELETE SLOT ERROR:",_e),new Error(_e.error||_e.details||"Failed to delete slot");console.log(" Slot deleted successfully from database"),p(Le=>Le.map((He,Ee)=>Ee===oe?{...He,slots:He.slots.filter(Ve=>Ve.id!==ne)}:He)),K.success(r("toast.timeSlotRemoved")),console.log("[DELETE SLOT] Re-fetching slots from database after delete"),await W()}catch(he){console.error(" Error removing slot:",he),console.error(" Error details:",{message:he?.message,stack:he?.stack}),K.error("Failed to delete slot")}},Nt=(oe,ne,he)=>{S({dayIndex:oe,slotId:ne}),k(he),E(!0)},lt=()=>{S(null),k("09:00"),E(!1)},ve=async()=>{if(b){if(Oe(b.dayIndex,N,b.slotId)){K.error(r("toast.duplicateTimeError"));return}try{console.log("[EDIT SLOT]  Saving slot edit:",{slotId:b.slotId,newTime:N});const[oe,ne]=N.split(":").map(Number),he=oe*60+ne+60,me=Math.floor(he/60)%24,_e=he%60,Le=`${String(me).padStart(2,"0")}:${String(_e).padStart(2,"0")}`;console.log("[EDIT SLOT]  Updating via backend API...",{start:N,end:Le});const He=localStorage.getItem("trimly_session_token");if(!He){console.error("[EDIT SLOT]  No active session found"),K.error("Please login to edit slots"),E(!1);return}const Ee=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/slots/${b.slotId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":He},body:JSON.stringify({start_time:N,end_time:Le})});if(!Ee.ok){const Ze=await Ee.json();throw console.error("[EDIT SLOT]  Backend API error:",Ze),new Error(Ze.error||"Failed to update slot")}const Ve=await Ee.json();console.log("[EDIT SLOT]  Backend API updated successfully:",Ve),p(Ze=>Ze.map((ct,vt)=>vt===b.dayIndex?{...ct,slots:ct.slots.map(Ge=>Ge.id===b.slotId?{...Ge,time:N}:Ge).sort((Ge,Ct)=>Ge.time.localeCompare(Ct.time))}:ct)),console.log("[EDIT SLOT]  Local state updated"),K.success(r("toast.timeSlotUpdated")),lt(),console.log("[EDIT SLOT]  Edit complete - auto-reload resumed")}catch(oe){console.error("[EDIT SLOT]  Error updating slot:",oe),K.error(oe.message||"Failed to update time slot"),E(!1)}}},Ae=async()=>{if(!H||B===null){K.error("Please select a time");return}if(Oe(B,H)){K.error("This time slot already exists");return}I(!1),await ot(B,H),M(null),V("")},Ie=()=>{I(!1),M(null),V("")},Te=()=>{le("");const[oe,ne]=X.split(":").map(Number),[he,me]=Q.split(":").map(Number),_e=oe*60+ne,Le=he*60+me;return _e>=Le?(le("Start time must be earlier than end time"),!1):fe<=0?(le("Duration must be greater than 0"),!1):!0},ce=()=>{console.log("[GENERATE] Input params:",{fromTime:X,toTime:Q,duration:fe});const oe=[],[ne,he]=X.split(":").map(Number),[me,_e]=Q.split(":").map(Number),Le=ne*60+he,He=me*60+_e;console.log("[GENERATE] Calculated:",{fromMinutes:Le,toMinutes:He,totalMinutes:He-Le,expectedSlots:Math.floor((He-Le)/fe)});let Ee=Le;for(;Ee+fe<=He;){const Ve=Math.floor(Ee/60),Ze=Ee%60,ct=`${String(Ve).padStart(2,"0")}:${String(Ze).padStart(2,"0")}`;oe.push(ct),Ee+=fe}return console.log("[GENERATE] Generated slots:",oe),console.log("[GENERATE] Total generated:",oe.length),oe},xe=()=>f.some(oe=>oe.slots.length>0),je=()=>{Te()&&(xe()?U(!0):rt())},rt=async()=>{U(!1),T(!0);try{const oe=localStorage.getItem("trimly_session_token");if(!oe){K.error("Please login to setup slots"),T(!1);return}const ne=Date.now();console.log("[QUICK SETUP] ===== STARTING OPTIMIZED BATCH SETUP ====="),console.log("[QUICK SETUP] Input values:",{from:X,to:Q,duration:fe,barberId:n});const he=ce();console.log("[QUICK SETUP] Generated slot times:",he),console.log("[QUICK SETUP] Total slots per day:",he.length);const me=new Date;me.setHours(0,0,0,0);const _e=new Date,Le=_e.getHours()*60+_e.getMinutes();console.log("[QUICK SETUP]  Generating all slots in memory...");const He=[],Ee=[];for(let xt=0;xt<7;xt++){const $e=new Date(me);$e.setDate(me.getDate()+xt);const bt=$e.getFullYear(),Et=String($e.getMonth()+1).padStart(2,"0"),nr=String($e.getDate()).padStart(2,"0"),en=`${bt}-${Et}-${nr}`;Ee.push(en);for(const Mt of he){const[qt,tn]=Mt.split(":").map(Number);if(xt===0&&qt*60+tn<=Le)continue;const Kt=qt*60+tn+fe,xr=Math.floor(Kt/60)%24,bn=Kt%60,jr=`${String(xr).padStart(2,"0")}:${String(bn).padStart(2,"0")}`;He.push({slot_date:en,start_time:h(Mt),end_time:h(jr),is_available:!0})}}console.log(`[QUICK SETUP]  Generated ${He.length} slots in memory`),console.log("[QUICK SETUP]  Sending to server for atomic delete + insert...");const Ve=new Date(me);Ve.setDate(me.getDate()+6);const Ze=`${Ve.getFullYear()}-${String(Ve.getMonth()+1).padStart(2,"0")}-${String(Ve.getDate()).padStart(2,"0")}`,ct=`${me.getFullYear()}-${String(me.getMonth()+1).padStart(2,"0")}-${String(me.getDate()).padStart(2,"0")}`;if(He.length>0){const xt=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/slots/batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":oe},body:JSON.stringify({slots:He,deleteDateRange:{from:ct,to:Ze}})});if(!xt.ok){const bt=await xt.json();throw console.error("[QUICK SETUP]  Batch operation failed:",bt),new Error(`Failed to setup slots: ${bt.error||"Unknown error"}`)}const $e=await xt.json();console.log(`[QUICK SETUP]  Deleted ${$e.deleted||0} old slots`),console.log(`[QUICK SETUP]  Inserted ${$e.inserted||0} new slots`)}console.log("[QUICK SETUP]  Updating working day states...");for(const xt of Ee)await Ce(xt,!0);const Ge=Date.now()-ne;console.log(`[QUICK SETUP]  PERFORMANCE: Total time: ${Ge}ms`),console.log(`[QUICK SETUP]  Operations: 1 DELETE + 1 INSERT (batch) + ${Ee.length} working day updates`);const Ct=r("schedule.generatedSuccess",{count:He.length.toString(),duration:(Ge/1e3).toFixed(1)})||`Generated ${He.length} slots for 7 days in ${(Ge/1e3).toFixed(1)}s!`;K.success(Ct),console.log("[QUICK SETUP]  Reloading slots from server..."),await W()}catch(oe){console.error("[QUICK SETUP]  Error:",oe),K.error("Failed to generate slots. Please try again."),await W()}finally{T(!1)}},et=async()=>{if(n&&window.confirm("Are you sure you want to clear all time slots for this week?")){T(!0);try{const oe=new Date;oe.setHours(0,0,0,0);const ne=f.map((he,me)=>{const _e=u(me,P);return new Date(_e+"T00:00:00")<oe?he:{...he,slots:[]}});p(ne),console.log("[QUICK SETUP CLEAR]  Optimistic UI cleared instantly");for(let he=0;he<ma;he++){const me=u(he,P);if(new Date(me+"T00:00:00")<oe)continue;const{error:Le}=await Ke.from("barber_slots").delete().eq("barber_id",n).eq("slot_date",me);if(Le)throw console.error("[QUICK SETUP CLEAR] Error deleting slots for",me,Le),new Error(`Failed to delete slots: ${Le.message}`);await Ce(me,!1)}K.success(r("toast.slotsClearedWeek")),await W()}catch(oe){console.error("[QUICK SETUP CLEAR] Error:",oe),K.error(r("toast.networkError")||"Failed to clear slots. Please try again."),await W()}finally{T(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(St,{className:"border-0 shadow-md bg-white",children:[o.jsx(zr,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ye,{htmlFor:"unavailable",className:"text-sm",children:r("schedule.markAsUnavailable")}),o.jsx(X6,{id:"unavailable",checked:g,onCheckedChange:Se})]})]})}),o.jsxs(kt,{children:[g&&o.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 rounded-lg bg-amber-50 border border-amber-200",children:o.jsx("p",{className:"text-sm text-amber-800",children:r("schedule.unavailableWarning")})}),o.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-5 rounded-xl bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:r("schedule.quickSetup")||"Set up quickly"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"quickSetupFrom",className:"text-xs text-gray-600 mb-1.5 block",children:r("schedule.from")||"From"}),o.jsx(gt,{type:"time",id:"quickSetupFrom",value:X,onChange:oe=>{console.log("[QUICK SETUP] From time changed to:",oe.target.value),Z(oe.target.value)},className:"h-10 text-sm"})]}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"quickSetupTo",className:"text-xs text-gray-600 mb-1.5 block",children:r("schedule.to")||"To"}),o.jsx(gt,{type:"time",id:"quickSetupTo",value:Q,onChange:oe=>{console.log("[QUICK SETUP] To time changed to:",oe.target.value),ue(oe.target.value)},className:"h-10 text-sm"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Ye,{htmlFor:"quickSetupDuration",className:"text-xs text-gray-600 mb-1.5 block",children:r("schedule.avgDuration")||"Avg. duration"}),o.jsxs("select",{id:"quickSetupDuration",value:fe,onChange:oe=>{console.log("[QUICK SETUP] Duration changed to:",oe.target.value,"min"),be(Number(oe.target.value))},className:"h-10 w-full px-3 py-2 text-sm rounded-md border border-input bg-background",children:[o.jsx("option",{value:15,children:"15 min"}),o.jsx("option",{value:30,children:"30 min"}),o.jsx("option",{value:45,children:"45 min"}),o.jsx("option",{value:60,children:"60 min"})]})]}),ie&&o.jsx(ee.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-3 text-xs text-red-600",children:ie}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[o.jsx(pe,{onClick:et,disabled:R,variant:"outline",className:"h-10 bg-white text-primary border border-primary hover:bg-primary/5 hover:text-primary font-medium",children:R?o.jsxs("div",{className:"flex items-center gap-2 min-w-0 overflow-hidden",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}),o.jsx("span",{className:"truncate",children:r("schedule.clearing")||"Clearing..."})]}):r("schedule.clear")||"Clear"}),o.jsx(pe,{onClick:je,disabled:R,className:"h-10 bg-primary text-white hover:bg-primary/90 font-medium shadow-sm",children:R?o.jsxs("div",{className:"flex items-center gap-2 min-w-0 overflow-hidden",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z\\"})]}),o.jsx("span",{className:"truncate",children:r("schedule.settingUp")||"Setting up..."})]}):r("schedule.setUp")||"Set up"})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>L(oe=>Math.max(0,oe-1)),disabled:P===0,className:"gap-2 rounded-[12px]",children:[o.jsx(Is,{className:"w-4 h-4"}),r("common.back")]}),o.jsx("div",{}),o.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>L(oe=>oe+1),disabled:P>=D-1,className:"gap-2 rounded-[12px]",children:[r("common.next"),o.jsx(Ds,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-8 gap-4 bg-[rgba(0,31,233,0)]",children:o.jsx(jt,{mode:"wait",children:$?Array.from({length:8}).map((oe,ne)=>o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"p-4 rounded-lg border border-gray-100 bg-white",children:[o.jsxs("div",{className:"mb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx(Oc,{className:"h-4 w-24 rounded"}),o.jsx(Oc,{className:"h-3 w-12 rounded"})]}),o.jsx(Oc,{className:"h-7 w-full rounded-md"})]}),o.jsx("div",{className:"space-y-2 mt-4",children:Array.from({length:6}).map((he,me)=>o.jsx(Oc,{className:"h-10 w-full rounded-lg"},me))})]},`skeleton-${ne}`)):f.map((oe,ne)=>o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.05},className:`p-4 rounded-lg border-2 transition-all ${oe.isOff?"bg-gray-50 border-gray-200":"bg-primary/5 border-primary/20"}`,children:[o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-relaxed pb-0.5",children:l(ne,P)}),o.jsx("span",{className:"text-xs text-gray-500",children:c(ne,P)})]}),o.jsx(pe,{variant:"outline",size:"sm",onClick:()=>J(ne),className:"w-full text-xs h-7 bg-primary/10 text-primary hover:bg-primary/20 border-primary/20",children:oe.isOff?r("schedule.setAsWorking"):r("schedule.setAsOff")})]}),!oe.isOff&&o.jsxs("div",{className:"space-y-2 bg-[rgba(0,0,0,0)]",children:[oe.slots.map(he=>{const me=b?.dayIndex===ne&&b?.slotId===he.id,_e=he.booked||!1;return o.jsx(ee.div,{whileHover:{scale:_e?1:1.02},className:`p-3 rounded-xl text-xs shadow-sm transition-all border-2 ${_e?"bg-red-50 border-red-200 cursor-not-allowed":"bg-white border-primary/20 hover:border-primary/30 hover:shadow-md"}`,children:me&&!_e?o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-1",children:o.jsx(gt,{type:"time",value:N,onChange:Le=>k(Le.target.value),className:"h-7 text-xs flex-1",step:_*60})}),o.jsxs("div",{className:"flex gap-1",children:[o.jsxs(pe,{variant:"default",size:"sm",onClick:ve,className:"h-6 flex-1 gap-1",children:[o.jsx(vr,{className:"w-3 h-3"}),r("schedule.save")]}),o.jsxs(pe,{variant:"outline",size:"sm",onClick:lt,className:"h-6 flex-1 gap-1",children:[o.jsx(Ut,{className:"w-3 h-3"}),r("schedule.cancel")]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(An,{className:`w-3 h-3 ${_e?"text-red-600":""}`}),o.jsx("span",{className:_e?"text-red-800 font-medium":"",children:he.time})]}),!_e&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Nt(ne,he.id,he.time),className:"h-5 w-5 p-0",children:o.jsx(gS,{className:"w-3 h-3 text-blue-500"})}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>ft(ne,he.id),className:"h-5 w-5 p-0",children:o.jsx(ju,{className:"w-3 h-3 text-red-500"})})]})]}),o.jsx(Jt,{variant:"outline",className:`text-xs w-full justify-center font-semibold rounded-lg ${_e?"bg-red-100 text-red-700 border-red-300":"bg-primary/10 text-primary border-primary/30"}`,children:r(_e?"schedule.booked":"schedule.open")})]})},he.id)}),o.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>Re(ne),className:"w-full gap-1 text-xs h-7",children:[o.jsx(uo,{className:"w-3 h-3"}),r("schedule.addSlot")]})]}),oe.isOff&&o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx("span",{className:"text-xs text-gray-500",children:r("schedule.dayOff")})})]},`${P}-${ne}`))})})]})]}),o.jsx(La,{open:A,onOpenChange:I,children:o.jsxs(yi,{className:"sm:max-w-[425px]",children:[o.jsxs(Ba,{children:[o.jsx(Fa,{children:r("schedule.addSlot")||"Add Time Slot"}),o.jsx(Ua,{children:r("schedule.addSlotDescription")||"Choose a start time to create the first time slot"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{htmlFor:"startTime",children:r("schedule.startTime")||"Start Time"}),o.jsx(gt,{type:"time",id:"startTime",value:H,onChange:oe=>V(oe.target.value),step:_*60})]})}),o.jsxs(xm,{children:[o.jsx(pe,{variant:"outline",size:"sm",onClick:Ie,children:r("common.cancel")||"Cancel"}),o.jsx(pe,{variant:"default",size:"sm",onClick:Ae,children:r("common.confirm")||"Confirm"})]})]})}),o.jsx(La,{open:G,onOpenChange:U,children:o.jsxs(yi,{className:"sm:max-w-[425px]",children:[o.jsxs(Ba,{children:[o.jsx(Fa,{children:r("schedule.replaceTitle")||"Replace existing slots?"}),o.jsx(Ua,{children:r("schedule.replaceDescription")||"This will replace all existing time slots with new generated slots. This action cannot be undone."})]}),o.jsxs(xm,{children:[o.jsx(pe,{variant:"outline",size:"sm",onClick:()=>U(!1),children:r("common.cancel")||"Cancel"}),o.jsx(pe,{variant:"default",size:"sm",onClick:rt,disabled:R,children:R?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}),r("schedule.settingUp")||"Setting up..."]}):r("schedule.replace")||"Replace"})]})]})})]})}function oj({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:at("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var Q6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z6=Q6.reduce((e,t)=>{const r=_u(`Primitive.${t}`),n=y.forwardRef((a,l)=>{const{asChild:c,...u}=a,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...u,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eU="Separator",kb="horizontal",tU=["horizontal","vertical"],ij=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=kb,...a}=e,l=rU(n)?n:kb,u=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return o.jsx(Z6.div,{"data-orientation":l,...u,...a,ref:t})});ij.displayName=eU;function rU(e){return tU.includes(e)}var nU=ij;function ci({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return o.jsx(nU,{"data-slot":"separator-root",decorative:r,orientation:t,className:at("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function sU({services:e,onServicesChange:t}){const{t:r}=yt(),[n,a]=y.useState(!1),[l,c]=y.useState(null),[u,h]=y.useState(!1),f=y.useRef(null),p=u?e:e.slice(0,6),g=e.length>6,[v,b]=y.useState({name:"",duration:30,price:5e4,description:""}),S=_=>new Intl.NumberFormat("uz-UZ").format(_),N=()=>{if(!v.name.trim()){K.error(r("toast.serviceNameRequired"));return}if(Number.isNaN(v.duration)||v.duration<=0){K.error(r("toast.durationMustBePositive"));return}if(Number.isNaN(v.price)||v.price<=0){K.error(r("toast.priceMustBePositive"));return}if(v.description&&v.description.length>150){K.error(r("toast.descriptionTooLong"));return}if(l){const _=e.map(A=>A.id===l?{...A,...v}:A);t(_),K.success(r("toast.serviceUpdated"))}else{const _={id:`service-${Date.now()}-${Math.floor(Math.random()*1e3)}`,...v,orderIndex:e.length};t([...e,_]),K.success(r("toast.serviceAdded"))}E()},k=_=>{b({name:_.name,duration:_.duration,price:_.price,description:_.description||""}),c(_.id),a(!0),setTimeout(()=>{f.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},j=_=>{t(e.filter(A=>A.id!==_)),K.success(r("toast.serviceRemoved"))},E=()=>{b({name:"",duration:30,price:5e4,description:""}),a(!1),c(null)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-base sm:text-lg",children:r("servicesManager.title")}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:r("servicesManager.description")})]})}),e.length>0&&o.jsx("div",{className:"space-y-2",children:o.jsx(jt,{children:p.map(_=>o.jsx(ee.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:o.jsx(St,{className:"group hover:shadow-md transition-all duration-200",children:o.jsx(kt,{className:"p-3 sm:p-4",children:o.jsx("div",{className:"flex items-start gap-2 sm:gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium truncate text-sm sm:text-base",children:_.name}),_.description&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:_.description})]}),o.jsxs("div",{className:"flex gap-0.5 sm:gap-1 flex-shrink-0",children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>k(_),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:o.jsx(mS,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>j(_.id),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(ju,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:[o.jsxs(Jt,{variant:"outline",className:"gap-1 text-xs",children:[o.jsx(An,{className:"w-3 h-3"}),o.jsxs("span",{className:"hidden xs:inline",children:[_.duration," min"]}),o.jsxs("span",{className:"xs:hidden",children:[_.duration,"m"]})]}),o.jsxs(Jt,{variant:"outline",className:"gap-1 text-xs",children:[o.jsx(rl,{className:"w-3 h-3"}),o.jsxs("span",{className:"truncate max-w-[120px] sm:max-w-none",children:[S(_.price)," UZS"]})]})]})]})})})})},_.id))})}),g&&o.jsx(pe,{variant:"outline",onClick:()=>h(!u),className:"w-full gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx(yp,{className:"w-4 h-4"}),o.jsx("span",{children:r("servicesManager.showLess")})]}):o.jsxs(o.Fragment,{children:[o.jsx(yo,{className:"w-4 h-4"}),o.jsx("span",{children:r("servicesManager.showMore",{count:e.length-6})})]})}),o.jsx(jt,{children:n?o.jsx(ee.div,{ref:f,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs(St,{className:"border-2 border-emerald-200 dark:border-emerald-800",children:[o.jsx(zr,{className:"p-4 sm:p-6",children:o.jsx(Dn,{className:"text-sm sm:text-base",children:r(l?"servicesManager.editService":"servicesManager.addNewService")})}),o.jsxs(kt,{className:"space-y-3 sm:space-y-4 p-4 sm:p-6 pt-0",children:[o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"serviceName",className:"text-xs sm:text-sm",children:[r("servicesManager.serviceName")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(gt,{id:"serviceName",value:v.name,onChange:_=>b({...v,name:_.target.value}),placeholder:r("servicesManager.serviceNamePlaceholder"),maxLength:50,className:"text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"duration",className:"text-xs sm:text-sm",children:[r("servicesManager.duration")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(gt,{id:"duration",type:"number",min:"5",max:"480",value:v.duration,onChange:_=>b({...v,duration:parseInt(_.target.value)||0}),className:"text-sm"})]}),o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"price",className:"text-xs sm:text-sm",children:[r("servicesManager.price")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(gt,{id:"price",type:"number",min:"1000",max:"10000000",step:"1000",value:v.price,onChange:_=>b({...v,price:parseInt(_.target.value)||0}),className:"text-sm"})]})]}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"description",className:"text-xs sm:text-sm",children:r("servicesManager.descriptionOptional")}),o.jsx(oj,{id:"description",value:v.description,onChange:_=>b({...v,description:_.target.value}),placeholder:r("servicesManager.descriptionPlaceholder"),maxLength:150,rows:2,className:"text-sm resize-none"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r("servicesManager.charactersCount",{current:v.description?.length||0,max:150})})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 pt-1",children:[o.jsx(pe,{type:"button",variant:"outline",onClick:E,className:"w-full sm:w-auto text-xs sm:text-sm",children:r("common.cancel")}),o.jsx(pe,{type:"button",onClick:N,className:"w-full sm:flex-1 text-xs sm:text-sm",children:r(l?"servicesManager.updateService":"servicesManager.addService")})]})]})]})}):o.jsxs(pe,{type:"button",variant:"outline",onClick:()=>a(!0),className:"w-full gap-2 border-dashed border-2 text-xs sm:text-sm py-5 sm:py-6 rounded-[18px]",children:[o.jsx(uo,{className:"w-4 h-4"}),r("servicesManager.addService")]})}),e.length===0&&!n&&o.jsxs("div",{className:"text-center py-6 sm:py-8 px-3 sm:px-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4",children:r("servicesManager.emptyStateMessage")}),o.jsxs(pe,{type:"button",onClick:()=>a(!0),className:"gap-2 text-xs sm:text-sm whitespace-normal h-auto",children:[o.jsx(uo,{className:"w-4 h-4"}),r("servicesManager.addFirstService")]})]})]})}function oU({images:e,onImagesChange:t,minImages:r=0,maxImages:n=4}){const[a,l]=y.useState(null),[c,u]=y.useState([]),[h,f]=y.useState(new Set),p=y.useRef(null),{t:g}=yt(),v=async I=>{const B=Array.from(I.target.files||[]);if(e.length+B.length+c.length>n){K.error(`You can upload a maximum of ${n} photos.`);return}for(const M of B){if(!M.type.match(/^image\/(jpeg|jpg|png|webp)$/)){K.error(g("toast.invalidFileFormat").replace("{{name}}",M.name));continue}if(M.size>5*1024*1024){K.error(g("toast.imageSizeError"));continue}const H=`loading-${Date.now()}-${Math.random()}`;u(V=>[...V,{id:H,tempUrl:"",isLoading:!0,isFullyLoaded:!1}]);try{const V=new FileReader;V.onloadend=()=>{const X=V.result;u(Q=>Q.map(ue=>ue.id===H?{...ue,tempUrl:X}:ue));const Z=new Image;Z.onload=()=>{const Q=`image-${Date.now()}-${Math.random()}`,ue={id:Q,url:X,orderIndex:e.length};u(fe=>fe.filter(be=>be.id!==H)),t([...e,ue]),f(fe=>new Set([...fe,Q])),K.success(g("toast.photoUploaded"))},Z.onerror=()=>{K.error(`Failed to load ${M.name}`),u(Q=>Q.filter(ue=>ue.id!==H))},Z.src=X},V.onerror=()=>{K.error(`Failed to read ${M.name}`),u(X=>X.filter(Z=>Z.id!==H))},V.readAsDataURL(M)}catch{K.error(`Error uploading ${M.name}`),u(X=>X.filter(Z=>Z.id!==H))}}p.current&&(p.current.value="")},b=I=>{const B=e.filter(M=>M.id!==I).map((M,H)=>({...M,orderIndex:H}));t(B),f(M=>{const H=new Set(M);return H.delete(I),H}),K.success(g("toast.photoRemoved"))},S=I=>{l(I)},N=()=>{l(null)},k=()=>{a!==null&&l((a+1)%e.length)},j=()=>{a!==null&&l((a-1+e.length)%e.length)},E=e.length+c.length,_=E<n,A=E<r;return o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-1 text-sm sm:text-base",children:g("interiorExteriorGallery.title")}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:g("interiorExteriorGallery.description",{minImages:String(r),maxImages:String(n)})})]}),A&&o.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2.5 sm:p-3",children:o.jsxs("p",{className:"text-xs sm:text-sm text-amber-800 dark:text-amber-200",children:[g("interiorExteriorGallery.warningMinPhotos",{min:String(r)}),E>0&&` ${g("interiorExteriorGallery.warningMoreNeeded",{more:String(r-E)})}`]})}),E>0&&o.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:o.jsxs(jt,{mode:"popLayout",children:[e.map((I,B)=>{const M=h.has(I.id);return o.jsx(ee.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative group",children:o.jsx(St,{className:"overflow-hidden hover:shadow-lg transition-all duration-200",children:o.jsxs(kt,{className:"p-0 aspect-video relative bg-gray-100 dark:bg-gray-800",children:[!M&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:o.jsx("div",{className:"flex flex-col items-center gap-2",children:o.jsx("div",{className:"w-8 h-8 border-2 border-gray-200 border-t-[#5B8CFF] rounded-full animate-spin"})})}),o.jsx("img",{src:I.url,alt:`${g("interiorExteriorGallery.altText")} ${B+1}`,className:`w-full h-full object-cover cursor-pointer transition-opacity duration-300 ${M?"opacity-100":"opacity-0"}`,onClick:()=>M&&S(B),onLoad:()=>{f(H=>new Set([...H,I.id]))},loading:"eager"}),M&&o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-200 flex items-center justify-center gap-1 sm:gap-2",children:o.jsx(pe,{variant:"destructive",size:"sm",onClick:H=>{H.stopPropagation(),b(I.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity h-7 w-7 sm:h-8 sm:w-8 p-0",children:o.jsx(ju,{className:"w-3 h-3 sm:w-4 sm:h-4"})})}),M&&o.jsx("div",{className:"absolute top-1.5 right-1.5 sm:top-2 sm:right-2 bg-[rgb(52,113,255)] text-white rounded-full w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center text-xs font-medium",children:B+1})]})})},I.id)}),c.map(I=>o.jsx(ee.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative",children:o.jsx(St,{className:"overflow-hidden shadow-lg",children:o.jsx(kt,{className:"p-0 aspect-video relative overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FCFDFF] via-blue-50/30 to-white flex items-center justify-center",children:o.jsx("div",{className:"flex flex-col items-center gap-2",children:o.jsx("div",{className:"w-8 h-8 border-2 border-gray-200 border-t-[#5B8CFF] rounded-full animate-spin"})})})})})},I.id))]})}),o.jsxs("div",{children:[o.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",multiple:!0,onChange:v,className:"hidden"}),_?o.jsx(pe,{type:"button",variant:"outline",onClick:()=>p.current?.click(),className:"w-full gap-2 border-dashed border-2 h-auto py-6 sm:py-8 rounded-[18px]",disabled:c.length>0,children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx(wp,{className:"w-4 h-4 sm:w-5 sm:h-5"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-xs sm:text-sm",children:g(E===0?"interiorExteriorGallery.uploadPhotos":"interiorExteriorGallery.addMorePhotos")}),o.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-500 mt-1",children:[g("interiorExteriorGallery.photosCount",{current:String(E),max:String(n)}),"  JPG/PNG (5MB)"]})]})]})}):o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg p-3 sm:p-4 text-center",children:o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:g("interiorExteriorGallery.maxImagesReached",{max:String(n)})})}),c.length>0&&o.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 border-2 border-gray-200 border-t-[#5B8CFF] rounded-full animate-spin"}),g("interiorExteriorGallery.uploadingFiles",{count:String(c.length)})]})]}),o.jsx(jt,{children:a!==null&&o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-md z-[100] flex items-center justify-center",onClick:N,children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:N,className:"absolute top-2 right-2 sm:top-4 sm:right-4 text-white hover:bg-white/20 z-10 h-8 w-8 sm:h-10 sm:w-10 p-0",children:o.jsx(Ut,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.length>1&&o.jsxs(o.Fragment,{children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),j()},className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 z-10 h-10 w-10 sm:h-12 sm:w-12 p-0",children:o.jsx(Is,{className:"w-6 h-6 sm:w-8 sm:h-8"})}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),k()},className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 z-10 h-10 w-10 sm:h-12 sm:w-12 p-0",children:o.jsx(Ds,{className:"w-6 h-6 sm:w-8 sm:h-8"})})]}),o.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm",children:[a+1," / ",e.length]}),o.jsx(ee.img,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},src:e[a].url,alt:`${g("interiorExteriorGallery.fullSizeAltText")} ${a+1}`,className:"max-w-[90vw] max-h-[90vh] object-contain",onClick:I=>I.stopPropagation()},a)]})})]})}function iU({barberId:e,currentUsername:t,onUsernameUpdate:r}){const{t:n}=yt(),[a,l]=y.useState(!1),[c,u]=y.useState(!1),[h,f]=y.useState(t||""),[p,g]=y.useState(!1),[v,b]=y.useState(null),[S,N]=y.useState(!1),[k,j]=y.useState(""),E=t?`${window.location.origin}/b/${t}`:`${window.location.origin}?barber=${e}`,_=async()=>{const X=Z=>{try{const Q=document.createElement("textarea");Q.value=Z,Q.style.position="fixed",Q.style.left="-999999px",Q.style.top="-999999px",document.body.appendChild(Q),Q.focus(),Q.select();const ue=document.execCommand("copy");return document.body.removeChild(Q),ue}catch(Q){return console.error("Fallback copy failed:",Q),!1}};try{if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(E),l(!0),K.success(n("toast.profileLinkCopied")||"Link copied!"),setTimeout(()=>l(!1),2e3);return}catch{console.log("Clipboard API blocked, using fallback method")}if(X(E))l(!0),K.success(n("toast.profileLinkCopied")||"Link copied!"),setTimeout(()=>l(!1),2e3);else throw new Error("Fallback copy failed")}catch(Z){console.error("All copy methods failed:",Z),prompt("Copy this link:",E)!==null&&K.success(n("toast.profileLinkCopied")||"Link copied!")}},A=X=>!X||X.length<3?"Username must be at least 3 characters":X.length>30?"Username must be less than 30 characters":/^[a-z0-9-]+$/.test(X)?X.startsWith("-")||X.endsWith("-")?"Username cannot start or end with a hyphen":X.includes("--")?"Username cannot contain consecutive hyphens":null:"Username can only contain lowercase letters, numbers, and hyphens",I=async X=>{if(X===t){b(!0),j("");return}const Z=A(X);if(Z){j(Z),b(!1);return}g(!0),j("");try{const Q=localStorage.getItem("trimly_session_token"),ue=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/username/check/${X}`,{headers:{Authorization:`Bearer ${mt}`,"X-Session-Token":Q||""}}),fe=await ue.json();ue.ok&&fe.available?(b(!0),j("")):(b(!1),j(fe.error||"Username is already taken"))}catch(Q){console.error("Error checking username:",Q),j("Failed to check username availability"),b(!1)}finally{g(!1)}},B=X=>{const Z=X.toLowerCase();f(Z),b(null),j("")},M=()=>{h&&h!==t&&I(h)},H=async()=>{if(!h||h===t){u(!1);return}const X=A(h);if(X){j(X);return}if(v!==!1){N(!0),j("");try{const Z=localStorage.getItem("trimly_session_token"),Q=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/username/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":Z||""},body:JSON.stringify({username:h})}),ue=await Q.json();if(!Q.ok)throw new Error(ue.error||"Failed to update username");K.success("Username updated successfully!"),u(!1),r&&r(h)}catch(Z){console.error("Error updating username:",Z),j(Z.message||"Failed to update username"),K.error(Z.message||"Failed to update username")}finally{N(!1)}}},V=()=>{u(!1),f(t||""),j(""),b(null)};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 flex items-center justify-center",children:o.jsx(rR,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:n("barber.publicProfileLink")||"Public Profile Link"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("barber.publicProfileLinkDesc")||"Share this link with your clients"})]})]}),c?o.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("barber.username")||"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-mono",children:[window.location.origin,"/b/"]})}),o.jsx("input",{type:"text",value:h,onChange:X=>B(X.target.value),onBlur:M,placeholder:"your-username",className:"w-full pl-[180px] pr-4 py-2.5 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:S||p})]}),h&&h!==t&&!p&&o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v===!0&&o.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-green-600 dark:text-green-400",children:[o.jsx(vr,{className:"w-4 h-4"}),o.jsx("span",{children:"Username available"})]}),v===!1&&o.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-red-600 dark:text-red-400",children:[o.jsx(Ut,{className:"w-4 h-4"}),o.jsx("span",{children:k||"Username not available"})]})]}),p&&o.jsx("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:"Checking availability..."})]}),k&&!p&&o.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:[o.jsx(tl,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:k})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pe,{onClick:H,disabled:S||p||v===!1||!h,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:S?"Saving...":"Save Username"}),o.jsx(pe,{variant:"outline",onClick:V,disabled:S,className:"flex-1",children:"Cancel"})]}),o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl",children:[o.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mb-1",children:"Username guidelines:"}),o.jsxs("ul",{className:"text-xs text-blue-600 dark:text-blue-400 space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:"3-30 characters"}),o.jsx("li",{children:"Lowercase letters, numbers, and hyphens only"}),o.jsx("li",{children:"Cannot start or end with a hyphen"})]})]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("code",{className:"flex-1 text-sm font-mono text-blue-600 dark:text-blue-400 truncate",children:E}),o.jsx(pe,{size:"sm",variant:"ghost",onClick:_,className:"flex-shrink-0",children:a?o.jsx(vr,{className:"w-4 h-4 text-green-600"}):o.jsx(BA,{className:"w-4 h-4"})})]}),t&&o.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>u(!0),className:"w-full gap-2",children:[o.jsx(mS,{className:"w-4 h-4"}),n("barber.editUsername")||"Edit Username"]})]})]})}function aU({barber:e,onClose:t,onSave:r}){const{t:n,language:a}=yt(),[l,c]=y.useState(null),[u,h]=y.useState(!0),[f,p]=y.useState(""),g=y.useRef(null),[v,b]=y.useState(!1),[S,N]=y.useState(!1),[k,j]=y.useState(!1),[E,_]=y.useState(!1),A=y.useRef({formData:null,previewImage:"",services:[],interiorExteriorPhotos:[]}),I=y.useRef(!1),[B,M]=y.useState(null),H=async(W=!1)=>{if(!e.id){console.error("[BARBER PROFILE EDITOR]  No barber ID provided"),h(!1);return}h(!0),W||(I.current=!0),console.log("[BARBER PROFILE EDITOR]  Fetching barber profile from BARBERS TABLE for ID:",e.id);try{const{data:J,error:Ce}=await Ke.from("barbers").select("*").eq("id",e.id).single();if(Ce){if(console.error("[BARBER PROFILE EDITOR]  Error fetching from barbers table:",Ce),Ce.code==="PGRST116"){console.log("[BARBER PROFILE EDITOR]  Creating new barber profile...");const{data:Re,error:ot}=await Ke.from("barbers").insert({id:e.id,full_name:e.name||"",phone:e.phone||"",bio:"",avatar:"",working_district:"",districts:[],languages:[],location:"",address:"",google_maps_url:"",gallery:[]}).select().single();if(ot){console.error("[BARBER PROFILE EDITOR]  Error creating barber:",ot),K.error("Failed to create barber profile"),h(!1);return}console.log("[BARBER PROFILE EDITOR]  New barber profile created:",Re),c({id:Re.id,role:"barber",name:Re.full_name||"",email:Re.phone||"",phone:Re.phone||"",avatar:Re.avatar||"",bio:Re.bio||"",description:Re.description||"",barbershopName:Re.barbershop_name||"",services:[],districts:Array.isArray(Re.districts)?Re.districts:[],languages:Array.isArray(Re.languages)?Re.languages:[],specialties:[],gallery:Array.isArray(Re.gallery)?Re.gallery:[],interiorExteriorPhotos:[],working_hours:{},priceRange:{min:0,max:0},subscriptionStatus:Re.subscription_status,subscriptionExpiryDate:Re.subscription_expiry_date,currentPlan:Re.subscription_plan,trialUsed:Re.trial_used,rating:Re.rating||5,reviewCount:Re.review_count||0,address:Re.address||"",workingDistrict:Re.working_district||"",workplaceAddress:Re.address||"",googleMapsUrl:Re.google_maps_url||"",servicesForKids:Re.services_for_kids??!1}),p(Re.avatar||""),N(!1),h(!1);return}h(!1);return}console.log("[BARBER PROFILE EDITOR]  Barber data fetched:",{id:J.id,full_name:J.full_name,phone:J.phone});const Oe={id:J.id,role:"barber",name:J.full_name||"",email:J.phone||"",phone:J.phone||"",avatar:J.avatar||"",bio:J.bio||"",description:J.description||"",barbershopName:J.barbershop_name||"",services:[],districts:Array.isArray(J.districts)?J.districts:[],languages:Array.isArray(J.languages)?J.languages:[],specialties:[],gallery:Array.isArray(J.gallery)?J.gallery:[],interiorExteriorPhotos:Array.isArray(J.gallery)?J.gallery.map((Re,ot)=>({id:`img-${Date.now()}-${ot}`,url:Re,orderIndex:ot})):[],working_hours:{},priceRange:{min:0,max:0},subscriptionStatus:J.subscription_status,subscriptionExpiryDate:J.subscription_expiry_date,currentPlan:J.subscription_plan,trialUsed:J.trial_used,rating:J.rating||5,reviewCount:J.review_count||0,address:J.address||J.location||"",workingDistrict:J.working_district||"",workplaceAddress:J.address||J.location||"",googleMapsUrl:J.google_maps_url||"",servicesForKids:J.services_for_kids??!1};console.log("[BARBER PROFILE EDITOR]  Form data set:",{name:Oe.name,phone:Oe.phone}),c(Oe),p(Oe.avatar),N(!1),h(!1)}catch(J){console.error("[BARBER PROFILE EDITOR]  Exception:",J),K.error("Failed to load barber profile"),h(!1)}finally{W||(I.current=!1)}};y.useEffect(()=>{H()},[e.id]),y.useEffect(()=>{const W=J=>{S&&(J.preventDefault(),J.returnValue="")};return window.addEventListener("beforeunload",W),()=>window.removeEventListener("beforeunload",W)},[S]);const[V,X]=y.useState([]),[Z,Q]=y.useState(!0),[ue,fe]=y.useState(null);y.useEffect(()=>{(async()=>{if(!e.id){console.log("[BARBER PROFILE EDITOR]  No barber ID, skipping service fetch"),X([]),Q(!1);return}Q(!0),fe(null),console.log("[BARBER PROFILE EDITOR]  Fetching services from Supabase for barber:",e.id);try{const{data:J,error:Ce}=await Ke.from("services").select("id, barber_id, name, duration, price, description, created_at, updated_at").eq("barber_id",e.id).order("created_at",{ascending:!0});Ce?(console.error("[BARBER PROFILE EDITOR]  Error fetching services:",Ce),fe("Failed to load services"),X([])):(console.log("[BARBER PROFILE EDITOR]  Services fetched from Supabase:",J?.length||0),console.log("[BARBER PROFILE EDITOR]  Services data:",JSON.stringify(J,null,2)),X(J||[]))}catch(J){console.error("[BARBER PROFILE EDITOR]  Exception fetching services:",J),fe("Failed to load services"),X([])}finally{Q(!1)}})()},[e.id]),y.useEffect(()=>{if(!u&&!Z&&l&&!I.current){console.log("[BARBER PROFILE EDITOR]  Initial data loaded - updating snapshot");const W=setTimeout(()=>{A.current={formData:JSON.parse(JSON.stringify(l)),previewImage:f,services:JSON.parse(JSON.stringify(V)),interiorExteriorPhotos:JSON.parse(JSON.stringify(be))},console.log("[BARBER PROFILE EDITOR]  Snapshot updated")},100);return()=>clearTimeout(W)}},[u,Z]);const[be,ie]=y.useState([]);y.useEffect(()=>{l&&(l.interiorExteriorPhotos&&Array.isArray(l.interiorExteriorPhotos)&&l.interiorExteriorPhotos.length>0?ie(l.interiorExteriorPhotos):l.gallery&&Array.isArray(l.gallery)&&l.gallery.length>0?ie(l.gallery.map((W,J)=>({id:`image-${Date.now()}-${J}`,url:W,orderIndex:J}))):ie([]))},[l]);const le=Jp(),G=["Uzbek","Russian","English"],U=y.useMemo(()=>{if(V.length===0)return{min:0,max:0};const W=V.map(J=>J.price);return{min:Math.min(...W),max:Math.max(...W)}},[V]),R=W=>new Intl.NumberFormat("uz-UZ").format(W),T=async W=>{const J=W.target.files?.[0];if(!J)return;if(W.target.value="",J.size>5*1024*1024){K.error(n("toast.imageSizeError"));return}if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(J.type.toLowerCase())){K.error(n("toast.invalidFileFormat"));return}_(!0);try{const Oe=J.name.split(".").pop()||"jpg",ot=`avatars/${`${e.id}-${Date.now()}-${crypto.randomUUID()}.${Oe}`}`;console.log("[AVATAR UPLOAD]  Uploading new avatar:",ot);const{data:ft,error:Nt}=await Ke.storage.from("barber-images").upload(ot,J,{contentType:J.type,upsert:!1});if(Nt)throw console.error("[AVATAR UPLOAD]  Upload failed:",Nt),Nt;console.log("[AVATAR UPLOAD]  Upload successful:",ft.path);const{data:lt}=Ke.storage.from("barber-images").getPublicUrl(ot),ve=lt.publicUrl;console.log("[AVATAR UPLOAD]  New avatar URL:",ve);const Ae=l?.avatar||"";if(Ae&&Ae.includes("barber-images/avatars/"))try{const Te=Ae.split("barber-images/")[1];console.log("[AVATAR UPLOAD]  Deleting old avatar:",Te),await Ke.storage.from("barber-images").remove([Te]),console.log("[AVATAR UPLOAD]  Old avatar deleted")}catch(Te){console.warn("[AVATAR UPLOAD]  Failed to delete old avatar:",Te)}const{error:Ie}=await Ke.from("barbers").update({avatar:ve}).eq("id",e.id);if(Ie)throw console.error("[AVATAR UPLOAD]  Database update failed:",Ie),await Ke.storage.from("barber-images").remove([ot]),Ie;console.log("[AVATAR UPLOAD]  Database updated successfully"),p(ve),c(Te=>Te&&{...Te,avatar:ve}),M(null),K.success(n("toast.avatarUploadSuccess"))}catch(Oe){console.error("[AVATAR UPLOAD]  Error:",Oe),K.error(n("toast.avatarUploadFailed"))}finally{_(!1)}},P=async()=>{if(!(!l?.avatar||!window.confirm(n("common.confirmDelete")||"Are you sure you want to delete your avatar?"))){_(!0);try{const J=l.avatar;if(J.includes("barber-images/avatars/"))try{const Oe=J.split("barber-images/")[1];console.log("[AVATAR DELETE]  Deleting avatar from storage:",Oe),await Ke.storage.from("barber-images").remove([Oe]),console.log("[AVATAR DELETE]  Avatar deleted from storage")}catch(Oe){console.warn("[AVATAR DELETE]  Storage deletion warning:",Oe)}const{error:Ce}=await Ke.from("barbers").update({avatar:""}).eq("id",e.id);if(Ce)throw console.error("[AVATAR DELETE]  Database update failed:",Ce),Ce;console.log("[AVATAR DELETE]  Database updated successfully"),p(""),c(Oe=>Oe&&{...Oe,avatar:""}),M(null),K.success(n("toast.avatarDeleteSuccess"))}catch(J){console.error("[AVATAR DELETE]  Error:",J),K.error(n("toast.avatarDeleteFailed"))}finally{_(!1)}}},L=W=>{c(J=>J&&(Array.isArray(J?.districts)&&J?.districts,{...J,districts:[W]}))},D=W=>{c(J=>{if(!J)return J;const Ce=Array.isArray(J?.languages)?J?.languages:[];return{...J,languages:Ce.includes(W)?Ce.filter(Oe=>Oe!==W):[...Ce,W]}})},q=y.useMemo(()=>l?{...l,districts:Array.isArray(l?.districts)?l?.districts:[],languages:Array.isArray(l?.languages)?l?.languages:[],gallery:Array.isArray(be)?be.map(W=>W.url):[],avatar:f,services:V,priceRange:U,interiorExteriorPhotos:be}:null,[l,f,V,U,be]),F=y.useMemo(()=>{if(I.current||!l||!A.current.formData)return!1;const W=A.current;if(l.name!==W.formData.name||l.phone!==W.formData.phone||l.bio!==W.formData.bio||l.description!==W.formData.description||l.barbershopName!==W.formData.barbershopName||l.workplaceAddress!==W.formData.workplaceAddress||l.googleMapsUrl!==W.formData.googleMapsUrl||l.servicesForKids!==W.formData.servicesForKids||f!==W.previewImage)return!0;const J=JSON.stringify(l.districts?.sort()||[]),Ce=JSON.stringify(W.formData.districts?.sort()||[]);if(J!==Ce)return!0;const Oe=JSON.stringify(l.languages?.sort()||[]),Re=JSON.stringify(W.formData.languages?.sort()||[]);if(Oe!==Re||V.length!==W.services.length||!V.every((lt,ve)=>{const Ae=W.services[ve];return Ae?lt.name===Ae.name&&lt.price===Ae.price&&lt.duration===Ae.duration&&lt.description===Ae.description:!1}))return!0;const ft=be.map(lt=>lt.url).sort().join(","),Nt=W.interiorExteriorPhotos.map(lt=>lt.url).sort().join(",");return ft!==Nt},[l,f,V,be]);y.useEffect(()=>{I.current||N(F)},[F]);const $=async()=>{if(V.length===0){K.error(n("toast.addOneService"));return}if(be.length>4){K.error(n("toast.maxPhotosAllowed"));return}if(l?.districts.length===0){K.error(n("toast.selectDistrict"));return}if(l?.languages.length===0){K.error(n("toast.selectOneLanguage"));return}b(!0),I.current=!0;try{console.log("[STORAGE]  Starting image upload process...");const W=l?.avatar||"";console.log("[STORAGE]  Using current avatar URL:",W);let J=[];const Ce=be.filter(ot=>ot.url.startsWith("http")).map(ot=>ot.url),Oe=be.filter(ot=>ot.url.startsWith("data:"));if(console.log("[STORAGE]  Gallery status:",{total:be.length,existing:Ce.length,new:Oe.length}),J=[...Ce],Oe.length>0){console.log("[STORAGE]  Uploading new gallery images...");for(const ot of Oe)try{const Nt=await(await fetch(ot.url)).blob(),lt=crypto.randomUUID(),ve=Nt.type.split("/")[1],Ae=`galleries/${e.id}/${lt}.${ve}`,{data:Ie,error:Te}=await Ke.storage.from("barber-images").upload(Ae,Nt,{contentType:Nt.type});if(Te)console.error("[STORAGE]  Gallery image upload error:",Te);else{const{data:ce}=Ke.storage.from("barber-images").getPublicUrl(Ae);J.push(ce.publicUrl),console.log("[STORAGE]  Gallery image uploaded:",ce.publicUrl)}}catch(ft){console.error("[STORAGE]  Error processing gallery image:",ft)}}console.log("[STORAGE]  Final image URLs:",{avatar:W,gallery:J.length});const Re={...l,avatar:W,services:V,priceRange:U,interiorExteriorPhotos:be,gallery:J,location:l?.workplaceAddress||"",specialties:V.map(ot=>ot.name)};console.log(" BarberProfileEditor: Saving profile with fields:",{name:Re.name,phone:Re.phone,location:Re.location,workplaceAddress:Re.workplaceAddress,googleMapsUrl:Re.googleMapsUrl,languages:Re.languages,districts:Re.districts,specialties:Re.specialties,servicesCount:Re.services?.length||0,galleryCount:Re.gallery?.length||0,priceRange:Re.priceRange,avatarUrl:Re.avatar}),await r(Re),M(null),N(!1),K.success(n("barber.edit.saveSuccessComplete")),console.log("[BARBER PROFILE EDITOR]  Re-fetching profile after save..."),await H(!0),A.current={formData:Re,previewImage:W,services:Re.services,interiorExteriorPhotos:Re.interiorExteriorPhotos}}catch(W){console.error(" Error saving barber profile:",W),K.error(n("barber.edit.saveError"))}finally{b(!1),I.current=!1}},re=()=>{S?j(!0):t()},Se=()=>{j(!1),t()},de=()=>{j(!1)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4 pb-24 lg:pb-8",children:[o.jsx("div",{className:"w-full max-w-7xl mx-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mt-[-29px] mr-[0px] mb-[5px] ml-[0px] px-[0px] py-[1px]",children:[o.jsxs(pe,{variant:"ghost",size:"sm",onClick:re,className:"gap-2 mx-[-17px] my-[0px] whitespace-normal h-auto py-2",children:[o.jsx(fS,{className:"w-4 h-4"}),n("common.back")]}),S&&!v&&o.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center gap-1.5 text-sm text-amber-600 dark:text-amber-400",children:[o.jsx(dx,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:n("barber.edit.unsavedChanges")})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl md:text-3xl",children:n("barber.editProfile")}),o.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:n("barber.updateProfileInfo")}),V.length>0&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(rl,{className:"w-4 h-4 text-primary"}),o.jsxs("span",{className:"text-sm font-medium text-primary",children:[n("barber.priceRangeLabel"),": ",R(U.min)," - ",R(U.max)," UZS"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-[20px] border border-gray-200 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[E&&o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full",children:o.jsx("div",{className:"w-8 h-8 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})}),o.jsxs(Oa,{className:`w-32 h-32 ring-4 ring-primary/20 ${E?"opacity-50":""}`,children:[o.jsx(zu,{src:f,alt:l?.name,className:"object-cover"}),o.jsx(Ma,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary text-3xl font-bold",children:l?.name?.charAt(0)?.toUpperCase()||"B"})]}),o.jsx("button",{type:"button",onClick:()=>!E&&g.current?.click(),disabled:E,className:"absolute bottom-0 right-0 w-10 h-10 rounded-full icon-3d flex items-center justify-center shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110",title:n("profileEditor.uploadPhoto"),children:o.jsx(tu,{className:"w-5 h-5 text-primary-foreground"})}),f&&o.jsx("button",{type:"button",onClick:P,disabled:E,className:"absolute bottom-0 left-0 w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 hover:from-red-600 hover:to-red-700",title:n("common.delete")||"Delete avatar",children:o.jsx(ju,{className:"w-4 h-4 text-white"})}),o.jsx("input",{ref:g,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:T,className:"hidden",disabled:E})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(pe,{type:"button",variant:"outline",onClick:()=>g.current?.click(),disabled:E||v,className:"gap-2 whitespace-normal h-auto py-2 px-4 max-w-full",children:E?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),n("common.uploading")||"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(wp,{className:"w-4 h-4"}),n("profileEditor.uploadPhoto")]})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n("profileEditor.maxSizeFormats")})]})]})}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[20px] border border-gray-200 dark:border-gray-700 p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"name",className:"leading-normal block h-auto mb-1.5",children:[n("profileEditor.fullName")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(gt,{id:"name",value:l?.name||"",onChange:W=>l&&c({...l,name:W.target.value}),placeholder:n("profileEditor.fullNamePlaceholder"),required:!0})]}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"phone",className:"leading-normal block h-auto mb-1.5",children:n("profileEditor.phoneNumber")}),o.jsx(gt,{id:"phone",value:l?.phone||"",onChange:W=>l&&c({...l,phone:W.target.value}),placeholder:"+998 90 123 45 67"})]}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"barbershopName",className:"leading-normal block h-auto mb-1.5",children:n("auth.barbershopNameOptional")}),o.jsx(gt,{id:"barbershopName",value:l?.barbershopName||"",onChange:W=>l&&c({...l,barbershopName:W.target.value}),placeholder:n("profileEditor.barbershopNamePlaceholder")||"e.g., Style Masters"})]})]}),o.jsx(iU,{barberId:e.id,currentUsername:l?.username,onUsernameUpdate:W=>{l&&c({...l,username:W})}}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-[20px] border border-gray-200 dark:border-gray-700 p-6",children:o.jsx(sU,{services:V,onServicesChange:X})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-[20px] border border-gray-200 dark:border-gray-700 p-4 sm:p-6",children:o.jsx(oU,{images:be,onImagesChange:ie,minImages:0,maxImages:4})}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[20px] border border-gray-200 dark:border-gray-700 p-4 sm:p-6 space-y-4 sm:space-y-6",children:[o.jsxs("div",{children:[o.jsxs(Ye,{className:"flex items-center gap-2 mb-2 sm:mb-3 leading-normal flex-wrap h-auto",children:[o.jsx(vp,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"break-words",children:n("profileEditor.workingDistrict")})," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:le.map(W=>o.jsx(Jt,{variant:(Array.isArray(l?.districts)?l?.districts:[]).includes(W)?"default":"outline",className:"cursor-pointer px-3 py-2 text-sm transition-all whitespace-normal h-auto text-center",onClick:()=>L(W),children:Ju(W,a)},W))})]}),o.jsx(ci,{}),o.jsxs("div",{children:[o.jsxs(Ye,{className:"flex items-center gap-2 mb-2 sm:mb-3 leading-normal flex-wrap h-auto",children:[o.jsx(nu,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"break-words",children:n("profileEditor.languagesSpoken")})," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:G.map(W=>o.jsx(Jt,{variant:(Array.isArray(l?.languages)?l?.languages:[]).includes(W)?"default":"outline",className:"cursor-pointer px-3 py-2 text-sm transition-all whitespace-normal h-auto text-center",onClick:()=>D(W),children:W},W))})]}),o.jsx(ci,{}),o.jsxs("div",{children:[o.jsxs(Ye,{className:"flex items-center gap-2 mb-2 leading-normal flex-wrap h-auto",children:[o.jsx(gp,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"break-words",children:n("profileEditor.servicesForKids")})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:n("profileEditor.servicesForKidsDescription")}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(pe,{type:"button",variant:l?.servicesForKids===!0?"default":"outline",className:`flex-1 ${l?.servicesForKids===!0?"bg-emerald-600 hover:bg-emerald-700 text-white":"hover:bg-gray-100"}`,onClick:()=>l&&c({...l,servicesForKids:!0}),disabled:!l,children:n("common.yes")}),o.jsx(pe,{type:"button",variant:l?.servicesForKids===!1?"default":"outline",className:`flex-1 ${l?.servicesForKids===!1?"bg-black hover:bg-gray-900 text-white":"hover:bg-gray-100"}`,onClick:()=>l&&c({...l,servicesForKids:!1}),disabled:!l,children:n("common.no")})]})]}),o.jsx(ci,{}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"address",className:"mb-2 block leading-normal h-auto",children:n("profileEditor.workplaceAddress")}),o.jsx(gt,{id:"address",value:l?.workplaceAddress||"",onChange:W=>l&&c({...l,workplaceAddress:W.target.value}),placeholder:n("profileEditor.addressPlaceholder"),disabled:!l})]}),o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"mapsUrl",className:"mb-2 block leading-normal h-auto",children:n("profileEditor.googleMapsLink")}),o.jsx(gt,{id:"mapsUrl",value:l?.googleMapsUrl||"",onChange:W=>l&&c({...l,googleMapsUrl:W.target.value}),placeholder:n("profileEditor.mapsUrlPlaceholder"),disabled:!l})]}),o.jsx(ci,{}),o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"description",className:"mb-2 block leading-normal h-auto",children:[n("profileEditor.description"),o.jsxs("span",{className:"text-gray-400 text-xs ml-1",children:["(",n("common.optional"),")"]})]}),o.jsx(oj,{id:"description",value:l?.description||"",onChange:W=>l&&c({...l,description:W.target.value}),placeholder:n("profileEditor.descriptionPlaceholder"),disabled:!l,className:"min-h-[100px] resize-none",maxLength:500}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1.5",children:[(l?.description||"").length,"/500"]})]})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"sticky top-6 space-y-4",children:[o.jsxs("div",{className:"text-center bg-white dark:bg-gray-800 rounded-[20px] border border-gray-200 dark:border-gray-700 p-4",children:[o.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:n("profileEditor.preview")}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:n("profileEditor.howCustomersSeeYou")})]}),o.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-[20px] border border-gray-200 dark:border-gray-700",children:q?o.jsx(xu,{barber:q,onBookNow:()=>{},showShareButton:!1}):o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"w-8 h-8 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})})}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[20px] border border-gray-200 dark:border-gray-700 mb-[16px] p-4",children:[o.jsxs("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 flex items-center gap-2",children:[o.jsx(dx,{className:"w-4 h-4 text-gray-500"}),n("barber.edit.deleteAccount")]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:n("barber.edit.supportContact")}),o.jsxs("a",{href:"https://t.me/soniyasupport",target:"_blank",rel:"noopener noreferrer",className:"w-full h-11 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100 rounded-[20px] border border-gray-200 dark:border-gray-600 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm",children:[o.jsx(uR,{className:"w-4 h-4"}),n("barber.edit.contactSupportButton")]})]})]})})]})]})}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg lg:hidden",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:o.jsx(pe,{onClick:$,disabled:v,className:"w-full h-12 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-700 hover:to-cyan-700 text-white rounded-[20px] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:v?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),n("barber.edit.saving")]}):o.jsxs(o.Fragment,{children:[o.jsx(sm,{className:"w-5 h-5 mr-2"}),n("barber.edit.saveButtonLabel")]})})})}),o.jsx("div",{className:"hidden lg:block w-full max-w-7xl mx-auto px-4 pb-8",children:o.jsx(pe,{onClick:$,disabled:v,className:"w-full h-14 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-700 hover:to-cyan-700 text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:v?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),n("barber.edit.saving")]}):o.jsxs(o.Fragment,{children:[o.jsx(sm,{className:"w-5 h-5 mr-2"}),n("barber.edit.saveButtonLabel")]})})}),k&&o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:W=>{W.target===W.currentTarget&&de()},children:o.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-gray-800 p-6 rounded-[20px] shadow-2xl w-full max-w-sm",onClick:W=>W.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:n("barber.edit.unsavedChanges")}),o.jsx("button",{type:"button",onClick:de,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 p-1",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:n("barber.edit.unsavedChangesWarning")}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 justify-end",children:[o.jsx(pe,{onClick:de,variant:"outline",className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 w-full sm:w-auto px-6",children:n("common.cancel")}),o.jsx(pe,{onClick:Se,className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto px-6",children:n("common.closeWithoutSaving")})]})]})})]})}var ng="Radio",[lU,aj]=Vr(ng),[cU,uU]=lU(ng),lj=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:l,disabled:c,value:u="on",onCheck:h,form:f,...p}=e,[g,v]=y.useState(null),b=it(t,k=>v(k)),S=y.useRef(!1),N=g?f||!!g.closest("form"):!0;return o.jsxs(cU,{scope:r,checked:a,disabled:c,children:[o.jsx(Xe.button,{type:"button",role:"radio","aria-checked":a,"data-state":hj(a),"data-disabled":c?"":void 0,disabled:c,value:u,...p,ref:b,onClick:Pe(e.onClick,k=>{a||h?.(),N&&(S.current=k.isPropagationStopped(),S.current||k.stopPropagation())})}),N&&o.jsx(dj,{control:g,bubbles:!S.current,name:n,value:u,checked:a,required:l,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});lj.displayName=ng;var cj="RadioIndicator",uj=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,l=uU(cj,r);return o.jsx(Ir,{present:n||l.checked,children:o.jsx(Xe.span,{"data-state":hj(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t})})});uj.displayName=cj;var dU="RadioBubbleInput",dj=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},l)=>{const c=y.useRef(null),u=it(c,l),h=sl(r),f=ol(t);return y.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==r&&b){const S=new Event("click",{bubbles:n});b.call(p,r),p.dispatchEvent(S)}},[h,r,n]),o.jsx(Xe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dj.displayName=dU;function hj(e){return e?"checked":"unchecked"}var hU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rd="RadioGroup",[fU]=Vr(rd,[qu,aj]),fj=qu(),mj=aj(),[mU,pU]=fU(rd),pj=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:l,required:c=!1,disabled:u=!1,orientation:h,dir:f,loop:p=!0,onValueChange:g,...v}=e,b=fj(r),S=ki(f),[N,k]=Qn({prop:l,defaultProp:a??null,onChange:g,caller:rd});return o.jsx(mU,{scope:r,name:n,required:c,disabled:u,value:N,onValueChange:k,children:o.jsx(N1,{asChild:!0,...b,orientation:h,dir:S,loop:p,children:o.jsx(Xe.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":u?"":void 0,dir:S,...v,ref:t})})})});pj.displayName=rd;var gj="RadioGroupItem",yj=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,l=pU(gj,r),c=l.disabled||n,u=fj(r),h=mj(r),f=y.useRef(null),p=it(t,f),g=l.value===a.value,v=y.useRef(!1);return y.useEffect(()=>{const b=N=>{hU.includes(N.key)&&(v.current=!0)},S=()=>v.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",S)}},[]),o.jsx(j1,{asChild:!0,...u,focusable:!c,active:g,children:o.jsx(lj,{disabled:c,required:l.required,checked:g,...h,...a,name:l.name,ref:p,onCheck:()=>l.onValueChange(a.value),onKeyDown:Pe(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Pe(a.onFocus,()=>{v.current&&f.current?.click()})})})});yj.displayName=gj;var gU="RadioGroupIndicator",vj=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=mj(r);return o.jsx(uj,{...a,...n,ref:t})});vj.displayName=gU;var yU=pj,vU=yj,xU=vj;function bU({className:e,...t}){return o.jsx(yU,{"data-slot":"radio-group",className:at("grid gap-3",e),...t})}function Nb({className:e,...t}){return o.jsx(vU,{"data-slot":"radio-group-item",className:at("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(xU,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:o.jsx(OA,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function wU({onClose:e,onPaymentSuccess:t,amount:r,isSignup:n=!1}){const[a,l]=y.useState("click"),[c,u]=y.useState(!1),[h,f]=y.useState(!1),{t:p}=yt();y.useEffect(()=>{const b=document.body.style.overflow,S=document.body.style.paddingRight,N=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${N}px`,()=>{document.body.style.overflow=b,document.body.style.paddingRight=S}},[]);const g=b=>new Intl.NumberFormat("uz-UZ").format(b),v=async()=>{u(!0),await new Promise(b=>setTimeout(b,2e3)),u(!1),f(!0),K.success(p("toast.paymentSuccessful")),setTimeout(()=>{t(a)},1500)};return h?o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:o.jsx(ee.div,{initial:{scale:.95},animate:{scale:1},transition:{duration:.3},className:"max-w-md w-full",onClick:b=>b.stopPropagation(),children:o.jsx(St,{className:"border-0 shadow-2xl bg-white dark:bg-gray-800 rounded-[0.625rem]",children:o.jsxs(kt,{className:"p-8 text-center",children:[o.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-20 h-20 mx-auto mb-6 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:o.jsx(vr,{className:"w-10 h-10 text-emerald-600"})}),o.jsx("h2",{className:"mb-2",children:"Payment Successful!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:n?"Your subscription is now active. Welcome to BarberBook!":"Your subscription has been extended for 1 month."}),o.jsxs("div",{className:"p-4 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800",children:[o.jsxs("p",{className:"text-sm text-emerald-800 dark:text-emerald-300",children:[" Paid ",g(r)," UZS via ",a==="click"?"Click":"Payme"]}),o.jsxs("p",{className:"text-sm text-emerald-800 dark:text-emerald-300 mt-1",children:[" Active until ",new Date(Date.now()+720*60*60*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})]})})})}):o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:o.jsx(ee.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{duration:.3},onClick:b=>b.stopPropagation(),className:"max-w-md w-full",children:o.jsxs(St,{className:"border-0 shadow-2xl rounded-[0.625rem]",children:[o.jsxs(zr,{className:"relative border-b border-gray-100 dark:border-gray-700",children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:e,className:"absolute right-4 top-4 w-8 h-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",disabled:c,children:o.jsx(Ut,{className:"w-4 h-4"})}),o.jsx(Dn,{children:n?"Complete Your Registration":"Renew Subscription"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n?"Pay subscription fee to activate your barber profile":"Renew your monthly subscription to stay visible"})]}),o.jsxs(kt,{className:"space-y-6 pt-6",children:[o.jsx("div",{className:"p-4 rounded-[0.625rem] bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 border border-emerald-200 dark:border-emerald-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Subscription"}),o.jsxs("span",{className:"text-2xl text-emerald-600 dark:text-emerald-400",children:[g(r)," UZS"]})]})}),n&&o.jsx("div",{className:"p-4 rounded-[0.625rem] bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:o.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:" After payment, your profile will be visible to customers for 30 days. You'll need to renew monthly to stay active."})}),o.jsxs("div",{children:[o.jsx(Ye,{className:"mb-3 block",children:"Choose Payment Method"}),o.jsx(bU,{value:a,onValueChange:b=>l(b),children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:o.jsx(St,{className:`cursor-pointer transition-all duration-300 rounded-[0.625rem] border-2 ${a==="click"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-purple-300"}`,children:o.jsxs(kt,{className:"p-4 flex items-center gap-3",children:[o.jsx(Nb,{value:"click",id:"click"}),o.jsxs(Ye,{htmlFor:"click",className:"flex-1 cursor-pointer flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500 flex items-center justify-center text-white shadow-sm",children:o.jsx(Gn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{children:"Click"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Fast & secure payment"})]})]})]})})}),o.jsx(ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:o.jsx(St,{className:`cursor-pointer transition-all duration-300 rounded-[0.625rem] border-2 ${a==="payme"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-blue-300"}`,children:o.jsxs(kt,{className:"p-4 flex items-center gap-3",children:[o.jsx(Nb,{value:"payme",id:"payme"}),o.jsxs(Ye,{htmlFor:"payme",className:"flex-1 cursor-pointer flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500 flex items-center justify-center text-white shadow-sm",children:o.jsx(Gn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{children:"Payme"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Secure online payment"})]})]})]})})})]})})]}),o.jsx(pe,{onClick:v,disabled:c,className:"w-full h-12",size:"lg",children:c?o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):o.jsxs(o.Fragment,{children:["Pay ",g(r)," UZS"]})}),o.jsxs("p",{className:"text-xs text-center text-gray-500",children:["Secure payment powered by ",a==="click"?"Click":"Payme"]})]})]})})})}function SU({plan:e,onClose:t,onSubscribe:r}){const{t:n}=yt();y.useEffect(()=>{const c=document.body.style.overflow,u=document.body.style.paddingRight,h=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${h}px`,()=>{document.body.style.overflow=c,document.body.style.paddingRight=u}},[]);const a=c=>new Intl.NumberFormat("uz-UZ").format(c),l=[{icon:vr,text:n("subscription.benefit1")},{icon:yS,text:n("subscription.benefit2")},{icon:ux,text:n("subscription.benefit3")},{icon:rl,text:n("subscription.benefit4")}];return o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-end sm:items-center justify-center p-0 sm:p-4",onClick:t,children:o.jsxs(ee.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"bg-gradient-to-br from-gray-800 via-gray-800 to-gray-900 rounded-t-[0.625rem] sm:rounded-[0.625rem] w-full sm:max-w-lg max-h-[85vh] overflow-y-auto shadow-2xl",onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"sticky top-0 bg-gradient-to-b from-gray-800 to-gray-800/95 backdrop-blur-sm z-10 px-6 pt-6 pb-4 border-b border-gray-700/50",children:[o.jsx(pe,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white w-10 h-10 hover:bg-gray-700 transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})}),o.jsx("h2",{className:"text-white text-xl pr-10",children:e.name}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:e.description})]}),o.jsxs("div",{className:"px-6 py-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-900/50 rounded-[0.625rem] p-6 border border-gray-700/50",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[a(e.totalPrice)," UZS"]}),o.jsx("div",{className:"text-sm text-gray-400",children:e.duration>1?o.jsxs("span",{children:[a(e.monthlyPrice)," UZS/",n("subscription.month")]}):o.jsx("span",{children:n("subscription.total")})})]}),e.savings&&e.duration>1&&o.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-4 mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Monthly (1 month plan)"}),o.jsx("span",{className:"text-sm text-gray-300",children:"129,990 UZS"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm text-gray-300",children:["Your plan (",e.duration," months)"]}),o.jsxs("span",{className:"text-sm text-white font-medium",children:[a(e.monthlyPrice)," UZS/mo"]})]}),o.jsxs("div",{className:"border-t border-emerald-500/20 mt-3 pt-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-emerald-400",children:"You save per month:"}),o.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:[a(129990-e.monthlyPrice)," UZS"]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsx("span",{className:"text-xs text-emerald-400/80",children:"Total savings:"}),o.jsxs("span",{className:"text-sm font-medium text-emerald-400",children:[a(e.savings)," UZS"]})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-3",children:"What's included:"}),o.jsx("div",{className:"space-y-3",children:l.map((c,u)=>{const h=c.icon;return o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center mt-0.5",children:o.jsx(h,{className:"w-4 h-4 text-emerald-400"})}),o.jsx("span",{className:"text-gray-300 text-sm leading-relaxed",children:c.text})]},u)})})]}),o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ux,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-sm font-medium mb-1",children:n("subscription.securePayment")}),o.jsxs("p",{className:"text-xs text-gray-400",children:[n("subscription.securePaymentDesc"),". ",n("subscription.flexiblePaymentDesc"),"."]})]})]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-gradient-to-t from-gray-800 to-gray-800/95 backdrop-blur-sm px-6 py-4 border-t border-gray-700/50",children:o.jsx(pe,{onClick:r,className:"w-full py-6 text-base bg-gradient-to-r from-blue-500 to-emerald-500 hover:from-blue-600 hover:to-emerald-600 shadow-lg",children:n("subscription.subscribe")})})]})})}const kU="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function jb(e){const[t,r]=y.useState(!1),n=()=>{r(!0)},{src:a,alt:l,style:c,className:u,...h}=e;return t?o.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${u??""}`,style:c,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsx("img",{src:kU,alt:"Error loading image",...h,"data-original-url":a})})}):o.jsx("img",{src:a,alt:l,className:u,style:c,...h,onError:n})}function NU(){return o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-emerald-50/30 w-full",children:o.jsx("div",{className:"min-h-screen py-3 md:py-8 px-3 md:px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-4 md:mb-12 relative flex flex-col items-center",children:[o.jsx("div",{className:"absolute -top-1 md:top-0 right-0 w-8 h-8 md:w-10 md:h-10 rounded-full bg-gray-200/50"}),o.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 rounded-full bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 mb-2 md:mb-6 overflow-hidden relative shadow-sm",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})}),o.jsx("div",{className:"h-6 md:h-8 w-48 bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 rounded-lg mb-3 relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})}),o.jsx("div",{className:"hidden md:block h-4 w-96 bg-gradient-to-r from-blue-100/50 via-purple-100/50 to-blue-100/50 rounded-lg relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})})]}),o.jsx("div",{className:"max-w-3xl mx-auto mb-4 md:mb-8",children:o.jsx(St,{className:"bg-white border border-emerald-100/50 shadow-sm overflow-hidden min-h-[100px] relative",children:o.jsxs(kt,{className:"h-full flex items-center p-4 md:p-5 gap-4",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 flex-shrink-0 relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsx("div",{className:"h-5 w-1/3 bg-gradient-to-r from-blue-100/80 via-purple-100/80 to-blue-100/80 rounded relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})}),o.jsx("div",{className:"h-4 w-1/2 bg-gradient-to-r from-blue-100/50 via-purple-100/50 to-blue-100/50 rounded relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})})]})]})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-8 mb-6 md:mb-12 px-0 md:px-4",children:[1,2,3].map(e=>o.jsxs(St,{className:"relative overflow-hidden bg-white border border-gray-100 shadow-sm flex flex-col rounded-2xl h-[120px] md:h-[450px]",children:[o.jsxs("div",{className:"hidden md:flex flex-col h-full p-6",children:[o.jsxs("div",{className:"flex flex-col items-center pb-8 border-b border-gray-50",children:[o.jsx("div",{className:"h-8 w-32 bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 rounded-lg mb-4 relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})}),o.jsx("div",{className:"h-16 w-full bg-gradient-to-r from-blue-50 via-purple-50 to-blue-50 rounded-lg relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})})]}),o.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center py-6",children:[o.jsx("div",{className:"h-10 w-40 bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 rounded-lg mb-3 relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})}),o.jsx("div",{className:"h-4 w-24 bg-gradient-to-r from-blue-50 via-purple-50 to-blue-50 rounded-lg relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})})]}),o.jsx("div",{className:"w-full h-14 rounded-xl bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 relative overflow-hidden mt-auto",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})})]}),o.jsxs("div",{className:"flex md:hidden items-center justify-between p-3 gap-3 h-full",children:[o.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[o.jsx("div",{className:"h-4 w-24 bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 rounded relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})}),o.jsx("div",{className:"h-6 w-32 bg-gradient-to-r from-blue-50 via-purple-50 to-blue-50 rounded relative overflow-hidden",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})})]}),o.jsx("div",{className:"w-[110px] h-8 rounded-lg bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 relative overflow-hidden flex-shrink-0",children:o.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,delay:e*.2,ease:"linear"}})})]})]},e))})]})})})}function jU({barberId:e,currentPlan:t,onClose:r,onSubscribe:n,subscriptionStatus:a,expiryDate:l,isSubscriptionActive:c}){const{t:u}=yt(),[h,f]=y.useState(null),[p,g]=y.useState(null),[v,b]=y.useState(!0),[S,N]=y.useState(null);y.useEffect(()=>{(async()=>{if(!e){console.warn("[SUBSCRIPTION] No barberId provided"),b(!1);return}try{console.log("[SUBSCRIPTION]  Fetching from barbers table for barberId:",e);const{data:re,error:Se}=await Ke.from("barbers").select("subscription_expiry_date, subscription_status, subscription_plan").eq("id",e).maybeSingle();Se?console.error("[SUBSCRIPTION]  Error fetching from barbers table:",Se):(console.log("[SUBSCRIPTION]  Data from barbers table:",re),f(re));const{data:de,error:W}=await Ke.from("v_barber_subscription").select("*").eq("barber_id",e).maybeSingle();W?console.error("[SUBSCRIPTION]  Error fetching from view:",W):g(de);const{data:J,error:Ce}=await Ke.from("subscriptions").select("*").eq("barber_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();Ce||N(J)}catch(re){console.error("[SUBSCRIPTION]  Exception fetching subscription:",re)}finally{b(!1)}})()},[e]);const k=h?.subscription_expiry_date,j=h?.subscription_plan||S?.plan_type||p?.plan||t,E=h?.subscription_status||S?.status||p?.status||a,_=k||S?.expires_at||p?.ends_at||l;let A=!1;if(h){const $=new Date,re=h.subscription_expiry_date?new Date(h.subscription_expiry_date):null,Se=h.subscription_status,de=Se==="active"||Se==="free_trial",W=re?re>$:!1;(W||de&&(!re||W))&&(A=!0)}else if(S){const $=new Date,re=S.expires_at?new Date(S.expires_at):null,Se=S.status==="active"||S.status==="free_trial",de=re?re>$:!1;(de||Se&&(!re||de))&&(A=!0)}else p?typeof p.is_subscription_active=="boolean"?A=p.is_subscription_active:p.ends_at&&(A=new Date(p.ends_at).getTime()>Date.now()):A=c===!0;console.log("[SUBSCRIPTION]  Final computed values:",{dbData:p,finalCurrentPlan:j,finalStatus:E,finalExpiryDate:_,finalIsActive:A,isLoadingSubscription:v});const I=A,B=j||"";B.includes("trial")||B.includes("free");const[M,H]=y.useState(null),[V,X]=y.useState(!1),[Z,Q]=y.useState(!1),[ue,fe]=y.useState("payme"),[be,ie]=y.useState(!1),[le,G]=y.useState(!1),U=[{id:"1-month",name:u("subscription.oneMonth"),duration:1,totalPrice:99990,monthlyPrice:99990,description:u("subscription.shortTerm"),popular:!1},{id:"1-year",name:u("subscription.oneYear"),duration:12,totalPrice:959990,monthlyPrice:79999,description:u("subscription.longTerm"),savings:599900,popular:!0},{id:"6-months",name:u("subscription.sixMonths"),duration:6,totalPrice:539990,monthlyPrice:89998,description:u("subscription.bestValue"),savings:18e4,popular:!1}],R=$=>typeof $!="number"||isNaN($)?"0":new Intl.NumberFormat("uz-UZ").format($),T=$=>{if(!$)return"";try{const re=new Date($);return isNaN(re.getTime())?"":re.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return""}},P=$=>{H($),ie(!0)},L=async()=>{if(!(!ue||!M)){G(!0);try{const $=`BARDAK-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,re=M.totalPrice,Se="Bardak Barber Booking";if(ue==="payme"){const de="https://checkout.paycom.uz",W="5e730e8e0b852a417aa49ceb",J=re*100,Ce=`${de}/${W}?`+new URLSearchParams({amount:J.toString(),"account[order_id]":$,"account[plan]":M.id,"account[service]":"subscription",lang:"en"}).toString();window.location.href=Ce}else if(ue==="click"){const de="https://my.click.uz/services/pay",W="12345",J="67890",Ce=`${de}?`+new URLSearchParams({service_id:W,merchant_id:J,amount:re.toString(),transaction_param:$,return_url:window.location.origin+"/payment-success",card_type:"all"}).toString();window.location.href=Ce}}catch($){console.error("Payment redirect error:",$),K.error("Failed to redirect to payment provider"),G(!1)}}},D=()=>{Q(!1),M&&X(!0)},q=()=>{M&&n&&n(M.id),X(!1),K.success(u("subscription.subscriptionSuccess"))},F=$=>{fe($)};return v?o.jsx(NU,{}):o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-emerald-50/30",children:o.jsx("div",{className:"min-h-screen py-3 md:py-8 px-3 md:px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-4 md:mb-12 relative",children:[o.jsx(pe,{variant:"ghost",onClick:r,className:"absolute -top-1 md:top-0 right-0 text-gray-600 hover:text-gray-900 hover:bg-gray-100 w-8 h-8 md:w-10 md:h-10 rounded-full z-10 p-0",children:o.jsx(Ut,{className:"w-4 h-4 md:w-6 md:h-6"})}),o.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-10 h-10 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 mb-2 md:mb-6 shadow-lg shadow-primary/20",children:o.jsx(su,{className:"w-5 h-5 md:w-8 md:h-8 text-primary"})}),o.jsx("h1",{className:"text-gray-900 mb-1 md:mb-4 text-lg md:text-3xl font-semibold",children:u("subscription.chooseYourPlan")}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-xs md:text-base hidden md:block",children:u("subscription.planDescription")})]}),o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-3xl mx-auto mb-4 md:mb-8",children:o.jsxs(St,{className:"bg-white border border-emerald-200 shadow-sm overflow-hidden",children:[o.jsx(zr,{className:"border-b border-emerald-100 pb-3 md:pb-4 bg-gradient-to-r from-emerald-50/30 to-white bg-[rgba(193,255,208,0)]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gn,{className:"w-4 h-4 md:w-5 md:h-5 text-[#5B8CFF]"}),o.jsx(Dn,{className:"text-base md:text-lg text-gray-900",children:u("subscription.title")})]}),I&&o.jsxs(Jt,{className:"bg-emerald-500 hover:bg-emerald-600 text-white border-0 text-xs px-2 md:px-3 py-1 gap-1",children:[o.jsx(vr,{className:"w-3 h-3"}),u("subscription.active")]})]})}),o.jsx(kt,{className:"pt-3 md:pt-4 pb-3 md:pb-4",children:I?o.jsxs("div",{className:"relative p-4 md:p-5 rounded-[24px] bg-gradient-to-br from-emerald-50/90 via-teal-50/80 to-green-50/90 backdrop-blur-xl border border-emerald-200/60 shadow-[0_8px_30px_rgb(5,150,105,0.12)] hover:shadow-[0_12px_40px_rgb(5,150,105,0.18)] transition-all duration-300",children:[o.jsx("div",{className:"absolute inset-0 rounded-[24px] bg-gradient-to-br from-white/40 to-transparent pointer-events-none"}),o.jsxs("div",{className:"relative flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-2xl bg-white/60 backdrop-blur-xl border border-white/80 flex items-center justify-center shadow-lg shadow-gray-200/50",children:o.jsx(ai,{className:"w-5 h-5 text-emerald-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm md:text-base text-emerald-800 font-semibold tracking-tight",children:[" ",u("subscription.profileActive")]}),o.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-1.5 font-medium",children:[u("subscription.nextPaymentDue")," ",_?T(_):"N/A"]})]})]}),o.jsx("div",{className:"absolute top-3 right-3 w-20 h-20 bg-emerald-400/10 rounded-full blur-2xl pointer-events-none"})]}):o.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-red-50 border border-red-200",children:o.jsxs("div",{className:"flex items-start gap-2 md:gap-3",children:[o.jsx(tl,{className:"w-4 h-4 md:w-5 md:h-5 text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-xs md:text-sm text-red-700 font-medium",children:[" ",u("subscription.expiredWarning")]}),o.jsx("p",{className:"text-[10px] md:text-xs text-red-600 mt-1",children:u("subscription.renewNowMessage")})]})]})})})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-8 mb-6 md:mb-12 px-4",children:U.map(($,re)=>o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:re*.1},className:"relative",children:[$.popular&&o.jsx("div",{className:"absolute -top-3 md:-top-4 left-1/2 -translate-x-1/2 z-10",children:o.jsxs(Jt,{className:"bg-gradient-to-r from-blue-500 to-emerald-500 text-[rgb(91,140,255)] border-0 px-3 md:px-4 py-1 md:py-1.5 shadow-lg text-xs",children:[o.jsx(su,{className:"w-3 h-3 mr-1"}),u("subscription.mostPopular")]})}),t===$.id&&o.jsx("div",{className:`absolute ${$.popular?"-top-3 md:-top-4 right-4":"-top-3 md:-top-4 left-1/2 -translate-x-1/2"} z-10`,children:o.jsxs(Jt,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white border-0 px-3 md:px-4 py-1 md:py-1.5 shadow-lg text-xs",children:[o.jsx(ai,{className:"w-3 h-3 mr-1 fill-current"}),u("subscription.currentPlan")]})}),o.jsxs(St,{className:`relative overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl hidden md:block bg-white ${t===$.id?"border-2 border-blue-400 shadow-xl shadow-blue-200/50 ring-2 ring-blue-200":$.popular?"border-2 border-emerald-400 shadow-xl shadow-emerald-200/50":"border border-gray-200 shadow-md hover:border-emerald-300"}`,children:[t===$.id&&o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/30 to-emerald-400/30 blur-3xl"}),$.popular&&t!==$.id&&o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-300/30 to-blue-300/30 blur-3xl"}),o.jsxs(zr,{className:"text-center pb-8 relative",children:[o.jsx(Dn,{className:"text-2xl text-gray-900 mb-2",children:$.name}),o.jsx(kp,{className:"text-gray-600",children:$.description})]}),o.jsxs(kt,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center py-6 border-y border-gray-200",children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"text-4xl font-bold text-gray-900",children:R($.monthlyPrice)}),o.jsxs("span",{className:"text-gray-600 ml-2",children:["UZS/",u("subscription.month")]})]}),$.duration>1&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[R($.totalPrice)," UZS ",u("subscription.total")]}),$.savings&&o.jsxs("div",{className:"text-xs text-emerald-600 font-medium",children:[u("subscription.save")," ",R($.savings)," UZS"]})]}),$.duration===1&&o.jsxs("div",{className:"text-sm text-gray-600",children:[R($.totalPrice)," UZS ",u("subscription.total")]})]}),o.jsx(pe,{onClick:()=>P($),disabled:t===$.id,className:`w-full py-6 text-lg ${t===$.id?"bg-gradient-to-r from-blue-600 to-emerald-600 text-white cursor-default opacity-90":$.popular?"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 shadow-lg shadow-emerald-500/25 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:t===$.id?o.jsxs(o.Fragment,{children:[o.jsx(ai,{className:"w-5 h-5 mr-2 fill-current"}),u("subscription.currentPlan")]}):u("subscription.subscribe")})]})]}),o.jsxs(St,{className:`relative overflow-hidden md:hidden bg-white ${t===$.id?"border-2 border-blue-400 shadow-lg shadow-blue-200/50 ring-2 ring-blue-200":$.popular?"border-2 border-emerald-400 shadow-lg shadow-emerald-200/50":"border border-gray-200 shadow-md"}`,children:[t===$.id&&o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-blue-400/30 to-emerald-400/30 blur-3xl"}),$.popular&&t!==$.id&&o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-emerald-300/30 to-blue-300/30 blur-3xl"}),o.jsx(kt,{className:"p-3 relative",children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-gray-900 font-medium text-sm mb-0.5",children:$.name}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:R($.monthlyPrice)}),o.jsxs("span",{className:"text-xs text-gray-600",children:["UZS/",u("subscription.month")]})]}),$.duration>1&&o.jsxs("div",{className:"text-xs text-gray-600",children:[R($.totalPrice)," UZS ",u("subscription.total")]}),$.duration===1&&o.jsxs("div",{className:"text-xs text-gray-600",children:[R($.totalPrice)," UZS ",u("subscription.total")]})]})]}),o.jsx("div",{className:"flex flex-col gap-1.5 flex-shrink-0",children:o.jsx(pe,{onClick:()=>P($),size:"sm",disabled:t===$.id,className:`min-w-0 w-[110px] h-8 text-xs px-2 whitespace-nowrap flex-shrink-0 ${t===$.id?"bg-gradient-to-r from-blue-600 to-emerald-600 text-white cursor-default opacity-90":$.popular?"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:t===$.id?o.jsxs(o.Fragment,{children:[o.jsx(ai,{className:"w-3 h-3 mr-0.5 fill-current"}),o.jsx("span",{className:"truncate text-[11px]",children:u("subscription.active")})]}):o.jsx("span",{className:"truncate text-[14px] text-[rgb(255,255,255)]",children:u("subscription.subscribe")})})})]})})]})]},$.id))}),o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"max-w-4xl mx-auto hidden md:block px-4",children:o.jsx(St,{className:"bg-white border border-gray-200 shadow-lg",children:o.jsx(kt,{className:"p-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:o.jsx(bp,{className:"w-6 h-6 text-primary"})}),o.jsx("h3",{className:"text-gray-900 mb-2 font-semibold",children:u("subscription.securePayment")}),o.jsx("p",{className:"text-sm text-gray-600",children:u("subscription.securePaymentDesc")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:o.jsx(vS,{className:"w-6 h-6 text-primary"})}),o.jsx("h3",{className:"text-gray-900 mb-2 font-semibold",children:u("subscription.instantActivation")}),o.jsx("p",{className:"text-sm text-gray-600",children:u("subscription.instantActivationDesc")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:o.jsx(Gn,{className:"w-6 h-6 text-primary"})}),o.jsx("h3",{className:"text-gray-900 mb-2 font-semibold",children:u("subscription.flexiblePayment")}),o.jsx("p",{className:"text-sm text-gray-600",children:u("subscription.flexiblePaymentDesc")})]})]})})})})]})})}),V&&M&&o.jsx(wU,{isOpen:V,onClose:()=>X(!1),amount:M.totalPrice,onPaymentSuccess:q,title:`${u("subscription.subscribe")} - ${M.name}`}),o.jsx(jt,{children:Z&&M&&o.jsx(SU,{isOpen:Z,onClose:()=>Q(!1),plan:M,onSubscribe:D,currentPlan:t})}),be&&M&&o.jsx(La,{open:be,onOpenChange:ie,children:o.jsxs(yi,{className:"sm:max-w-[500px] bg-white border-gray-200",children:[o.jsxs(Ba,{className:"mb-6",children:[o.jsxs(Fa,{className:"text-2xl text-gray-900 flex items-center gap-2",children:[o.jsx(Gn,{className:"w-6 h-6 text-[#5B8CFF]"}),u("subscription.selectPaymentMethod")]}),o.jsx(Ua,{className:"text-gray-600",children:u("subscription.choosePaymentMethod")})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:`p-4 rounded-xl transition-all duration-300 cursor-pointer ${ue==="payme"?"bg-gradient-to-r from-blue-50 to-blue-50/50 border-2 border-[#5B8CFF]":"bg-gray-50 border border-gray-200 hover:border-gray-300"}`,onClick:()=>F("payme"),children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(jb,{src:"https://cdn.payme.uz/logo/payme_01.png",alt:"Payme",className:"w-10 h-10 object-contain"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Payme"}),o.jsx("p",{className:"text-sm text-gray-600",children:u("subscription.payWithPayme")})]}),ue==="payme"&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#5B8CFF] flex items-center justify-center",children:o.jsx(vr,{className:"w-4 h-4 text-white"})})]})}),o.jsx("div",{className:`p-4 rounded-xl transition-all duration-300 cursor-pointer ${ue==="click"?"bg-gradient-to-r from-blue-50 to-blue-50/50 border-2 border-[#5B8CFF]":"bg-gray-50 border border-gray-200 hover:border-gray-300"}`,onClick:()=>F("click"),children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(jb,{src:"https://click.uz/click/images/logo.svg",alt:"Click",className:"w-10 h-10 object-contain"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Click"}),o.jsx("p",{className:"text-sm text-gray-600",children:u("subscription.payWithClick")})]}),ue==="click"&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#5B8CFF] flex items-center justify-center",children:o.jsx(vr,{className:"w-4 h-4 text-white"})})]})})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u("subscription.subscribingTo")}),o.jsx("p",{className:"font-semibold text-gray-900",children:M.name}),o.jsxs("p",{className:"text-lg font-bold text-[rgb(42,100,238)] mt-1",children:[R(M.totalPrice)," UZS"]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(pe,{type:"button",variant:"outline",onClick:()=>ie(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-100",children:u("common.cancel")}),o.jsx(pe,{type:"submit",onClick:L,disabled:le||!ue,className:"flex-1 bg-[#5B8CFF] hover:bg-[#4A7BE8] text-white shadow-lg disabled:opacity-50",children:le?o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),u("subscription.processing")]}):o.jsx(o.Fragment,{children:u("subscription.payNow")})})]})]})]})})]})}function _U({onClose:e,onSubmit:t,barber:r}){const{t:n}=yt(),[a,l]=y.useState("customer"),[c,u]=y.useState(null),[h,f]=y.useState(null),[p,g]=y.useState(!0);y.useEffect(()=>{const ve=document.body.style.overflow,Ae=document.body.style.paddingRight,Ie=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${Ie}px`,()=>{document.body.style.overflow=ve,document.body.style.paddingRight=Ae}},[]),y.useEffect(()=>{console.log("[MANUAL BOOKING AUTH]  Initializing session on component mount");let ve=!0;(async()=>{try{g(!0);const{data:{session:Te},error:ce}=await Ke.auth.getSession();if(console.log("[MANUAL BOOKING AUTH]  Session check result:",{hasSession:!!Te,userId:Te?.user?.id,error:ce,accessToken:Te?.access_token?"present":"missing"}),ce){console.error("[MANUAL BOOKING AUTH]  Error fetching session:",ce),ve&&(u(null),f(null)),g(!1);return}if(!Te){console.log("[MANUAL BOOKING AUTH]  Using KV session token for authentication"),ve&&(u(null),f(null)),g(!1);return}console.log("[MANUAL BOOKING AUTH]  Session found:",{userId:Te.user.id,email:Te.user.email,role:Te.user.user_metadata?.role}),ve&&u(Te);const{data:{user:xe},error:je}=await Ke.auth.getUser(Te.access_token);console.log("[MANUAL BOOKING AUTH]  User fetch result:",{hasUser:!!xe,userId:xe?.id,error:je}),je?(console.error("[MANUAL BOOKING AUTH]  Error fetching user:",je),ve&&f(null)):xe?(console.log("[MANUAL BOOKING AUTH]  User found:",{id:xe.id,email:xe.email,role:xe.user_metadata?.role}),ve&&f(xe)):(console.warn("[MANUAL BOOKING AUTH]  No user found"),ve&&f(null)),g(!1)}catch(Te){console.error("[MANUAL BOOKING AUTH]  Exception during auth initialization:",Te),ve&&(u(null),f(null)),g(!1)}})();const{data:{subscription:Ie}}=Ke.auth.onAuthStateChange(async(Te,ce)=>{if(console.log("[MANUAL BOOKING AUTH]  Auth state changed:",{event:Te,hasSession:!!ce,userId:ce?.user?.id}),!!ve){if(Te==="SIGNED_OUT")console.log("[MANUAL BOOKING AUTH]  User signed out"),u(null),f(null);else if(Te==="SIGNED_IN"||Te==="TOKEN_REFRESHED"){if(console.log("[MANUAL BOOKING AUTH]  Session updated:",ce?.user?.id),u(ce),ce){const{data:{user:xe}}=await Ke.auth.getUser(ce.access_token);f(xe||null)}}else if(Te==="USER_UPDATED"&&(console.log("[MANUAL BOOKING AUTH]  User updated"),ce)){const{data:{user:xe}}=await Ke.auth.getUser(ce.access_token);f(xe||null)}}});return()=>{console.log("[MANUAL BOOKING AUTH]  Cleaning up auth subscription"),ve=!1,Ie.unsubscribe()}},[]);const[v,b]=y.useState([]),[S,N]=y.useState(!0),[k,j]=y.useState(null);y.useEffect(()=>{(async()=>{if(!r.id){console.log("[MANUAL BOOKING]  No barber ID, skipping service fetch"),b([]),N(!1);return}N(!0),j(null),console.log("[MANUAL BOOKING]  Fetching services for barber:",r.id);try{const{data:Ae,error:Ie}=await Ke.from("services").select("id, barber_id, name, duration, price, description, created_at, updated_at").eq("barber_id",r.id).order("created_at",{ascending:!0});Ie?(console.error("[MANUAL BOOKING]  Error fetching services:",Ie),j("Failed to load services. Please try again."),b([])):(console.log("[MANUAL BOOKING]  Services fetched from Supabase:",Ae?.length||0),console.log("[MANUAL BOOKING]  Services data:",JSON.stringify(Ae,null,2)),b(Ae||[]),(!Ae||Ae.length===0)&&console.warn("[MANUAL BOOKING]  No services found for barber"))}catch(Ae){console.error("[MANUAL BOOKING]  Exception fetching services:",Ae),j("Failed to load services. Please try again."),b([])}finally{N(!1)}})()},[r.id]);const E=v,[_,A]=y.useState(""),[I,B]=y.useState(""),[M,H]=y.useState(""),[V,X]=y.useState([]),[Z,Q]=y.useState(""),[ue,fe]=y.useState(""),[be,ie]=y.useState(null),[le,G]=y.useState(!1),[U,R]=y.useState(""),[T,P]=y.useState(""),[L,D]=y.useState(!1),q=new Date().toISOString().split("T")[0],F=Array.from({length:14},(ve,Ae)=>{const Ie=new Date;Ie.setDate(Ie.getDate()+Ae);const Te=Ie.toISOString().split("T")[0],ce=Ie.getDay(),xe=Ie.getMonth(),je=Ie.getDate(),rt=n("common.days.short")[ce],et=n("common.months.short")[xe];return{date:Te,label:`${rt} ${et} ${je}`}}).filter(ve=>ve.date>=q),[$,re]=y.useState([]),[Se,de]=y.useState(!1);y.useEffect(()=>{(async()=>{if(!Z||!r.id){re([]);return}de(!0),console.log("[MANUAL BOOKING] Fetching slots from view for:",{barberId:r.id,date:Z});try{const Ae=V.reduce((xe,je)=>xe+je.duration,0);console.log("[MANUAL BOOKING]  Required duration:",Ae,"minutes");const{data:Ie,error:Te}=await Ke.from("barber_slots").select("id, barber_id, slot_date, start_time, end_time, is_booked, is_available, status, created_at").eq("barber_id",r.id).eq("slot_date",Z).order("start_time",{ascending:!0});if(Te){console.error("[MANUAL BOOKING] Error fetching slots:",Te),K.error("Failed to load time slots"),re([]);return}if(console.log("[MANUAL BOOKING] Fetched slots from barber_slots table:",Ie),!Ie||Ie.length===0){console.log("[MANUAL BOOKING] No slots found for this date"),re([]);return}const ce=Ie.map(xe=>({id:xe.id,time:xe.start_time.slice(0,5),available:xe.is_available&&!xe.is_booked,status:xe.status||(xe.is_booked?"booked":"available")}));console.log("[MANUAL BOOKING]  All slots mapped (booked + available):",ce.length),console.log("[MANUAL BOOKING] Booked slots:",ce.filter(xe=>!xe.available).length),console.log("[MANUAL BOOKING] Available slots:",ce.filter(xe=>xe.available).length),re(ce)}catch(Ae){console.error("[MANUAL BOOKING] Exception fetching slots:",Ae),K.error("Failed to load time slots"),re([])}finally{de(!1)}})()},[Z,r.id,V]);const W=ve=>{const Ae=ve.replace(/\D/g,"");let Ie="+998";if(Ae.length>3){const Te=Ae.substring(3);Te.length>0&&(Ie+=" "+Te.substring(0,2)),Te.length>2&&(Ie+=" "+Te.substring(2,5)),Te.length>5&&(Ie+=" "+Te.substring(5,7)),Te.length>7&&(Ie+=" "+Te.substring(7,9))}B(Ie),M&&H("")},J=ve=>ve.length===17&&ve.startsWith("+998"),Ce=ve=>{X(Ae=>Ae.some(Ie=>Ie.name===ve.name)?Ae.filter(Ie=>Ie.name!==ve.name):[...Ae,ve])},Oe=()=>{if(a==="customer"){if(!_.trim()){K.error(n("manualBooking.customerNameRequired"));return}l("service")}else if(a==="service"){if(V.length===0){K.error(n("toast.pleaseSelectService"));return}l("datetime")}else if(a==="datetime"){if(!Z||!ue){K.error(n("toast.pleaseSelectDateTime"));return}if(!J(I)){H(n("auth.invalidPhoneNumber"));return}l("confirm")}else a==="confirm"&&ot()},Re=()=>{a==="service"?l("customer"):a==="datetime"?l("service"):a==="confirm"&&l("datetime")},ot=async()=>{if(L)return;D(!0);const ve=$.find(ne=>ne.time===ue),Ae=V.reduce((ne,he)=>ne+he.duration,0),Ie=V.reduce((ne,he)=>ne+he.price,0),[Te,ce]=ue.split(":"),xe=new Date;xe.setHours(parseInt(Te),parseInt(ce)+Ae);let je=ve?.id;if(!ve||!je||je.startsWith("temp-")){console.log("[MANUAL BOOKING] Creating missing slot before booking");try{const ne=localStorage.getItem("trimly_session_token");if(!ne){K.error("Please login to create booking");return}const he=`${ue}:00`,me=`${xe.getHours().toString().padStart(2,"0")}:${xe.getMinutes().toString().padStart(2,"0")}:00`,_e={slot_date:Z,start_time:he,end_time:me,is_available:!0};console.log("[MANUAL BOOKING] Creating slot:",_e);const Le=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/slots`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":ne},body:JSON.stringify(_e)});if(!Le.ok){const Ee=await Le.json();console.error("[MANUAL BOOKING] Failed to create slot:",Ee),K.error("Failed to create time slot");return}je=(await Le.json()).slot.id,console.log("[MANUAL BOOKING]  Slot created:",je)}catch(ne){console.error("[MANUAL BOOKING] Error creating slot:",ne),K.error("Failed to create time slot");return}}const rt=ne=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(ne);let et;if(r.services&&r.services.length>0){const ne=V[0].name,he=r.services.find(me=>me.name===ne);he&&rt(he.id)&&(et=he.id)}const oe={barberId:r.id,barberName:r.name,barberAvatar:r.avatar||"",customerId:null,customerName:_.trim(),customerPhone:I,serviceType:V.map(ne=>ne.name).join(" + "),date:Z,startTime:ue,endTime:`${xe.getHours().toString().padStart(2,"0")}:${xe.getMinutes().toString().padStart(2,"0")}`,duration:Ae,price:Ie,status:"confirmed",source:"manual",manualCustomerName:_.trim(),manualCustomerPhone:I,slotId:je,...et?{serviceId:et}:{}};console.log("[MANUAL BOOKING] Submitting booking:",{source:oe.source,slotId:oe.slotId,manualCustomerName:oe.manualCustomerName,manualCustomerPhone:oe.manualCustomerPhone});try{await t(oe),K.success(n("toast.manualBookingSuccess")),l("success"),D(!1),setTimeout(()=>{e(),A(""),B(""),H(""),X([]),Q(""),fe(""),ie(null),l("customer")},2e3)}catch(ne){console.error("[MANUAL BOOKING] Failed to create booking:",ne),K.error("Failed to create booking. Please try again."),D(!1)}},ft=V.reduce((ve,Ae)=>ve+Ae.price,0),Nt=V.reduce((ve,Ae)=>ve+Ae.duration,0),lt=async()=>{if(!U||!Z){K.error("Please enter a valid time");return}if(!/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/.test(U)){K.error("Invalid time format. Use HH:MM (e.g., 09:00)");return}const Ae=je=>je?je.split(":").length===2?`${je}:00`:je:"",Ie=je=>{const[rt,et]=je.split(":").map(Number),oe=rt*60+et+30,ne=Math.floor(oe/60),he=oe%60;return`${String(ne).padStart(2,"0")}:${String(he).padStart(2,"0")}`},Te=new Date,ce=new Date(Te.getFullYear(),Te.getMonth(),Te.getDate()),xe=new Date(Z+"T00:00:00");if(console.log("[ADD SLOT] Starting add slot process:",{slotTime:U,slotDate:Z,barberId:r.id}),xe<ce){console.log("[ADD SLOT]  Date is in the past"),K.error("Cannot add slots in the past");return}if(xe.getTime()===ce.getTime()){const[je,rt]=U.split(":").map(Number),et=Te.getHours(),oe=Te.getMinutes(),ne=je*60+rt,he=et*60+oe;if(ne<=he){console.log("[ADD SLOT]  Time has already passed"),K.error(n("toast.cannotAddPastSlots")||"Cannot add slots for times that have already passed");return}}try{P(""),console.log("[ADD SLOT] Checking if slot already exists and is booked...");const je=Ae(U),{data:rt,error:et}=await Ke.from("barber_slots").select("id, is_booked, status").eq("barber_id",r.id).eq("slot_date",Z).eq("start_time",je);if(et)console.error("[ADD SLOT] Error checking existing slots:",et);else if(rt&&rt.length>0){const Ee=rt[0];if(console.log("[ADD SLOT] Found existing slot:",Ee),Ee.is_booked){console.log("[ADD SLOT]  Slot is already booked");const Ve=n("schedule.slotAlreadyBooked");P(Ve),K.error(Ve);return}else{console.log("[ADD SLOT]  Slot exists but is available - will not create duplicate"),K.info("This time slot already exists"),G(!1),R("");return}}const oe=localStorage.getItem("trimly_session_token");if(!oe){console.error(" No active session found"),K.error("Please login to add slots");return}console.log("[ADD SLOT] Session token found:",oe.substring(0,20)+"...");const ne=Ae(Ie(U)),he={slot_date:Z,start_time:je,end_time:ne,is_available:!0};console.log("[ADD SLOT] Sending request to backend:",he);const me=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber/slots`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":oe},body:JSON.stringify(he)});if(console.log("[ADD SLOT] Response status:",me.status),!me.ok){const Ee=await me.json();console.error(" Failed to add slot:",Ee),me.status===401?K.error("Session expired. Please login again."):me.status===403?K.error("Only barbers can create slots"):Ee.error?K.error(`Failed to add slot: ${Ee.error}`):K.error("Failed to add slot. Please try again.");return}console.log(" Slot added successfully"),K.success(n("schedule.slotAddedSuccess")||"Time slot added successfully"),G(!1),R(""),console.log("[ADD SLOT]  Refetching slots for barber:",r.id,"date:",Z),de(!0);const{data:_e,error:Le}=await Ke.from("barber_slots").select("id, barber_id, slot_date, start_time, end_time, is_booked, is_available, status, created_at").eq("barber_id",r.id).eq("slot_date",Z).order("start_time",{ascending:!0});if(Le){console.error("[ADD SLOT]  Error refetching slots:",Le),K.error("Slot added but failed to refresh list. Please reload."),de(!1);return}console.log("[ADD SLOT]  Refetched slots from barber_slots:",_e);const He=_e?.map(Ee=>({id:Ee.id,time:Ee.start_time.slice(0,5),available:Ee.is_available&&!Ee.is_booked,status:Ee.status||(Ee.is_booked?"booked":"available")})).sort((Ee,Ve)=>{const[Ze,ct]=Ee.time.split(":").map(Number),[vt,Ge]=Ve.time.split(":").map(Number);return Ze*60+ct-(vt*60+Ge)})||[];console.log("[ADD SLOT]  Updated slots list (sorted ascending):",He),console.log("[ADD SLOT] Booked slots:",He.filter(Ee=>!Ee.available).length),console.log("[ADD SLOT] Available slots:",He.filter(Ee=>Ee.available).length),re(He),de(!1)}catch(je){console.error(" Error adding slot:",je?.message||je),K.error("An unexpected error occurred. Please try again."),de(!1)}};return o.jsxs(jt,{children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:e,children:o.jsx(ee.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:ve=>ve.stopPropagation(),className:"max-w-2xl w-full my-8",children:o.jsxs(St,{className:"border-0 shadow-2xl",children:[o.jsxs("div",{className:"relative border-b bg-[#FCFDFF] p-4 sm:p-6 rounded-t-[20px]",children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:e,className:"absolute right-3 sm:right-4 top-3 sm:top-4 w-8 h-8 p-0",children:o.jsx(Ut,{className:"w-4 h-4"})}),o.jsx("div",{className:"pr-10 sm:pr-12",children:o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-1",children:n("manualBooking.addTitle")})}),o.jsx("div",{className:"flex items-center gap-2 mt-6",children:["customer","service","datetime","confirm"].map((ve,Ae)=>o.jsx("div",{className:"flex items-center flex-1",children:o.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${["customer","service","datetime","confirm"].indexOf(a)>=Ae?"bg-blue-400":"bg-gray-200"}`})},`progress-step-${ve}-${Ae}`))})]}),o.jsx(kt,{className:"p-6",children:o.jsxs(jt,{mode:"wait",children:[a==="customer"&&o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"fullName",className:"text-gray-700 mb-3 block",children:n("manualBooking.fullName")}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:o.jsx(ho,{className:"w-5 h-5"})}),o.jsx(gt,{id:"fullName",type:"text",value:_,onChange:ve=>A(ve.target.value),placeholder:n("manualBooking.fullNamePlaceholder"),className:"pl-12 h-12 rounded-xl border-gray-200 bg-gray-50 focus:bg-white focus:border-blue-300 transition-all"})]})]}),o.jsxs("div",{children:[o.jsxs(Ye,{htmlFor:"phoneNumber",className:"text-gray-700 mb-3 block",children:[n("manualBooking.phoneNumber")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:o.jsx(Yn,{className:"w-5 h-5"})}),o.jsx(gt,{id:"phoneNumber",type:"tel",value:I,onChange:ve=>W(ve.target.value),placeholder:n("manualBooking.phoneNumberPlaceholder"),maxLength:17,className:`pl-12 h-12 rounded-xl bg-gray-50 focus:bg-white transition-all ${M?"border-red-300 focus:border-red-400":"border-gray-200 focus:border-blue-300"}`})]}),M&&o.jsxs(ee.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[o.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xs",children:"!"}),M]})]})]},"customer"),a==="service"&&o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:n("booking.multipleServices")}),o.jsx("div",{className:"grid gap-3 max-h-96 overflow-y-auto",children:E.map(ve=>{const Ae=V.some(Te=>Te.name===ve.name),Ie=ve.id||`${ve.barber_id}-${ve.name}`;return o.jsx(ee.button,{onClick:()=>Ce(ve),whileHover:{scale:1.02},whileTap:{scale:.98},className:`relative p-4 rounded-xl border-2 transition-all text-left overflow-hidden ${Ae?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100/50":"border-gray-200 bg-white hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:ve.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(An,{className:"w-4 h-4"}),ve.duration," ",n("booking.minutes")]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[new Intl.NumberFormat("uz-UZ").format(ve.price)," UZS"]})]})]}),Ae&&o.jsx(ee.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center",children:o.jsx(vr,{className:"w-4 h-4 text-white"})})]})},Ie)})}),V.length>0&&o.jsx("div",{className:"mt-4 p-4 rounded-xl border border-white/40 bg-gradient-to-br from-[#5B8CFF]/20 via-[#5B8CFF]/15 to-[#5B8CFF]/10 backdrop-blur-sm shadow-[0_8px_32px_rgba(91,140,255,0.15)]",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-700",children:[V.length," ",n("booking.selected")]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-gray-900",children:[new Intl.NumberFormat("uz-UZ").format(ft)," UZS"]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[Nt," ",n("booking.minutes")]})]})]})})]},"service"),a==="datetime"&&o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"mb-3 block",children:n("booking.selectDate")}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:F.map(ve=>o.jsxs("button",{onClick:()=>Q(ve.date),className:`p-3 rounded-xl border-2 transition-all text-center ${Z===ve.date?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:ve.label.split(" ")[0]}),o.jsx("div",{className:"font-semibold text-gray-900",children:ve.label.split(" ")[2]})]},ve.date))})]}),Z&&o.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[o.jsx(Ye,{className:"mb-3 block",children:n("booking.selectTime")}),Se?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading slots..."}):$.length===0?o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:o.jsx("button",{onClick:()=>G(!0),className:"p-3 rounded-xl border-2 border-gray-200 hover:border-gray-300 transition-all bg-white",children:o.jsx("div",{className:"text-sm font-medium text-gray-900 text-center flex items-center justify-center h-full bg-[rgba(0,0,0,0)]",children:o.jsx(uo,{className:"w-6 h-6 text-gray-400"})})},"add-slot-button-empty")}):o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:[$.map(ve=>{const Ae=ZN(Z,ve.time),Ie=!ve.available||Ae;return o.jsx("button",{onClick:()=>!Ie&&fe(ve.time),disabled:Ie,className:`p-3 rounded-2xl border transition-all ${ue===ve.time?"border-[rgb(54,108,255)] bg-[rgb(54,108,255)]/10 shadow-sm":Ie?"border-red-200 bg-red-50 cursor-not-allowed opacity-40":"border-gray-200 bg-white hover:border-[rgb(54,108,255)]/40 hover:bg-blue-50/30"}`,title:Ae?"This time has already passed":ve.available?"Available":"This time slot is booked",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[o.jsx("div",{className:`text-sm font-medium text-center ${ue===ve.time?"text-[rgb(54,108,255)]":Ie?"text-red-600":"text-gray-700"}`,children:ve.time}),!ve.available&&!Ae&&o.jsx("span",{className:"text-[10px] font-semibold text-red-600 uppercase tracking-wide",children:n("schedule.booked")})]})},ve.id)}),o.jsx("button",{onClick:()=>G(!0),className:"p-3 rounded-xl border-2 border-gray-200 hover:border-gray-300 transition-all bg-white",children:o.jsx("div",{className:"text-sm font-medium text-gray-900 text-center flex items-center justify-center h-full",children:o.jsx(uo,{className:"w-6 h-6"})})},"add-slot-button")]})]})]},"datetime"),a==="confirm"&&o.jsx(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 p-6 rounded-xl border border-blue-200",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:n("booking.confirmBooking")}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-600",children:n("manualBooking.customerName")}),o.jsx("span",{className:"font-medium text-gray-900",children:_})]}),I&&o.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-600",children:n("auth.phone")}),o.jsx("span",{className:"font-medium text-gray-900",children:I})]}),o.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-600",children:n("booking.services")}),o.jsx("span",{className:"font-medium text-gray-900 text-right",children:V.map(ve=>ve.name).join(" + ")})]}),o.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-600",children:n("booking.date")}),o.jsx("span",{className:"font-medium text-gray-900",children:new Date(Z).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-600",children:n("booking.time")}),o.jsx("span",{className:"font-medium text-gray-900",children:ue})]}),o.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-600",children:n("booking.duration")}),o.jsxs("span",{className:"font-medium text-gray-900",children:[Nt," ",n("booking.minutes")]})]}),o.jsxs("div",{className:"flex justify-between py-3 pt-4",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:n("booking.totalPrice")}),o.jsxs("span",{className:"font-bold text-xl text-[#5B8CFF]",children:[new Intl.NumberFormat("uz-UZ").format(ft)," UZS"]})]})]})]})},"confirm"),a==="success"&&o.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[o.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-emerald-400 to-blue-500 flex items-center justify-center",children:o.jsx(vr,{className:"w-10 h-10 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n("booking.bookingConfirmed")}),o.jsx("p",{className:"text-gray-600",children:n("manualBooking.saved")})]},"success")]})}),a!=="success"&&o.jsx("div",{className:"border-t p-6 bg-gray-50 rounded-[20px]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(pe,{variant:"outline",onClick:a==="customer"?e:Re,className:"gap-2",children:[o.jsx(Is,{className:"w-4 h-4"}),n("common.back")]}),o.jsx(pe,{onClick:Oe,disabled:L,className:"gap-2 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white shadow-lg shadow-blue-500/25 disabled:opacity-70 disabled:cursor-not-allowed",children:L?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),o.jsx("span",{children:n("common.processing")||"Processing..."})]}):o.jsxs(o.Fragment,{children:[n(a==="confirm"?"booking.confirm":"common.next"),o.jsx(Ds,{className:"w-4 h-4"})]})})]})})]})})}),le&&o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:()=>G(!1),children:o.jsxs(ee.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:ve=>ve.stopPropagation(),className:"bg-white dark:bg-gray-800 p-6 rounded-[20px] shadow-2xl w-full max-w-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:n("schedule.addTimeSlotModal")}),o.jsx("button",{onClick:()=>{G(!1),P("")},className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 p-1",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"newSlotTime",className:"mb-2 block",children:n("schedule.timeHHMM")}),o.jsx(gt,{id:"newSlotTime",type:"time",value:U,onChange:ve=>{R(ve.target.value),T&&P("")},className:`h-12 rounded-xl bg-gray-50 focus:bg-white transition-all ${T?"border-red-300 focus:border-red-400":"border-gray-200 focus:border-blue-300"}`,placeholder:"09:00"}),T&&o.jsxs(ee.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[o.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xs font-bold",children:"!"}),T]})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(pe,{variant:"outline",onClick:()=>{G(!1),R(""),P("")},className:"flex-1",children:n("common.cancel")}),o.jsx(pe,{onClick:lt,className:"flex-1 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white",children:n("common.save")})]})]})]})})]})}function CU({barberProfile:e,onCompleteSetup:t}){const{t:r}=yt(),[n,a]=y.useState(!1),[l,c]=y.useState(!0);return y.useEffect(()=>{(()=>{const h=Array.isArray(e.districts)&&e.districts.length>0,f=Array.isArray(e.languages)&&e.languages.length>0,p=Array.isArray(e.services)&&e.services.length>0;console.log("[INCOMPLETE PROFILE BANNER] Profile completeness check:",{barberId:e.id,barberName:e.name,hasDistricts:h,districts:e.districts,districtsType:typeof e.districts,districtsIsArray:Array.isArray(e.districts),districtsLength:e.districts?.length,hasLanguages:f,languages:e.languages,languagesType:typeof e.languages,languagesIsArray:Array.isArray(e.languages),languagesLength:e.languages?.length,hasServices:p,services:e.services,servicesType:typeof e.services,servicesIsArray:Array.isArray(e.services),servicesCount:e.services?.length||0,fullProfile:e});const g=h&&f&&p;c(g),console.log("[INCOMPLETE PROFILE BANNER] Profile is complete:",g),console.log("[INCOMPLETE PROFILE BANNER] Will show banner:",!g&&!n),g&&localStorage.removeItem("trimly_profile_banner_dismissed")})()},[e,n]),y.useEffect(()=>{localStorage.getItem("trimly_profile_banner_dismissed")==="true"&&!l&&a(!0)},[l]),null}function EU({subscriptionStatus:e,subscriptionExpiryDate:t,isSubscriptionActive:r,onRenew:n}){const{t:a}=yt(),l=new Date,c=t?new Date(t):null,u=c?c<l:!1,h=e==="expired"||r===!1||u;return console.log("[SUBSCRIPTION BANNER]  Banner visibility check:",{subscriptionStatus:e,subscriptionExpiryDate:t,isSubscriptionActive:r,isExpired:u,shouldShowBanner:h}),h?o.jsx(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-300 shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-full shrink-0",children:o.jsx(tl,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:a("subscription.expiredWarning")||"Your subscription has expired"}),o.jsx("p",{className:"text-sm text-red-800 leading-relaxed max-w-xl",children:a("subscription.expiredBannerMessage")||"To make your account visible to clients, please renew your subscription."})]})]}),o.jsxs(pe,{onClick:n,className:"w-full md:w-auto bg-gradient-to-r from-[#5B8CFF] to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shrink-0 gap-2 shadow-md hover:shadow-lg transition-all",children:[o.jsx(Gn,{className:"w-4 h-4"}),a("subscription.renewSubscription")||"Renew subscription"]})]})}):null}function TU({barberName:e,stats:t,todaysBookings:r,allBookings:n,activeTab:a,onTabChange:l,barberProfile:c,onUpdateProfile:u,onSaveManualBooking:h,onDeleteManualBooking:f,onAddBooking:p}){const{t:g}=yt(),[v,b]=y.useState(!1),[S,N]=y.useState(null),[k,j]=y.useState(0),[E,_]=y.useState(0),A=new Date().toISOString().split("T")[0],I=Array.from(new Set(n.map(U=>U.date))).filter(U=>U>=A).sort(),M=(S?n.filter(U=>U.date===S).sort((U,R)=>U.startTime.localeCompare(R.startTime)):r).filter(U=>{if(U.date>A||U.date<A)return!0;const R=new Date,T=R.getHours()*60+R.getMinutes(),[P,L]=U.endTime.split(":").map(Number);return P*60+L>T}),H=3,V=I.slice(k,k+H),X=k>0,Z=k+H<I.length,Q=U=>new Date(U).getDate(),ue=U=>{const R=new Date(U),T=g("common.months.short");return Array.isArray(T)&&T[R.getMonth()]?T[R.getMonth()]:R.toLocaleDateString("en-US",{month:"short"})},fe=()=>{X&&j(U=>Math.max(0,U-1))},be=()=>{Z&&j(U=>Math.min(I.length-H,U+1))},ie=U=>{N(U)};console.log("[BARBER DASHBOARD]  Subscription props for SubscriptionManagement:",{currentPlan:c.currentPlan,subscriptionStatus:c.subscriptionStatus,expiryDate:c.subscriptionExpiryDate,isSubscriptionActive:c.isSubscriptionActive,source:"barberProfile prop from App.tsx currentUser state"});const le=U=>new Intl.NumberFormat("uz-UZ").format(U),G=U=>{const R=new Date;let T=1;U==="6-months"?T=6:U==="1-year"&&(T=12);const P=c.subscriptionExpiryDate?new Date(c.subscriptionExpiryDate):R,L=c.subscriptionStatus==="active"&&P>R?P:R,D=new Date(L);D.setMonth(D.getMonth()+T),u({...c,subscriptionStatus:"active",currentPlan:U,subscriptionExpiryDate:D.toISOString(),lastPaymentDate:R.toISOString()}),K.success(g("toast.subscriptionRenewed"))};return a==="schedule"?o.jsx("div",{className:"flex-1 w-full bg-gradient-to-br from-blue-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:o.jsx("h1",{className:"text-center font-normal text-[20px] py-[-20px] flex justify-center items-center px-[0px] py-[9px]",children:g("customer.dashboard.manageSchedule")})}),o.jsx(J6,{barberId:c.id,refreshTrigger:E})]})}):a==="edit-profile"?o.jsx(aU,{barber:c,onClose:()=>l("home"),onSave:u}):a==="subscription"?o.jsx(jt,{children:o.jsx(jU,{barberId:c.id,currentPlan:c.currentPlan,subscriptionStatus:c.subscriptionStatus,expiryDate:c.subscriptionExpiryDate,isSubscriptionActive:c.isSubscriptionActive,onClose:()=>l("home"),onSubscribe:U=>{G(U),l("home")}})}):o.jsxs("div",{className:"flex-1 w-full bg-gradient-to-br from-blue-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h1",{children:g("customer.dashboard.goodDay",{name:c?.full_name||e})}),o.jsx(ee.span,{animate:{rotate:[0,14,-8,14,-4,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"text-3xl",children:""})]}),o.jsx("p",{className:"text-gray-600",children:g("customer.dashboard.hereOverview")})]}),o.jsx(CU,{barberProfile:c,onCompleteSetup:()=>l("edit-profile")}),o.jsx(EU,{subscriptionStatus:c.subscriptionStatus,subscriptionExpiryDate:c.subscriptionExpiryDate,isSubscriptionActive:c.isSubscriptionActive,onRenew:()=>l("subscription")}),console.log("[BARBER DASHBOARD]  Subscription Status Debug:",{subscriptionStatus:c.subscriptionStatus,subscriptionExpiryDate:c.subscriptionExpiryDate,isSubscriptionActive:c.isSubscriptionActive,currentPlan:c.currentPlan,showingBanner:c.subscriptionStatus==="expired"}),o.jsx(ci,{className:"my-8"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsx(Sb,{title:g("customer.dashboard.customersThisWeek"),value:t.totalCustomersThisWeek,subtitle:g("customer.dashboard.activeBookings"),icon:IR,color:"emerald"}),o.jsx(Sb,{title:g("customer.dashboard.todaysEarnings"),value:`${le(t.todaysEarnings)} UZS`,subtitle:g("customer.dashboard.fromCompletedServices"),icon:rl,color:"amber"})]}),o.jsx(ci,{className:"my-8"}),o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(An,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{children:g("customer.dashboard.todaysSchedule")}),o.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",M.length," ",M.length!==1?g("customer.dashboard.appointments"):g("customer.dashboard.appointment"),")"]})]}),c.isSubscriptionActive&&o.jsxs(pe,{onClick:()=>b(!0),className:"hidden md:flex gap-2 bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white shadow-lg rounded-[16px] px-5 py-2.5 transition-all duration-300",children:[o.jsx(uo,{className:"w-4 h-4"}),g("manualBooking.addManualBooking")]})]}),M.length>0?o.jsxs("div",{className:"space-y-6",children:[I.length>0&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:fe,disabled:!X,className:"p-2 rounded-full bg-white border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all","aria-label":"Previous dates",children:o.jsx(Is,{className:"w-4 h-4 text-gray-600"})}),o.jsx("div",{className:"flex gap-2",children:V.map(U=>o.jsxs("button",{onClick:()=>ie(U),className:`min-w-[60px] px-4 py-2 rounded-[16px] border transition-all duration-300 ${S===U?"bg-[#5B8CFF] text-white border-[#5B8CFF]/30 shadow-lg shadow-[#5B8CFF]/25":"bg-white/90 backdrop-blur-sm text-gray-600 border-gray-200/50 shadow-sm hover:shadow-md hover:border-[#5B8CFF]/30 hover:bg-[#5B8CFF]/5"}`,children:[o.jsx("div",{className:"text-xs opacity-70",children:ue(U)}),o.jsx("div",{className:"text-lg font-semibold",children:Q(U)})]},U))}),o.jsx("button",{onClick:be,disabled:!Z,className:"p-2 rounded-full bg-white border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all","aria-label":"Next dates",children:o.jsx(Ds,{className:"w-4 h-4 text-gray-600"})})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:M.map((U,R)=>o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},children:o.jsx(LN,{booking:U,viewAs:"barber"})},U.id))})]}):o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[o.jsxs("div",{className:"text-center py-12 px-4 rounded-lg bg-white border-2 border-dashed border-gray-200",children:[o.jsx(An,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-600",children:g("customer.dashboard.noAppointmentsToday")}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g("customer.dashboard.enjoyFreeTime")})]}),I.length>0&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:fe,disabled:!X,className:"p-2 rounded-full bg-white border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all","aria-label":"Previous dates",children:o.jsx(Is,{className:"w-4 h-4 text-gray-600"})}),o.jsx("div",{className:"flex gap-2",children:V.map(U=>o.jsxs("button",{onClick:()=>ie(U),className:`min-w-[60px] px-4 py-2 rounded-[16px] border transition-all duration-300 ${S===U?"bg-[#5B8CFF] text-white border-[#5B8CFF]/30 shadow-lg shadow-[#5B8CFF]/25":"bg-white/90 backdrop-blur-sm text-gray-600 border-gray-200/50 shadow-sm hover:shadow-md hover:border-[#5B8CFF]/30 hover:bg-[#5B8CFF]/5"}`,children:[o.jsx("div",{className:"text-xs opacity-70",children:ue(U)}),o.jsx("div",{className:"text-lg font-semibold",children:Q(U)})]},U))}),o.jsx("button",{onClick:be,disabled:!Z,className:"p-2 rounded-full bg-white border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all","aria-label":"Next dates",children:o.jsx(Ds,{className:"w-4 h-4 text-gray-600"})})]})]})]}),o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8 p-6 rounded-lg bg-gradient-to-r from-blue-100 to-emerald-100 border border-blue-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(yS,{className:"w-6 h-6 text-emerald-600 mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-2",children:g("customer.dashboard.performanceInsights")}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("li",{children:[" ",g("customer.dashboard.insightServing",{count:t.totalCustomersThisWeek})]}),o.jsxs("li",{children:[" ",g("customer.dashboard.insightPeakHours")]})]})]})]})})]}),c.isSubscriptionActive&&o.jsxs(ee.button,{onClick:()=>b(!0),initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},className:"md:hidden fixed bottom-20 right-4 w-16 h-16 rounded-full bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-xl border-2 border-[#5B8CFF]/30 text-[#5B8CFF] shadow-2xl shadow-blue-300/40 hover:shadow-blue-400/50 transition-all duration-300 flex items-center justify-center z-40 overflow-hidden","aria-label":g("manualBooking.addManualBooking"),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/60 via-transparent to-transparent rounded-full pointer-events-none"}),o.jsx(uo,{className:"w-7 h-7 relative z-10 drop-shadow-sm"})]}),v&&o.jsx(_U,{onClose:()=>b(!1),onSubmit:async U=>{await p(U),_(R=>R+1)},barber:c})]})}function PU({onRetry:e}){return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:o.jsxs(St,{className:"shadow-xl border-2 border-red-200 dark:border-red-900",children:[o.jsxs(zr,{className:"text-center pb-4",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:o.jsx(tl,{className:"w-8 h-8 text-red-600"})})}),o.jsx(Dn,{className:"text-xl text-red-600",children:"Authentication Error"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Email authentication is not enabled. Please contact support."})]}),o.jsx(kt,{children:o.jsx(pe,{onClick:e,className:"w-full bg-emerald-600 hover:bg-emerald-700",children:"Retry"})})]})})})}function AU(){const[e,t]=y.useState("checking"),[r,n]=y.useState(null),[a,l]=y.useState(null),[c,u]=y.useState(!1);if(y.useEffect(()=>{const p=window.location.hostname==="localhost"||window.location.hostname.includes("127.0.0.1")||window.location.hostname.includes("figma")||window.location.hostname.includes("preview")||window.location.hostname.includes("dev")||window.location.hostname.includes("staging"),g=localStorage.getItem("supabase_debug")==="true",v=p||g;console.log("[SUPABASE DEBUG BANNER] Visibility check:",{hostname:window.location.hostname,isDev:p,debugFlagEnabled:g,shouldShow:v}),u(v)},[]),y.useEffect(()=>{c&&(async()=>{try{console.log(" [Debug Banner] Testing Supabase connection...");const{data:g,error:v}=await Ke.from("barbers").select("id").limit(1);v?(console.error(" [Debug Banner] Connection test failed:",v),t("failed"),n("failed"),l(v.message||"Unknown error")):(console.log(" [Debug Banner] Connection test successful"),t("connected"),n("ok"),l(null))}catch(g){console.error(" [Debug Banner] Connection test exception:",g),t("failed"),n("failed"),l(g?.message||"Connection error")}})()},[c]),!c)return null;const h="gxethvdtqpqtfibpznub",f=Pf.projectId===h;return o.jsxs("div",{hidden:!0,className:"fixed bottom-4 right-4 z-50 bg-gray-900 text-white text-xs rounded-lg shadow-lg p-3 max-w-sm border border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx($A,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:"Supabase Debug"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e==="checking"&&o.jsx(tl,{className:"w-3 h-3 text-yellow-400"}),e==="connected"&&o.jsx(ai,{className:"w-3 h-3 text-green-400"}),e==="failed"&&o.jsx(af,{className:"w-3 h-3 text-red-400"}),o.jsx("span",{className:"text-gray-300",children:"Status:"}),o.jsx("span",{className:e==="connected"?"text-green-400 font-semibold":e==="failed"?"text-red-400 font-semibold":"text-yellow-400",children:e==="checking"?"Checking...":e==="connected"?"Connected":"Failed"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-300",children:"Project:"}),o.jsx("span",{className:`font-mono text-[11px] ${f?"text-blue-400":"text-red-400"}`,children:Pf.projectId}),f?o.jsx(ai,{className:"w-3 h-3 text-green-400"}):o.jsx(af,{className:"w-3 h-3 text-red-400"})]}),!f&&o.jsx("div",{className:"bg-red-900/30 border border-red-700 rounded px-2 py-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(af,{className:"w-3 h-3 text-red-400 flex-shrink-0"}),o.jsxs("div",{className:"text-[10px]",children:[o.jsx("div",{className:"text-red-300 font-semibold",children:"Wrong Project!"}),o.jsxs("div",{className:"text-gray-400",children:["Expected: ",h]})]})]})}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-300 flex-shrink-0",children:"URL:"}),o.jsx("span",{className:"text-gray-400 font-mono text-[10px] break-all",children:Pf.url})]}),r&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-300",children:"Last Request:"}),o.jsx("span",{className:r==="ok"?"text-green-400":"text-red-400",children:r==="ok"?" OK":" Failed"})]}),a&&o.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded px-2 py-1 mt-1",children:o.jsx("div",{className:"text-[10px] text-red-300 break-words",children:a})}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full mt-2 bg-blue-600 hover:bg-blue-700 text-white rounded px-2 py-1 text-[10px] transition-colors",children:"Refresh Page"})]})]})}var RU=(e,t,r,n,a,l,c,u)=>{let h=document.documentElement,f=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(S=>{let N=S==="class",k=N&&l?a.map(j=>l[j]||j):a;N?(h.classList.remove(...k),h.classList.add(l&&l[b]?l[b]:b)):h.setAttribute(S,b)}),g(b)}function g(b){u&&f.includes(b)&&(h.style.colorScheme=b)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let b=localStorage.getItem(t)||r,S=c&&b==="system"?v():b;p(S)}catch{}},IU=y.createContext(void 0),DU={setTheme:e=>{},themes:[]},OU=()=>{var e;return(e=y.useContext(IU))!=null?e:DU};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:l,value:c,themes:u,nonce:h,scriptProps:f})=>{let p=JSON.stringify([r,t,l,e,u,c,n,a]).slice(1,-1);return y.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${RU.toString()})(${p})`}})});const MU=({...e})=>{const{theme:t="system"}=OU();return o.jsx(vD,{theme:t,className:"toaster group",toastOptions:{style:{background:"var(--popover)",color:"var(--popover-foreground)",border:"1px solid var(--border)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},classNames:{success:"success-toast",error:"error-toast",info:"info-toast"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--success-bg":"rgba(91, 140, 255, 0.1)","--success-border":"rgba(91, 140, 255, 0.3)","--error-bg":"rgba(239, 68, 68, 0.1)","--error-border":"rgba(239, 68, 68, 0.3)"},...e})};function LU(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),a=async()=>{t(!0),n(null);try{console.log("[ADMIN SYNC] Calling sync endpoint...");const l=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/admin/sync-slot-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`}}),c=await l.json();if(!l.ok){console.error(" [ADMIN SYNC] Error:",c),K.error(`Sync failed: ${c.error||"Unknown error"}`),n({error:c});return}console.log(" [ADMIN SYNC] Success:",c),K.success("Database sync completed successfully!"),n(c)}catch(l){console.error(" [ADMIN SYNC] Exception:",l),K.error(`Sync failed: ${l.message}`),n({error:l.message})}finally{t(!1)}};return o.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs(St,{children:[o.jsxs(zr,{children:[o.jsx(Dn,{children:"Admin: Database Sync Tool"}),o.jsxs(kp,{children:["Sync the ",o.jsx("code",{children:"is_booked"})," column with the ",o.jsx("code",{children:"status"})," column in the barber_slots table"]})]}),o.jsxs(kt,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What this does:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[o.jsxs("li",{children:["Sets ",o.jsx("code",{children:"is_booked = true"})," for all slots with ",o.jsx("code",{children:"status = 'booked'"})]}),o.jsxs("li",{children:["Sets ",o.jsx("code",{children:"is_booked = false"})," for all slots with ",o.jsx("code",{children:"status = 'available'"})]}),o.jsx("li",{children:"This is a one-time fix to sync old database rows"})]})]}),o.jsx(pe,{onClick:a,disabled:e,className:"w-full",size:"lg",children:e?"Syncing...":"Run Database Sync"}),r&&o.jsxs("div",{className:`rounded-lg p-4 ${r.error?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:[o.jsx("h3",{className:`font-semibold mb-2 ${r.error?"text-red-900":"text-green-900"}`,children:r.error?" Error":" Success"}),o.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(r,null,2)})]}),r&&!r.error&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Summary:"}),o.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[o.jsxs("li",{children:["Total slots: ",o.jsx("strong",{children:r.total_slots})]}),o.jsxs("li",{children:["Slots updated: ",o.jsx("strong",{children:r.updated})]}),o.jsxs("li",{children:["Booked slots updated: ",o.jsx("strong",{children:r.booked_slots_updated})]}),o.jsxs("li",{children:["Available slots updated: ",o.jsx("strong",{children:r.available_slots_updated})]})]})]})]})]})})})}function BU(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}let Rf=null;function FU(e){if(Rf)try{const r=new Map(e.map(l=>[l.id,l])),n=[],a=new Set;for(const l of Rf){const c=r.get(l);c&&(n.push(c),a.add(l))}for(const l of e)a.has(l.id)||n.push(l);return n}catch{console.error("[ORDER] Failed to apply cached order, creating new shuffle")}const t=BU(e);return Rf=t.map(r=>r.id),console.log("[ORDER] New page load order created and cached"),t}function UU(){const{t:e}=yt(),[t,r]=y.useState(null),[n,a]=y.useState("login"),[l,c]=y.useState(""),[u,h]=y.useState("search"),[f,p]=y.useState(!1),[g,v]=y.useState([]),[b,S]=y.useState([]),[N,k]=y.useState(!0),[j,E]=y.useState([]),[_,A]=y.useState(!0);y.useEffect(()=>{(async()=>{const T=localStorage.getItem("trimly_session_token");if(!T){console.log("[AUTH] No session token found, user not logged in"),A(!1);return}console.log("[AUTH] Found session token, restoring session...");try{const P=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":T}});if(!P.ok){console.error("[AUTH] Session verification failed, clearing session"),localStorage.removeItem("trimly_session_token"),A(!1);return}const L=await P.json();console.log("[AUTH] Session restored successfully:",L.user?.role);const D=L.profile||L.user;r({id:L.user.id,role:L.user.role,name:L.user.fullName||L.user.name||"User",email:L.user.phone,phone:L.user.phone,avatar:D?.avatar||"",bio:D?.bio||"",...D})}catch(P){console.error("[AUTH] Error restoring session:",P),localStorage.removeItem("trimly_session_token")}finally{A(!1)}})()},[]),y.useEffect(()=>{const T=new URLSearchParams(window.location.search).get("barber");T&&(console.log(" Shared barber link detected:",T),h("search"))},[]);const I=y.useMemo(()=>g,[g]),B=async()=>{try{console.log(" [Supabase] Fetching barbers from barbers table...");const{data:R,error:T}=await Ke.from("barbers").select("*");if(T){console.error("[Supabase] Fetch barbers error:",T),console.error("[Supabase] Error details:",{message:T.message,details:T.details,hint:T.hint,code:T.code}),S([]);return}if(console.log(" [Supabase] Fetched barbers from table:",R?.length||0),!R||R.length===0){console.log(" [Supabase] No barbers in barbers table"),S([]);return}const{data:P,error:L}=await Ke.from("services").select("*");L&&console.error("[Supabase] Fetch services error:",L),console.log(" [Supabase] Fetched services:",P?.length||0);const D=new Map;(P||[]).forEach(F=>{D.has(F.barber_id)||D.set(F.barber_id,[]),D.get(F.barber_id).push(F)});const q=R.map(F=>{const $=new Date,re=F.subscription_expiry_date?new Date(F.subscription_expiry_date):null,Se=F.subscription_status==="active"||F.subscription_status==="free_trial",W=re&&re>$||Se&&(!re||re>$);if(console.log(`${W?"":""} Barber ${F.full_name||F.id}:`,{subscription_status:F.subscription_status,subscription_expiry_date:F.subscription_expiry_date,subscription_plan:F.subscription_plan,is_active:W,is_available:F.is_available}),!W)return console.log(` Hiding barber ${F.full_name||F.id} - subscription not active`),null;if(F.is_available===!1)return console.log(` Hiding barber ${F.full_name||F.id} - marked as unavailable by barber`),null;const J=D.get(F.id)||[],Ce=Array.isArray(F.languages)?F.languages:[],Oe=Array.isArray(F.districts)?F.districts:[],Re=Array.isArray(F.gallery)?F.gallery:[],ot=Array.isArray(F.specialties)?F.specialties:[];let ft=0,Nt=0;if(J.length>0){const lt=J.map(ve=>ve.price||0).filter(ve=>ve>0);lt.length>0&&(ft=Math.min(...lt),Nt=Math.max(...lt))}return console.log(` Barber ${F.full_name||F.id}:`,{services_count:J.length,price_range:{min:ft,max:Nt}}),{id:F.id,name:F.full_name||F.name||"Barber",username:F.username||"",avatar:F.avatar||"",bio:F.bio||"",description:F.description||"",barbershopName:F.barbershop_name||"",rating:F.rating||5,reviewCount:F.review_count||0,distance:F.distance||1,priceRange:{min:ft,max:Nt},services:J,gallery:Re,languages:Ce,districts:Oe,specialties:ot,servicesForKids:F.services_for_kids??!1,subscriptionStatus:F.subscription_status||"inactive",subscriptionExpiryDate:F.subscription_expiry_date,currentPlan:F.subscription_plan,trialUsed:F.trial_used,isSubscriptionActive:W,is_available:F.is_available!==!1,phone:F.phone,address:F.location||F.address||"",workplaceAddress:F.location||F.address||"",workingDistrict:F.working_district||"",googleMapsUrl:F.google_maps_url||"",working_hours:F.working_hours||{}}}).filter(F=>F!==null);console.log(" [Supabase] Visible barbers with active subscriptions:",q.length),S(FU(q))}catch(R){console.error("[Supabase] Fetch barbers exception:",R),console.error("[Supabase] Exception details:",{message:R?.message,stack:R?.stack}),S([])}finally{k(!1)}};y.useEffect(()=>{let R=!0;(async()=>{try{const{data:{session:L},error:D}=await Ke.auth.getSession();if(D){console.error("[AUTH] Session error:",D),R&&r(null);return}if(L?.user){const q=L.user.user_metadata?.role||"customer";await M(L.user.id,q)}else R&&r(null)}catch(L){console.error("[AUTH] Check user error:",L),R&&r(null)}finally{R&&A(!1)}})();const{data:{subscription:P}}=Ke.auth.onAuthStateChange(async(L,D)=>{if(L==="SIGNED_IN"&&D?.user){const q=D.user.user_metadata?.role||"customer";await M(D.user.id,q)}else L==="SIGNED_OUT"?R&&(r(null),v([]),E([])):L==="TOKEN_REFRESHED"&&D?.user});return()=>{R=!1,P.unsubscribe()}},[]);const M=async(R,T)=>{try{if(console.log(`[FETCH PROFILE] Fetching profile for ${T}:`,R),T==="customer"){const{data:P,error:L}=await Ke.from("customers").select("*").eq("id",R).single();return L||!P?(console.error("[FETCH PROFILE] Customer not found:",L),!1):(console.log("[FETCH PROFILE]  Customer loaded from database"),r({id:P.id,role:"customer",name:P.full_name,email:P.phone,phone:P.phone,avatar:"",bio:""}),h("search"),!0)}if(T==="barber"){const{data:P,error:L}=await Ke.from("barbers").select("*").eq("id",R).single();if(L||!P)return console.error("[FETCH PROFILE] Barber not found:",L),!1;const{data:D,error:q}=await Ke.from("v_barber_subscription").select("*").eq("barber_id",R).maybeSingle(),{data:F,error:$}=await Ke.from("subscriptions").select("*").eq("barber_id",R).order("created_at",{ascending:!1}).limit(1).maybeSingle();q&&console.warn("[FETCH PROFILE] Could not fetch subscription from v_barber_subscription view:",q),console.log("[FETCH PROFILE]  Barber loaded from database"),D||console.warn("[FETCH PROFILE]  No subscription record found in v_barber_subscription view for barber:",R),console.log("[FETCH PROFILE]  Subscription from v_barber_subscription view:",{subscriptionData:D,plan:D?.plan,status:D?.status,starts_at:D?.starts_at,ends_at:D?.ends_at,is_subscription_active:D?.is_subscription_active}),console.log("[FETCH PROFILE]  Database barber RAW DATA:",P),console.log("[FETCH PROFILE]  Database barber fields:",{id:P.id,full_name:P.full_name,phone:P.phone,bio:P.bio,working_district:P.working_district,districts:P.districts,languages:P.languages,location:P.location,address:P.address,google_maps_url:P.google_maps_url,avatar:P.avatar,gallery:P.gallery?.length||0,subscription_status:P.subscription_status});const{data:re,error:Se}=await Ke.from("services").select("*").eq("barber_id",R).order("created_at",{ascending:!0});Se&&console.error("[FETCH PROFILE] Services fetch error:",Se);const de=re||[];console.log("[FETCH PROFILE]  Services from database:",{count:de.length,services:de});const W=Array.isArray(P.districts)?P.districts:[],J=Array.isArray(P.languages)?P.languages:[],Ce=Array.isArray(P.specialties)?P.specialties:[],Oe=Array.isArray(P.gallery)?P.gallery:[],Re=(Array.isArray(P.gallery)?P.gallery:[]).map((xe,je)=>({id:`img-${Date.now()}-${je}`,url:xe,orderIndex:je}));let ot=0,ft=0;if(de.length>0){const xe=de.map(je=>je.price||0).filter(je=>je>0);xe.length>0&&(ot=Math.min(...xe),ft=Math.max(...xe))}console.log("[FETCH PROFILE]  Price range calculated:",{min:ot,max:ft});const Nt=new Date,lt=P.subscription_expiry_date?new Date(P.subscription_expiry_date):null,ve=P.subscription_status,Ae=ve==="active"||ve==="free_trial",Ie=lt&&lt>Nt;let Te=!1;if(Ie)Te=!0,console.log("[FETCH PROFILE]  Active based on barberData (future expiry)");else if(Ae&&(!lt||Ie))Te=!0,console.log("[FETCH PROFILE]  Active based on barberData (status active, no past expiry)");else if(F){const xe=F.expires_at?new Date(F.expires_at):null,je=F.status,rt=je==="active"||je==="free_trial",et=xe&&xe>Nt;et?(Te=!0,console.log("[FETCH PROFILE]  Active based on subscriptions table history")):rt&&(!xe||et)&&(Te=!0,console.log("[FETCH PROFILE]  Active based on subscriptions table status"))}!Te&&D&&(typeof D.is_subscription_active=="boolean"&&D.is_subscription_active?(Te=!0,console.log("[FETCH PROFILE]  Active based on view (fallback)")):D.ends_at&&new Date(D.ends_at)>Nt&&(Te=!0,console.log("[FETCH PROFILE]  Active based on view expiry (fallback)"))),console.log("[FETCH PROFILE]  Final subscription data:",{subscriptionDataExists:!!D,is_subscription_active_field:D?.is_subscription_active,ends_at:D?.ends_at,status:D?.status,plan:D?.plan,finalIsActive:Te,source:"Barbers Table Priority -> History -> View"});const ce={id:P.id,role:"barber",name:P.full_name||P.name||"",email:P.phone||"",phone:P.phone||"",avatar:P.avatar||"",bio:P.bio||"",description:P.description||"",services:de,districts:W,languages:J,specialties:Ce,gallery:Oe,interiorExteriorPhotos:Re,working_hours:P.working_hours||{},priceRange:{min:ot,max:ft},subscriptionStatus:P.subscription_status||F?.status||D?.status||"expired",subscriptionExpiryDate:P.subscription_expiry_date||F?.expires_at||D?.ends_at||null,currentPlan:P.subscription_plan||F?.plan_type||D?.plan||null,trialUsed:P.trial_used,isSubscriptionActive:Te,is_available:P.is_available!==!1,rating:P.rating||5,reviewCount:P.review_count||0,address:P.address||P.location||"",workingDistrict:P.working_district||"",workplaceAddress:P.address||P.location||"",googleMapsUrl:P.google_maps_url||""};return console.log("[FETCH PROFILE]  Subscription data being set in currentUser:",{currentPlan:ce.currentPlan,subscriptionStatus:ce.subscriptionStatus,subscriptionExpiryDate:ce.subscriptionExpiryDate,isSubscriptionActive:ce.isSubscriptionActive,rawSubscriptionData:D}),console.log("[FETCH PROFILE]  Setting currentUser from Supabase with fields:",{name:ce.name,phone:ce.phone,bio:ce.bio,districts:ce.districts,languages:ce.languages,workplaceAddress:ce.workplaceAddress,googleMapsUrl:ce.googleMapsUrl,servicesCount:ce.services.length}),r(ce),console.log("[FETCH PROFILE]  currentUser updated with services:",de.length),h("home"),!0}return!1}catch(P){return console.error("[FETCH PROFILE] Exception:",P),!1}};y.useEffect(()=>{B();const R=setInterval(B,1e4);return()=>clearInterval(R)},[]),y.useEffect(()=>{console.log(" [Realtime] Setting up barber availability subscription...");const R=Ke.channel("barber-availability-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"barbers"},T=>{console.log(" [Realtime] Barber table updated:",T),T.new&&"is_available"in T.new&&(console.log(" [Realtime] Availability changed, refetching barbers..."),B())}).subscribe(T=>{console.log(" [Realtime] Subscription status:",T)});return()=>{console.log(" [Realtime] Cleaning up barber availability subscription..."),Ke.removeChannel(R)}},[]),y.useEffect(()=>{const R=()=>{document.visibilityState==="visible"&&(console.log(" [Page Focus] Page became visible, refetching barbers..."),B())};return document.addEventListener("visibilitychange",R),()=>document.removeEventListener("visibilitychange",R)},[]),y.useEffect(()=>{if(!t){v([]),E([]);return}(async()=>{const T=localStorage.getItem("pendingBooking");if(T&&t.role==="customer"){console.log("[AUTH] Found pending booking after authentication, processing...");try{const P=JSON.parse(T),L=localStorage.getItem("trimly_session_token"),D=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/customers/ensure`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":L},body:JSON.stringify({auth_user_id:t.id,full_name:t.name||"Customer",phone:t.phone})});if(!D.ok)throw new Error("Failed to ensure customer exists");const{customer:q}=await D.json();console.log("[AUTH] Customer ensured:",q.id);const F={barberId:P.barberId,customerId:q.id,customerName:q.full_name,serviceType:P.serviceType,date:P.booking_date,startTime:P.start_time,endTime:P.end_time,duration:P.total_duration,price:P.total_price,slotId:P.slotId,serviceId:P.serviceId,source:P.source,barberName:P.barberName,barberAvatar:P.barberAvatar};await le(F),localStorage.removeItem("pendingBooking"),localStorage.removeItem("postLoginRedirect"),K.success(e("booking.bookingSuccess")||"Booking confirmed!"),h("bookings");return}catch(P){console.error("[AUTH] Failed to process pending booking:",P),K.error("Failed to complete booking. Please try again.")}}try{const P=localStorage.getItem("trimly_session_token");if(!P){console.error("No session token found"),v([]);return}const L=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/bookings`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":P}});if(!L.ok){const q=await L.json();console.error("Fetch bookings error:",q),v([]);return}const D=await L.json();console.log(" Bookings fetched successfully:",D.bookings?.length||0),v(D.bookings||[])}catch(P){console.error("Fetch bookings error",P),v([])}if(t.role==="customer")try{const P=localStorage.getItem("trimly_session_token");if(!P){console.error("No session token found for favorites fetch"),E([]);return}const L=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/favorites`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":P}});if(L.ok){const{favoriteIds:D}=await L.json();E(D||[])}else{const D=await L.json();console.error("Fetch favorites error:",D),E([])}}catch(P){console.error("Fetch favorites error",P),E([])}})()},[t]);const H=y.useMemo(()=>{if(!t||t.role!=="barber")return{totalCustomersThisWeek:0,todaysEarnings:0};const R=new Date().toISOString().split("T")[0],T=new Date;T.setDate(T.getDate()-7);const P=g.filter(D=>D.date===R&&D.status==="confirmed"&&D.barberId===t.id).reduce((D,q)=>D+(q.price||0),0);return{totalCustomersThisWeek:new Set(g.filter(D=>new Date(D.date)>=T&&D.status==="confirmed"&&D.barberId===t.id).map(D=>D.customerId||D.customerName)).size,todaysEarnings:P}},[g,t]),V=new Date().toISOString().split("T")[0],X=I.filter(R=>R.date===V&&R.barberId===t?.id),Z=R=>R==="INVALID_CREDENTIALS"?e("auth.invalidCredentials"):R,Q=async(R,T)=>{try{const P=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/auth/login`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`},body:JSON.stringify({phone:R.replace(/\s/g,""),password:T})}),L=await P.json();if(!P.ok)return console.error("Login error:",L.error),K.error(Z(L.error)||e("auth.invalidCredentials")),{success:!1,error:L.error};localStorage.setItem("trimly_session_token",L.sessionToken);const D=L.profile||L.user;r({id:L.user.id,role:L.user.role,name:L.user.fullName||L.user.name||"User",email:L.user.phone,phone:L.user.phone,avatar:D?.avatar||"",bio:D?.bio||"",...D}),console.log("[LOGIN]  Subscription data:",{subscriptionStatus:D?.subscriptionStatus,currentPlan:D?.currentPlan,subscriptionExpiryDate:D?.subscriptionExpiryDate,trialUsed:D?.trialUsed});const q=localStorage.getItem("pendingBooking");if(q&&L.user.role==="customer"){console.log("[LOGIN] Found pending booking, processing...");try{const F=JSON.parse(q),$=localStorage.getItem("trimly_session_token"),re=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/customers/ensure`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":$},body:JSON.stringify({auth_user_id:L.user.id,full_name:L.user.fullName||L.user.name||"Customer",phone:L.user.phone})});if(!re.ok)throw new Error("Failed to ensure customer exists");const{customer:Se}=await re.json();console.log("[LOGIN] Customer ensured:",Se.id);const de={barberId:F.barberId,customerId:Se.id,customerName:Se.full_name,serviceType:F.serviceType,date:F.booking_date,startTime:F.start_time,endTime:F.end_time,duration:F.total_duration,price:F.total_price,slotId:F.slotId,serviceId:F.serviceId,source:F.source,barberName:F.barberName,barberAvatar:F.barberAvatar};await le(de),localStorage.removeItem("pendingBooking"),localStorage.removeItem("postLoginRedirect"),K.success(e("booking.bookingSuccess")||"Booking confirmed!"),h("bookings")}catch(F){console.error("[LOGIN] Failed to process pending booking:",F),K.error("Failed to complete booking. Please try again.")}}else K.success(e("toast.welcomeBack")),h(L.user.role==="barber"?"home":"search");return{success:!0}}catch(P){return console.error("Login exception:",P),K.error(e("auth.invalidCredentials")),{success:!1,error:P.message}}},ue=async()=>{try{const R=localStorage.getItem("trimly_session_token");R&&await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${R}`}}),localStorage.removeItem("trimly_session_token")}catch(R){console.error("Logout error:",R)}r(null),h("search"),K.success(e("toast.loggedOut"))},fe=(R,T)=>{K.success(e("toast.accountCreated"))},be=async R=>{try{const T=localStorage.getItem("trimly_session_token");if(!T){K.error("Authentication required");return}console.log("[CANCEL] Initiating cancel for booking:",R);const P=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/bookings/${R}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":T}});if(!P.ok){const D=await P.json();throw console.error("Cancel error:",D),new Error(D.error||"Failed to cancel booking")}const L=await P.json();console.log(" Booking cancelled successfully:",L),v(D=>D.filter(q=>q.id!==R)),K.success(e("toast.bookingCancelled"))}catch(T){console.error("Cancel booking error:",T),K.error(T.message||"Failed to cancel booking")}},ie=async(R,T)=>{try{const P=localStorage.getItem("trimly_session_token");if(!P){K.error("Authentication required");return}console.log("[RESCHEDULE] Initiating reschedule:",{bookingId:R,newSlotId:T.slotId,newDate:T.date,newStartTime:T.startTime,newEndTime:T.endTime});const L=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/bookings/${R}/reschedule`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":P},body:JSON.stringify({new_slot_id:T.slotId,new_date:T.date,new_start_time:T.startTime,new_end_time:T.endTime})});if(!L.ok){const q=await L.json();throw console.error("Reschedule error:",q),new Error(q.error||"Failed to reschedule booking")}const D=await L.json();console.log(" Booking rescheduled successfully:",D),v(q=>q.map(F=>F.id===R?{...F,...T,status:"confirmed"}:F)),K.success(e("toast.appointmentRescheduled"))}catch(P){console.error("Reschedule booking error:",P),K.error(P.message||"Failed to reschedule")}},le=async R=>{if(!t){K.error("Please login to book");return}const T=QN();({...R});const P={booking_code:T,barber_id:R.barberId,customer_id:R.customerId,slot_id:R.slotId,service_id:R.serviceId,service_type:R.serviceType,date:R.date,start_time:R.startTime,end_time:R.endTime,duration:R.duration,price:R.price,customer_phone:R.customerPhone,source:R.source||"online",notes:R.notes};R.source==="manual"&&(P.manual_customer_name=R.manualCustomerName||R.customerName,P.manual_customer_phone=R.manualCustomerPhone||R.customerPhone,console.log("[BOOKING] Manual booking detected:",{manual_customer_name:P.manual_customer_name,manual_customer_phone:P.manual_customer_phone}));try{const L=localStorage.getItem("trimly_session_token");if(!L){K.error("Session expired. Please login again.");return}const D=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/bookings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":L},body:JSON.stringify(P)}),q=await D.json();if(!D.ok)throw console.error("[BOOKING CREATE] API error:",q),new Error(q.error||"Failed to create booking");console.log(" Booking created via API (slots already marked as booked by backend)");const F={id:q.booking.id,bookingCode:q.booking.booking_code,barberId:q.booking.barber_id,customerId:q.booking.customer_id,slotId:q.booking.slot_id,serviceId:q.booking.service_id,serviceType:q.booking.service_type,date:q.booking.date,startTime:q.booking.start_time,endTime:q.booking.end_time,duration:q.booking.duration,price:q.booking.price,status:q.booking.status,customerPhone:q.booking.customer_phone,source:q.booking.source,notes:q.booking.notes,barber:q.booking.barber?{id:q.booking.barber.id,full_name:q.booking.barber.full_name,avatar:q.booking.barber.avatar,phone:q.booking.barber.phone,location:q.booking.barber.location}:null,customer:q.booking.customer?{id:q.booking.customer.id,full_name:q.booking.customer.full_name,phone:q.booking.customer.phone}:null,barberName:q.booking.barber?.full_name||"Barber",barberAvatar:q.booking.barber?.avatar,customerName:q.booking.source==="manual"?q.booking.manual_customer_name||"Walk-in Customer":q.booking.customer?.full_name||"Customer",manualCustomerName:q.booking.manual_customer_name,manualCustomerPhone:q.booking.manual_customer_phone};v($=>[...$,F]),K.success(e("toast.bookingConfirmed"))}catch(L){K.error("Failed to create booking"),console.error(L)}},G=async R=>{if(t)try{if(console.log(" Updating profile...",{updatedProfile:R}),t.role==="barber"&&R.services){console.log(" Saving services via API...");const T=localStorage.getItem("trimly_session_token");if(!T){console.error(" No session token found in localStorage"),console.error(" Available localStorage keys:",Object.keys(localStorage)),K.error("Session expired. Please login again.");return}console.log(" Session token found:",{tokenPrefix:T.substring(0,20)+"...",tokenLength:T.length,currentUserId:t.id});const P=R.services.find(L=>!L.name||!L.name.trim()||typeof L.duration!="number"||L.duration<=0||typeof L.price!="number"||L.price<=0);if(P){console.error(" Invalid service data:",P),K.error(e("toast.serviceFieldsInvalid")||"Please fill in all service fields correctly");return}try{if(!t?.id){console.error(" currentUser.id is missing!",t),K.error("User session invalid. Please log in again.");return}const L=`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barbers/${t.id}/services`;console.log(" Sending services to API:",{url:L,servicesCount:R.services.length,services:R.services.map(F=>({name:F.name,duration:F.duration,price:F.price})),hasToken:!!T,barberId:t.id,barberIdType:typeof t.id});const D=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":T},body:JSON.stringify({services:R.services})}),q=await D.json();if(D.ok)console.log(" Services saved successfully:",q),q.services&&Array.isArray(q.services)&&(R.services=q.services);else{if(console.error("[Supabase][Services] save error",{status:D.status,statusText:D.statusText,error:q.error,details:q.details,barberId:t.id,responseData:q}),D.status===401){console.error(" Session expired or invalid. User needs to re-login."),localStorage.removeItem("trimly_session_token"),r(null),K.error("Your session has expired. Please log in again."),a("login"),h("profile");return}K.error(q.error||e("toast.servicesFailedSave")||"Failed to save services. Please try again.");return}}catch(L){console.error("[Supabase][Services] API error:",L),K.error(e("toast.servicesFailedSave")||"Failed to save services. Please try again.");return}}if(t.role==="barber"){let T=R.avatar||R.profileImage;T&&typeof T=="string"&&T.startsWith("data:")&&(T=null);let P=[];Array.isArray(R.gallery)?P=R.gallery.filter(J=>typeof J=="string"&&!J.startsWith("data:")):Array.isArray(R.interiorExteriorPhotos)&&(P=R.interiorExteriorPhotos.map(J=>typeof J=="string"&&!J.startsWith("data:")?J:J?.url&&typeof J.url=="string"&&!J.url.startsWith("data:")?J.url:null).filter(J=>J!==null));let L=R.priceRange?.min||0,D=R.priceRange?.max||0;if(R.services&&Array.isArray(R.services)&&R.services.length>0){const J=R.services.map(Ce=>Ce.price||0).filter(Ce=>Ce>0);J.length>0&&(L=Math.min(...J),D=Math.max(...J))}console.log("Saving barber profile via backend API...");const q=localStorage.getItem("trimly_session_token"),F=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/barber-profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":q||""},body:JSON.stringify({name:R.name||R.fullName,fullName:R.name||R.fullName,phone:R.phone,bio:R.bio||"",description:R.description||"",barbershopName:R.barbershopName||"",address:R.location||R.workplaceAddress||"",location:R.location||R.workplaceAddress||"",googleMapsUrl:R.googleMapsUrl||"",avatar:T||void 0,languages:Array.isArray(R.languages)?R.languages:[],districts:Array.isArray(R.districts)?R.districts:[],specialties:Array.isArray(R.specialties)?R.specialties:[],servicesForKids:R.servicesForKids,gallery:P,priceRangeMin:L,priceRangeMax:D})}),$=await F.json();if(!F.ok){console.error(" [BARBER PROFILE SAVE] Backend API error:",$),console.error("[BARBER PROFILE SAVE] Full Supabase error:",$.supabaseError),K.error(e("toast.profileFailedSave")||"Failed to save profile. Please try again.");return}console.log(" [BARBER PROFILE SAVE] Successfully saved to Supabase via backend"),console.log(" Reloading services from database...");const{data:re,error:Se}=await Ke.from("services").select("*").eq("barber_id",t.id).order("created_at",{ascending:!0});!Se&&re&&(console.log(" Loaded services from database:",re.length),R.services=re),console.log("[Barber Profile] Re-fetching barber profile from database...");const{data:de,error:W}=await Ke.from("barbers").select("*").eq("id",t.id).maybeSingle();!W&&de?(console.log("[Barber Profile]  Barber profile re-fetched from database"),r(J=>J?{...J,name:de.full_name||de.name,phone:de.phone,avatar:de.avatar||"",bio:de.bio||"",services:R.services,districts:Array.isArray(de.districts)?de.districts:[],languages:Array.isArray(de.languages)?de.languages:[],specialties:Array.isArray(de.specialties)?de.specialties:[],gallery:Array.isArray(de.gallery)?de.gallery:[],working_hours:de.working_hours||{},address:de.address,workingDistrict:de.working_district,workplaceAddress:de.address||de.location||"",googleMapsUrl:de.google_maps_url||"",subscriptionStatus:de.subscription_status,subscriptionExpiryDate:de.subscription_expiry_date,currentPlan:de.subscription_plan,trialUsed:de.trial_used,rating:de.rating||5,reviewCount:de.review_count||0}:null)):console.warn("[Barber Profile]  Could not re-fetch barber profile, keeping current state")}if(t.role!=="barber"){console.log("[Customer Profile] Starting update for customer:",t.id);const T=R.name||R.fullName;if(!T||!T.trim()){K.error(e("toast.profileFailedSave")||"Name cannot be empty.");return}try{console.log("[Customer Profile] Checking if customer exists in database...");const{data:P,error:L}=await Ke.from("customers").select("id, full_name, phone").eq("id",t.id).maybeSingle();if(L){console.error("[Customer Profile] Error checking customer existence:",L),K.error(e("toast.profileFailedSave")||"Failed to verify customer profile.");return}if(!P){console.warn("[Customer Profile]  Customer does not exist in customers table. Creating...");const{data:re,error:Se}=await Ke.from("customers").insert({id:t.id,full_name:T,phone:t.phone||""}).select().single();if(Se){console.error("[Customer Profile] Error creating customer:",Se),K.error(e("toast.profileFailedSave")||"Failed to create customer profile.");return}console.log("[Customer Profile]  Customer created:",re),r(de=>de?{...de,name:re.full_name,phone:re.phone}:null),K.success(e("toast.profileUpdated")||"Profile created successfully");return}console.log("[Customer Profile]  Customer exists:",P),console.log("[Customer Profile] Calling RPC update_customer_name:",{p_customer_id:t.id,p_full_name:T});const{data:D,error:q}=await Ke.rpc("update_customer_name",{p_customer_id:t.id,p_full_name:T});if(q){console.error("[Customer Profile] RPC error:",q),K.error(e("toast.profileFailedSave")||"Failed to save profile.");return}console.log("[Customer Profile]  RPC update successful:",D),console.log("[Customer Profile] Re-fetching customer profile from database...");const{data:F,error:$}=await Ke.from("customers").select("*").eq("id",t.id).maybeSingle();if($){console.error("[Customer Profile] Re-fetch error:",$),console.warn("[Customer Profile]  Could not re-fetch, updating state optimistically"),r(re=>re?{...re,name:T,phone:t.phone}:null),K.success(e("toast.profileUpdated")||"Profile updated successfully");return}if(!F){console.error("[Customer Profile]  Customer not found after RPC update"),r(re=>re?{...re,name:T,phone:t.phone}:null),K.success(e("toast.profileUpdated")||"Profile updated successfully");return}console.log("[Customer Profile]  Customer profile re-fetched:",F),r(re=>re?{...re,name:F.full_name,phone:F.phone,avatar:F.avatar||re.avatar}:null),K.success(e("toast.profileUpdated")||"Profile updated successfully")}catch(P){console.error("[Customer Profile] RPC exception:",P),K.error(e("toast.profileFailedSave")||"Failed to save profile.");return}}console.log(" Refetching barbers to update price range on customer homepage..."),await B(),console.log(" Barbers refetched successfully")}catch(T){console.error("[Supabase][Profile] update exception:",T),T?.message&&console.error("[Supabase][Profile] Error details:",{message:T.message,code:T.code,details:T.details,hint:T.hint}),K.error(e("toast.profileUpdateFailed")||"Failed to update profile. Please try again.")}},U=async R=>{if(!t){K.info(e("auth.loginRequired")||"Please login to add favorites"),a("login"),h("profile");return}const T=j.includes(R);try{const P=localStorage.getItem("trimly_session_token");if(!P){K.error("Session expired. Please login again.");return}if(T){const D=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/favorites/${R}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":P}});if(!D.ok){const q=await D.json();console.error("[FAVORITES] Delete error:",q),K.error("Failed to remove favorite");return}K.success(e("toast.removedFromFavorites")||"Removed from favorites")}else{const D=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/favorites`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":P},body:JSON.stringify({barber_id:R})});if(!D.ok){const q=await D.json();console.error("[FAVORITES] Insert error:",q),K.error("Failed to add favorite");return}K.success(e("toast.addedToFavorites")||"Added to favorites")}const L=await fetch(`https://${dt}.supabase.co/functions/v1/make-server-166b98fa/favorites`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`,"X-Session-Token":P}});if(L.ok){const{favoriteIds:D}=await L.json();E(D)}else console.error("[FAVORITES] Failed to fetch favorites after update")}catch(P){console.error("[FAVORITES] Exception:",P),K.error("Failed to update favorites")}};return y.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[u]),y.useMemo(()=>t?t.role==="customer"?["search","favorites","home","profile"]:t.role==="barber"?["home","schedule","subscription","edit-profile"]:["search","profile"]:["search","profile"],[t]),_?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):f?o.jsx(PU,{onRetry:()=>p(!1)}):o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(z3,{currentUser:t,onLogout:ue,activeTab:u,onTabChange:h}),o.jsx("div",{className:"flex-1 flex flex-col",children:!t&&u==="profile"?n==="login"?o.jsx(bD,{onLogin:Q,onNavigateToSignUp:()=>a("signup")}):o.jsx($3,{onSignUp:fe,onNavigateToLogin:()=>a("login")}):t?.role==="barber"?o.jsx(TU,{barberName:t.name,stats:H,todaysBookings:X,allBookings:I.filter(R=>R.barberId===t?.id),activeTab:u,onTabChange:h,barberProfile:t,onUpdateProfile:G,onSaveManualBooking:le,onDeleteManualBooking:be,onAddBooking:le}):o.jsx(V6,{customer:t,bookings:I,activeTab:u,onTabChange:h,onCancelBooking:be,onRescheduleBooking:ie,onBookAgain:()=>{},onAddBooking:le,onUpdateProfile:G,barbers:b,isBarbersLoading:N,favoriteIds:j,onToggleFavorite:U,onNavigateToLogin:()=>{h("profile"),a("login")}})}),o.jsx(AU,{}),o.jsx(MU,{position:"top-right",richColors:!0}),o.jsx(i6,{})]})}function $U(){if(window.location.pathname==="/admin-sync"||window.location.hash==="#/admin-sync")return o.jsx(q0,{children:o.jsx(LU,{})});const t=window.location.pathname.match(/^\/b\/([^\/]+)$/);if(t){const r=t[1];console.log(" [App] Barber username route detected:",r);const n=new URL(window.location.href);n.searchParams.has("username")||(n.searchParams.set("username",r),window.history.replaceState({},"",n.toString()))}return o.jsx(q0,{children:o.jsx(UU,{})})}wC.createRoot(document.getElementById("root")).render(o.jsx(ke.StrictMode,{children:o.jsx($U,{})}));
